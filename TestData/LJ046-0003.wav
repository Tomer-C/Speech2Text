SxvKT50LmdldChpLG8pJiYoaT1hKTtpZih0LmdldChpLG8pPT09MClvKys7ZWxzZXt0LnN3YXBSb3dzKGUsaSk7bGV0IGE9dC5nZXQoZSxvKTtmb3IobGV0IHI9bztyPHQuY29sdW1ucztyKyspdC5zZXQoZSxyLHQuZ2V0KGUscikvYSk7Zm9yKGxldCByPWUrMTtyPHQucm93cztyKyspe2xldCBzPXQuZ2V0KHIsbykvdC5nZXQoZSxvKTt0LnNldChyLG8sMCk7Zm9yKGxldCBsPW8rMTtsPHQuY29sdW1ucztsKyspdC5zZXQocixsLHQuZ2V0KHIsbCktdC5nZXQoZSxsKSpzKX1lKyssbysrfX1yZXR1cm4gdH1yZWR1Y2VkRWNoZWxvbkZvcm0oKXtsZXQgdD10aGlzLmVjaGVsb25Gb3JtKCksZT10LmNvbHVtbnMsbz10LnJvd3MsaT1vLTE7Zm9yKDtpPj0wOylpZih0Lm1heFJvdyhpKT09PTApaS0tO2Vsc2V7bGV0IGE9MCxyPSExO2Zvcig7YTxvJiZyPT09ITE7KXQuZ2V0KGksYSk9PT0xP3I9ITA6YSsrO2ZvcihsZXQgcz0wO3M8aTtzKyspe2xldCBsPXQuZ2V0KHMsYSk7Zm9yKGxldCBjPWE7YzxlO2MrKyl7bGV0IG09dC5nZXQocyxjKS1sKnQuZ2V0KGksYyk7dC5zZXQocyxjLG0pfX1pLS19cmV0dXJuIHR9c2V0KCl7dGhyb3cgbmV3IEVycm9yKCJzZXQgbWV0aG9kIGlzIHVuaW1wbGVtZW50ZWQiKX1nZXQoKXt0aHJvdyBuZXcgRXJyb3IoImdldCBtZXRob2QgaXMgdW5pbXBsZW1lbnRlZCIpfXJlcGVhdCh0PXt9KXtpZih0eXBlb2YgdCE9Im9iamVjdCIpdGhyb3cgbmV3IFR5cGVFcnJvcigib3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCIpO2xldHtyb3dzOmU9MSxjb2x1bW5zOm89MX09dDtpZighTnVtYmVyLmlzSW50ZWdlcihlKXx8ZTw9MCl0aHJvdyBuZXcgVHlwZUVycm9yKCJyb3dzIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIik7aWYoIU51bWJlci5pc0ludGVnZXIobyl8fG88PTApdGhyb3cgbmV3IFR5cGVFcnJvcigiY29sdW1ucyBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciIpO2xldCBpPW5ldyB2bih0aGlzLnJvd3MqZSx0aGlzLmNvbHVtbnMqbyk7Zm9yKGxldCBhPTA7YTxlO2ErKylmb3IobGV0IHI9MDtyPG87cisrKWkuc2V0U3ViTWF0cml4KHRoaXMsdGhpcy5yb3dzKmEsdGhpcy5jb2x1bW5zKnIpO3JldHVybiBpfWZpbGwodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLnJvd3M7ZSsrKWZvcihsZXQgbz0wO288dGhpcy5jb2x1bW5zO28rKyl0aGlzLnNldChlLG8sdCk7cmV0dXJuIHRoaXN9bmVnKCl7cmV0dXJuIHRoaXMubXVsUygtMSl9Z2V0Um93KHQpe3BDKHRoaXMsdCk7bGV0IGU9W107Zm9yKGxldCBvPTA7bzx0aGlzLmNvbHVtbnM7bysrKWUucHVzaCh0aGlzLmdldCh0LG8pKTtyZXR1cm4gZX1nZXRSb3dWZWN0b3IodCl7cmV0dXJuIHZuLnJvd1ZlY3Rvcih0aGlzLmdldFJvdyh0KSl9c2V0Um93KHQsZSl7cEModGhpcyx0KSxlPUcxKHRoaXMsZSk7Zm9yKGxldCBvPTA7bzx0aGlzLmNvbHVtbnM7bysrKXRoaXMuc2V0KHQsbyxlW29dKTtyZXR1cm4gdGhpc31zd2FwUm93cyh0LGUpe3BDKHRoaXMsdCkscEModGhpcyxlKTtmb3IobGV0IG89MDtvPHRoaXMuY29sdW1ucztvKyspe2xldCBpPXRoaXMuZ2V0KHQsbyk7dGhpcy5zZXQodCxvLHRoaXMuZ2V0KGUsbykpLHRoaXMuc2V0KGUsbyxpKX1yZXR1cm4gdGhpc31nZXRDb2x1bW4odCl7ZEModGhpcyx0KTtsZXQgZT1bXTtmb3IobGV0IG89MDtvPHRoaXMucm93cztvKyspZS5wdXNoKHRoaXMuZ2V0KG8sdCkpO3JldHVybiBlfWdldENvbHVtblZlY3Rvcih0KXtyZXR1cm4gdm4uY29sdW1uVmVjdG9yKHRoaXMuZ2V0Q29sdW1uKHQpKX1zZXRDb2x1bW4odCxlKXtkQyh0aGlzLHQpLGU9VzEodGhpcyxlKTtmb3IobGV0IG89MDtvPHRoaXMucm93cztvKyspdGhpcy5zZXQobyx0LGVbb10pO3JldHVybiB0aGlzfXN3YXBDb2x1bW5zKHQsZSl7ZEModGhpcyx0KSxkQyh0aGlzLGUpO2ZvcihsZXQgbz0wO288dGhpcy5yb3dzO28rKyl7bGV0IGk9dGhpcy5nZXQobyx0KTt0aGlzLnNldChvLHQsdGhpcy5nZXQobyxlKSksdGhpcy5zZXQobyxlLGkpfXJldHVybiB0aGlzfWFkZFJvd1ZlY3Rvcih0KXt0PUcxKHRoaXMsdCk7Zm9yKGxldCBlPTA7ZTx0aGlzLnJvd3M7ZSsrKWZvcihsZXQgbz0wO288dGhpcy5jb2x1bW5zO28rKyl0aGlzLnNldChlLG8sdGhpcy5nZXQoZSxvKSt0W29dKTtyZXR1cm4gdGhpc31zdWJSb3dWZWN0b3IodCl7dD1HMSh0aGlzLHQpO2ZvcihsZXQgZT0wO2U8dGhpcy5yb3dzO2UrKylmb3IobGV0IG89MDtvPHRoaXMuY29sdW1ucztvKyspdGhpcy5zZXQoZSxvLHRoaXMuZ2V0KGUsbyktdFtvXSk7cmV0dXJuIHRoaXN9bXVsUm93VmVjdG9yKHQpe3Q9RzEodGhpcyx0KTtmb3IobGV0IGU9MDtlPHRoaXMucm93cztlKyspZm9yKGxldCBvPTA7bzx0aGlzLmNvbHVtbnM7bysrKXRoaXMuc2V0KGUsbyx0aGlzLmdldChlLG8pKnRbb10pO3JldHVybiB0aGlzfWRpdlJvd1ZlY3Rvcih0KXt0PUcxKHRoaXMsdCk7Zm9yKGxldCBlPTA7ZTx0aGlzLnJvd3M7ZSsrKWZvcihsZXQgbz0wO288dGhpcy5jb2x1bW5zO28rKyl0aGlzLnNldChlLG8sdGhpcy5nZXQoZSxvKS90W29dKTtyZXR1cm4gdGhpc31hZGRDb2x1bW5WZWN0b3IodCl7dD1XMSh0aGlzLHQpO2ZvcihsZXQgZT0wO2U8dGhpcy5yb3dzO2UrKylmb3IobGV0IG89MDtvPHRoaXMuY29sdW1ucztvKyspdGhpcy5zZXQoZSxvLHRoaXMuZ2V0KGUsbykrdFtlXSk7cmV0dXJuIHRoaXN9c3ViQ29sdW1uVmVjdG9yKHQpe3Q9VzEodGhpcyx0KTtmb3IobGV0IGU9MDtlPHRoaXMucm93cztlKyspZm9yKGxldCBvPTA7bzx0aGlzLmNvbHVtbnM7bysrKXRoaXMuc2V0KGUsbyx0aGlzLmdldChlLG8pLXRbZV0pO3JldHVybiB0aGlzfW11bENvbHVtblZlY3Rvcih0KXt0PVcxKHRoaXMsdCk7Zm9yKGxldCBlPTA7ZTx0aGlzLnJvd3M7ZSsrKWZvcihsZXQgbz0wO288dGhpcy5jb2x1bW5zO28rKyl0aGlzLnNldChlLG8sdGhpcy5nZXQoZSxvKSp0W2VdKTtyZXR1cm4gdGhpc31kaXZDb2x1bW5WZWN0b3IodCl7dD1XMSh0aGlzLHQpO2ZvcihsZXQgZT0wO2U8dGhpcy5yb3dzO2UrKylmb3IobGV0IG89MDtvPHRoaXMuY29sdW1ucztvKyspdGhpcy5zZXQoZSxvLHRoaXMuZ2V0KGUsbykvdFtlXSk7cmV0dXJuIHRoaXN9bXVsUm93KHQsZSl7cEModGhpcyx0KTtmb3IobGV0IG89MDtvPHRoaXMuY29sdW1ucztvKyspdGhpcy5zZXQodCxvLHRoaXMuZ2V0KHQsbykqZSk7cmV0dXJuIHRoaXN9bXVsQ29sdW1uKHQsZSl7ZEModGhpcyx0KTtmb3IobGV0IG89MDtvPHRoaXMucm93cztvKyspdGhpcy5zZXQobyx0LHRoaXMuZ2V0KG8sdCkqZSk7cmV0dXJuIHRoaXN9bWF4KCl7aWYodGhpcy5pc0VtcHR5KCkpcmV0dXJuIE5hTjtsZXQgdD10aGlzLmdldCgwLDApO2ZvcihsZXQgZT0wO2U8dGhpcy5yb3dzO2UrKylmb3IobGV0IG89MDtvPHRoaXMuY29sdW1ucztvKyspdGhpcy5nZXQoZSxvKT50JiYodD10aGlzLmdldChlLG8pKTtyZXR1cm4gdH1tYXhJbmRleCgpe3ExKHRoaXMpO2xldCB0PXRoaXMuZ2V0KDAsMCksZT1bMCwwXTtmb3IobGV0IG89MDtvPHRoaXMucm93cztvKyspZm9yKGxldCBpPTA7aTx0aGlzLmNvbHVtbnM7aSsrKXRoaXMuZ2V0KG8saSk+dCYmKHQ9dGhpcy5nZXQobyxpKSxlWzBdPW8sZVsxXT1pKTtyZXR1cm4gZX1taW4oKXtpZih0aGlzLmlzRW1wdHkoKSlyZXR1cm4gTmFOO2xldCB0PXRoaXMuZ2V0KDAsMCk7Zm9yKGxldCBlPTA7ZTx0aGlzLnJvd3M7ZSsrKWZvcihsZXQgbz0wO288dGhpcy5jb2x1bW5zO28rKyl0aGlzLmdldChlLG8pPHQmJih0PXRoaXMuZ2V0KGUsbykpO3JldHVybiB0fW1pbkluZGV4KCl7cTEodGhpcyk7bGV0IHQ9dGhpcy5nZXQoMCwwKSxlPVswLDBdO2ZvcihsZXQgbz0wO288dGhpcy5yb3dzO28rKylmb3IobGV0IGk9MDtpPHRoaXMuY29sdW1ucztpKyspdGhpcy5nZXQobyxpKTx0JiYodD10aGlzLmdldChvLGkpLGVbMF09byxlWzFdPWkpO3JldHVybiBlfW1heFJvdyh0KXtpZihwQyh0aGlzLHQpLHRoaXMuaXNFbXB0eSgpKXJldHVybiBOYU47bGV0IGU9dGhpcy5nZXQodCwwKTtmb3IobGV0IG89MTtvPHRoaXMuY29sdW1ucztvKyspdGhpcy5nZXQodCxvKT5lJiYoZT10aGlzLmdldCh0LG8pKTtyZXR1cm4gZX1tYXhSb3dJbmRleCh0KXtwQyh0aGlzLHQpLHExKHRoaXMpO2xldCBlPXRoaXMuZ2V0KHQsMCksbz1bdCwwXTtmb3IobGV0IGk9MTtpPHRoaXMuY29sdW1ucztpKyspdGhpcy5nZXQodCxpKT5lJiYoZT10aGlzLmdldCh0LGkpLG9bMV09aSk7cmV0dXJuIG99bWluUm93KHQpe2lmKHBDKHRoaXMsdCksdGhpcy5pc0VtcHR5KCkpcmV0dXJuIE5hTjtsZXQgZT10aGlzLmdldCh0LDApO2ZvcihsZXQgbz0xO288dGhpcy5jb2x1bW5zO28rKyl0aGlzLmdldCh0LG8pPGUmJihlPXRoaXMuZ2V0KHQsbykpO3JldHVybiBlfW1pblJvd0luZGV4KHQpe3BDKHRoaXMsdCkscTEodGhpcyk7bGV0IGU9dGhpcy5nZXQodCwwKSxvPVt0LDBdO2ZvcihsZXQgaT0xO2k8dGhpcy5jb2x1bW5zO2krKyl0aGlzLmdldCh0LGkpPGUmJihlPXRoaXMuZ2V0KHQsaSksb1sxXT1pKTtyZXR1cm4gb31tYXhDb2x1bW4odCl7aWYoZEModGhpcyx0KSx0aGlzLmlzRW1wdHkoKSlyZXR1cm4gTmFOO2xldCBlPXRoaXMuZ2V0KDAsdCk7Zm9yKGxldCBvPTE7bzx0aGlzLnJvd3M7bysrKXRoaXMuZ2V0KG8sdCk+ZSYmKGU9dGhpcy5nZXQobyx0KSk7cmV0dXJuIGV9bWF4Q29sdW1uSW5kZXgodCl7ZEModGhpcyx0KSxxMSh0aGlzKTtsZXQgZT10aGlzLmdldCgwLHQpLG89WzAsdF07Zm9yKGxldCBpPTE7aTx0aGlzLnJvd3M7aSsrKXRoaXMuZ2V0KGksdCk+ZSYmKGU9dGhpcy5nZXQoaSx0KSxvWzBdPWkpO3JldHVybiBvfW1pbkNvbHVtbih0KXtpZihkQyh0aGlzLHQpLHRoaXMuaXNFbXB0eSgpKXJldHVybiBOYU47bGV0IGU9dGhpcy5nZXQoMCx0KTtmb3IobGV0IG89MTtvPHRoaXMucm93cztvKyspdGhpcy5nZXQobyx0KTxlJiYoZT10aGlzLmdldChvLHQpKTtyZXR1cm4gZX1taW5Db2x1bW5JbmRleCh0KXtkQyh0aGlzLHQpLHExKHRoaXMpO2xldCBlPXRoaXMuZ2V0KDAsdCksbz1bMCx0XTtmb3IobGV0IGk9MTtpPHRoaXMucm93cztpKyspdGhpcy5nZXQoaSx0KTxlJiYoZT10aGlzLmdldChpLHQpLG9bMF09aSk7cmV0dXJuIG99ZGlhZygpe2xldCB0PU1hdGgubWluKHRoaXMucm93cyx0aGlzLmNvbHVtbnMpLGU9W107Zm9yKGxldCBvPTA7bzx0O28rKyllLnB1c2godGhpcy5nZXQobyxvKSk7cmV0dXJuIGV9bm9ybSh0PSJmcm9iZW5pdXMiKXtsZXQgZT0wO2lmKHQ9PT0ibWF4IilyZXR1cm4gdGhpcy5tYXgoKTtpZih0PT09ImZyb2Jlbml1cyIpe2ZvcihsZXQgbz0wO288dGhpcy5yb3dzO28rKylmb3IobGV0IGk9MDtpPHRoaXMuY29sdW1ucztpKyspZT1lK3RoaXMuZ2V0KG8saSkqdGhpcy5nZXQobyxpKTtyZXR1cm4gTWF0aC5zcXJ0KGUpfWVsc2UgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYHVua25vd24gbm9ybSB0eXBlOiAke3R9YCl9Y3VtdWxhdGl2ZVN1bSgpe2xldCB0PTA7Zm9yKGxldCBlPTA7ZTx0aGlzLnJvd3M7ZSsrKWZvcihsZXQgbz0wO288dGhpcy5jb2x1bW5zO28rKyl0Kz10aGlzLmdldChlLG8pLHRoaXMuc2V0KGUsbyx0KTtyZXR1cm4gdGhpc31kb3QodCl7QW8uaXNNYXRyaXgodCkmJih0PXQudG8xREFycmF5KCkpO2xldCBlPXRoaXMudG8xREFycmF5KCk7aWYoZS5sZW5ndGghPT10Lmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigidmVjdG9ycyBkbyBub3QgaGF2ZSB0aGUgc2FtZSBzaXplIik7bGV0IG89MDtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKylvKz1lW2ldKnRbaV07cmV0dXJuIG99bW11bCh0KXt0PXZuLmNoZWNrTWF0cml4KHQpO2xldCBlPXRoaXMucm93cyxvPXRoaXMuY29sdW1ucyxpPXQuY29sdW1ucyxhPW5ldyB2bihlLGkpLHI9bmV3IEZsb2F0NjRBcnJheShvKTtmb3IobGV0IHM9MDtzPGk7cysrKXtmb3IobGV0IGw9MDtsPG87bCsrKXJbbF09dC5nZXQobCxzKTtmb3IobGV0IGw9MDtsPGU7bCsrKXtsZXQgYz0wO2ZvcihsZXQgbT0wO208bzttKyspYys9dGhpcy5nZXQobCxtKSpyW21dO2Euc2V0KGwscyxjKX19cmV0dXJuIGF9c3RyYXNzZW4yeDIodCl7dD12bi5jaGVja01hdHJpeCh0KTtsZXQgZT1uZXcgdm4oMiwyKSxvPXRoaXMuZ2V0KDAsMCksaT10LmdldCgwLDApLGE9dGhpcy5nZXQoMCwxKSxyPXQuZ2V0KDAsMSkscz10aGlzLmdldCgxLDApLGw9dC5nZXQoMSwwKSxjPXRoaXMuZ2V0KDEsMSksbT10LmdldCgxLDEpLGY9KG8rYykqKGkrbSkscD0ocytjKSppLGc9byooci1tKSxfPWMqKGwtaSksTT0obythKSptLHk9KHMtbykqKGkrciksTz0oYS1jKSoobCttKSxiPWYrXy1NK08sUj1nK00sRT1wK18saj1mLXArZyt5O3JldHVybiBlLnNldCgwLDAsYiksZS5zZXQoMCwxLFIpLGUuc2V0KDEsMCxFKSxlLnNldCgxLDEsaiksZX1zdHJhc3NlbjN4Myh0KXt0PXZuLmNoZWNrTWF0cml4KHQpO2xldCBlPW5ldyB2bigzLDMpLG89dGhpcy5nZXQoMCwwKSxpPXRoaXMuZ2V0KDAsMSksYT10aGlzLmdldCgwLDIpLHI9dGhpcy5nZXQoMSwwKSxzPXRoaXMuZ2V0KDEsMSksbD10aGlzLmdldCgxLDIpLGM9dGhpcy5nZXQoMiwwKSxtPXRoaXMuZ2V0KDIsMSksZj10aGlzLmdldCgyLDIpLHA9dC5nZXQoMCwwKSxnPXQuZ2V0KDAsMSksXz10LmdldCgwLDIpLE09dC5nZXQoMSwwKSx5PXQuZ2V0KDEsMSksTz10LmdldCgxLDIpLGI9dC5nZXQoMiwwKSxSPXQuZ2V0KDIsMSksRT10LmdldCgyLDIpLGo9KG8raSthLXItcy1tLWYpKnkscnQ9KG8tcikqKC1nK3kpLEo9cyooLXArZytNLXktTy1iK0UpLEV0PSgtbytyK3MpKihwLWcreSksanQ9KHIrcykqKC1wK2cpLGt0PW8qcCx3PSgtbytjK20pKihwLV8rTyksVT0oLW8rYykqKF8tTyksbnQ9KGMrbSkqKC1wK18pLGx0PShvK2krYS1zLWwtYy1tKSpPLGJ0PW0qKC1wK18rTS15LU8tYitSKSxvdD0oLWErbStmKSooeStiLVIpLHV0PShhLWYpKih5LVIpLGd0PWEqYixXdD0obStmKSooLWIrUiksUnQ9KC1hK3MrbCkqKE8rYi1FKSxHdD0oYS1sKSooTy1FKSx5ZT0ocytsKSooLWIrRSksamU9aSpNLGNlPWwqUixMdD1yKl8sUG49YypnLFZlPWYqRSxEZT1rdCtndCtqZSxxdD1qK0V0K2p0K2t0K290K2d0K1d0LExlPWt0K3crbnQrbHQrZ3QrUnQreWUsSGU9cnQrSitFdCtrdCtndCtSdCtHdCxodD1ydCtFdCtqdCtrdCtjZSxSZT1ndCtSdCtHdCt5ZStMdCxmZT1rdCt3K1UrYnQrb3QrdXQrZ3QsVWU9b3QrdXQrZ3QrV3QrUG4sRmU9a3QrdytVK250K1ZlO3JldHVybiBlLnNldCgwLDAsRGUpLGUuc2V0KDAsMSxxdCksZS5zZXQoMCwyLExlKSxlLnNldCgxLDAsSGUpLGUuc2V0KDEsMSxodCksZS5zZXQoMSwyLFJlKSxlLnNldCgyLDAsZmUpLGUuc2V0KDIsMSxVZSksZS5zZXQoMiwyLEZlKSxlfW1tdWxTdHJhc3Nlbih0KXt0PXZuLmNoZWNrTWF0cml4KHQpO2xldCBlPXRoaXMuY2xvbmUoKSxvPWUucm93cyxpPWUuY29sdW1ucyxhPXQucm93cyxyPXQuY29sdW1ucztpIT09YSYmY29uc29sZS53YXJuKGBNdWx0aXBseWluZyAke299IHggJHtpfSBhbmQgJHthfSB4ICR7cn0gbWF0cml4OiBkaW1lbnNpb25zIGRvIG5vdCBtYXRjaC5gKTtmdW5jdGlvbiBzKGYscCxnKXtsZXQgXz1mLnJvd3MsTT1mLmNvbHVtbnM7aWYoXz09PXAmJk09PT1nKXJldHVybiBmO3tsZXQgeT1Bby56ZXJvcyhwLGcpO3JldHVybiB5PXkuc2V0U3ViTWF0cml4KGYsMCwwKSx5fX1sZXQgbD1NYXRoLm1heChvLGEpLGM9TWF0aC5tYXgoaSxyKTtlPXMoZSxsLGMpLHQ9cyh0LGwsYyk7ZnVuY3Rpb24gbShmLHAsZyxfKXtpZihnPD01MTJ8fF88PTUxMilyZXR1cm4gZi5tbXVsKHApO2clMj09PTEmJl8lMj09PTE/KGY9cyhmLGcrMSxfKzEpLHA9cyhwLGcrMSxfKzEpKTpnJTI9PT0xPyhmPXMoZixnKzEsXykscD1zKHAsZysxLF8pKTpfJTI9PT0xJiYoZj1zKGYsZyxfKzEpLHA9cyhwLGcsXysxKSk7bGV0IE09cGFyc2VJbnQoZi5yb3dzLzIsMTApLHk9cGFyc2VJbnQoZi5jb2x1bW5zLzIsMTApLE89Zi5zdWJNYXRyaXgoMCxNLTEsMCx5LTEpLGI9cC5zdWJNYXRyaXgoMCxNLTEsMCx5LTEpLFI9Zi5zdWJNYXRyaXgoMCxNLTEseSxmLmNvbHVtbnMtMSksRT1wLnN1Yk1hdHJpeCgwLE0tMSx5LHAuY29sdW1ucy0xKSxqPWYuc3ViTWF0cml4KE0sZi5yb3dzLTEsMCx5LTEpLHJ0PXAuc3ViTWF0cml4KE0scC5yb3dzLTEsMCx5LTEpLEo9Zi5zdWJNYXRyaXgoTSxmLnJvd3MtMSx5LGYuY29sdW1ucy0xKSxFdD1wLnN1Yk1hdHJpeChNLHAucm93cy0xLHkscC5jb2x1bW5zLTEpLGp0PW0oQW8uYWRkKE8sSiksQW8uYWRkKGIsRXQpLE0seSksa3Q9bShBby5hZGQoaixKKSxiLE0seSksdz1tKE8sQW8uc3ViKEUsRXQpLE0seSksVT1tKEosQW8uc3ViKHJ0LGIpLE0seSksbnQ9bShBby5hZGQoTyxSKSxFdCxNLHkpLGx0PW0oQW8uc3ViKGosTyksQW8uYWRkKGIsRSksTSx5KSxidD1tKEFvLnN1YihSLEopLEFvLmFkZChydCxFdCksTSx5KSxvdD1Bby5hZGQoanQsVSk7b3Quc3ViKG50KSxvdC5hZGQoYnQpO2xldCB1dD1Bby5hZGQodyxudCksZ3Q9QW8uYWRkKGt0LFUpLFd0PUFvLnN1YihqdCxrdCk7V3QuYWRkKHcpLFd0LmFkZChsdCk7bGV0IFJ0PUFvLnplcm9zKDIqb3Qucm93cywyKm90LmNvbHVtbnMpO3JldHVybiBSdD1SdC5zZXRTdWJNYXRyaXgob3QsMCwwKSxSdD1SdC5zZXRTdWJNYXRyaXgodXQsb3Qucm93cywwKSxSdD1SdC5zZXRTdWJNYXRyaXgoZ3QsMCxvdC5jb2x1bW5zKSxSdD1SdC5zZXRTdWJNYXRyaXgoV3Qsb3Qucm93cyxvdC5jb2x1bW5zKSxSdC5zdWJNYXRyaXgoMCxnLTEsMCxfLTEpfXJldHVybiBtKGUsdCxsLGMpfXNjYWxlUm93cyh0PXt9KXtpZih0eXBlb2YgdCE9Im9iamVjdCIpdGhyb3cgbmV3IFR5cGVFcnJvcigib3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCIpO2xldHttaW46ZT0wLG1heDpvPTF9PXQ7aWYoIU51bWJlci5pc0Zpbml0ZShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJtaW4gbXVzdCBiZSBhIG51bWJlciIpO2lmKCFOdW1iZXIuaXNGaW5pdGUobykpdGhyb3cgbmV3IFR5cGVFcnJvcigibWF4IG11c3QgYmUgYSBudW1iZXIiKTtpZihlPj1vKXRocm93IG5ldyBSYW5nZUVycm9yKCJtaW4gbXVzdCBiZSBzbWFsbGVyIHRoYW4gbWF4Iik7bGV0IGk9bmV3IHZuKHRoaXMucm93cyx0aGlzLmNvbHVtbnMpO2ZvcihsZXQgYT0wO2E8dGhpcy5yb3dzO2ErKyl7bGV0IHI9dGhpcy5nZXRSb3coYSk7ci5sZW5ndGg+MCYmT1oocix7bWluOmUsbWF4Om8sb3V0cHV0OnJ9KSxpLnNldFJvdyhhLHIpfXJldHVybiBpfXNjYWxlQ29sdW1ucyh0PXt9KXtpZih0eXBlb2YgdCE9Im9iamVjdCIpdGhyb3cgbmV3IFR5cGVFcnJvcigib3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCIpO2xldHttaW46ZT0wLG1heDpvPTF9PXQ7aWYoIU51bWJlci5pc0Zpbml0ZShlKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJtaW4gbXVzdCBiZSBhIG51bWJlciIpO2lmKCFOdW1iZXIuaXNGaW5pdGUobykpdGhyb3cgbmV3IFR5cGVFcnJvcigibWF4IG11c3QgYmUgYSBudW1iZXIiKTtpZihlPj1vKXRocm93IG5ldyBSYW5nZUVycm9yKCJtaW4gbXVzdCBiZSBzbWFsbGVyIHRoYW4gbWF4Iik7bGV0IGk9bmV3IHZuKHRoaXMucm93cyx0aGlzLmNvbHVtbnMpO2ZvcihsZXQgYT0wO2E8dGhpcy5jb2x1bW5zO2ErKyl7bGV0IHI9dGhpcy5nZXRDb2x1bW4oYSk7ci5sZW5ndGgmJk9aKHIse21pbjplLG1heDpvLG91dHB1dDpyfSksaS5zZXRDb2x1bW4oYSxyKX1yZXR1cm4gaX1mbGlwUm93cygpe2xldCB0PU1hdGguY2VpbCh0aGlzLmNvbHVtbnMvMik7Zm9yKGxldCBlPTA7ZTx0aGlzLnJvd3M7ZSsrKWZvcihsZXQgbz0wO288dDtvKyspe2xldCBpPXRoaXMuZ2V0KGUsbyksYT10aGlzLmdldChlLHRoaXMuY29sdW1ucy0xLW8pO3RoaXMuc2V0KGUsbyxhKSx0aGlzLnNldChlLHRoaXMuY29sdW1ucy0xLW8saSl9cmV0dXJuIHRoaXN9ZmxpcENvbHVtbnMoKXtsZXQgdD1NYXRoLmNlaWwodGhpcy5yb3dzLzIpO2ZvcihsZXQgZT0wO2U8dGhpcy5jb2x1bW5zO2UrKylmb3IobGV0IG89MDtvPHQ7bysrKXtsZXQgaT10aGlzLmdldChvLGUpLGE9dGhpcy5nZXQodGhpcy5yb3dzLTEtbyxlKTt0aGlzLnNldChvLGUsYSksdGhpcy5zZXQodGhpcy5yb3dzLTEtbyxlLGkpfXJldHVybiB0aGlzfWtyb25lY2tlclByb2R1Y3QodCl7dD12bi5jaGVja01hdHJpeCh0KTtsZXQgZT10aGlzLnJvd3Msbz10aGlzLmNvbHVtbnMsaT10LnJvd3MsYT10LmNvbHVtbnMscj1uZXcgdm4oZSppLG8qYSk7Zm9yKGxldCBzPTA7czxlO3MrKylmb3IobGV0IGw9MDtsPG87bCsrKWZvcihsZXQgYz0wO2M8aTtjKyspZm9yKGxldCBtPTA7bTxhO20rKylyLnNldChpKnMrYyxhKmwrbSx0aGlzLmdldChzLGwpKnQuZ2V0KGMsbSkpO3JldHVybiByfWtyb25lY2tlclN1bSh0KXtpZih0PXZuLmNoZWNrTWF0cml4KHQpLCF0aGlzLmlzU3F1YXJlKCl8fCF0LmlzU3F1YXJlKCkpdGhyb3cgbmV3IEVycm9yKCJLcm9uZWNrZXIgU3VtIG5lZWRzIHR3byBTcXVhcmUgTWF0cmljZXMiKTtsZXQgZT10aGlzLnJvd3Msbz10LnJvd3MsaT10aGlzLmtyb25lY2tlclByb2R1Y3Qodm4uZXllKG8sbykpLGE9dm4uZXllKGUsZSkua3JvbmVja2VyUHJvZHVjdCh0KTtyZXR1cm4gaS5hZGQoYSl9dHJhbnNwb3NlKCl7bGV0IHQ9bmV3IHZuKHRoaXMuY29sdW1ucyx0aGlzLnJvd3MpO2ZvcihsZXQgZT0wO2U8dGhpcy5yb3dzO2UrKylmb3IobGV0IG89MDtvPHRoaXMuY29sdW1ucztvKyspdC5zZXQobyxlLHRoaXMuZ2V0KGUsbykpO3JldHVybiB0fXNvcnRSb3dzKHQ9Ymh0KXtmb3IobGV0IGU9MDtlPHRoaXMucm93cztlKyspdGhpcy5zZXRSb3coZSx0aGlzLmdldFJvdyhlKS5zb3J0KHQpKTtyZXR1cm4gdGhpc31zb3J0Q29sdW1ucyh0PWJodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLmNvbHVtbnM7ZSsrKXRoaXMuc2V0Q29sdW1uKGUsdGhpcy5nZXRDb2x1bW4oZSkuc29ydCh0KSk7cmV0dXJuIHRoaXN9c3ViTWF0cml4KHQsZSxvLGkpe3laKHRoaXMsdCxlLG8saSk7bGV0IGE9bmV3IHZuKGUtdCsxLGktbysxKTtmb3IobGV0IHI9dDtyPD1lO3IrKylmb3IobGV0IHM9bztzPD1pO3MrKylhLnNldChyLXQscy1vLHRoaXMuZ2V0KHIscykpO3JldHVybiBhfXN1Yk1hdHJpeFJvdyh0LGUsbyl7aWYoZT09PXZvaWQgMCYmKGU9MCksbz09PXZvaWQgMCYmKG89dGhpcy5jb2x1bW5zLTEpLGU+b3x8ZTwwfHxlPj10aGlzLmNvbHVtbnN8fG88MHx8bz49dGhpcy5jb2x1bW5zKXRocm93IG5ldyBSYW5nZUVycm9yKCJBcmd1bWVudCBvdXQgb2YgcmFuZ2UiKTtsZXQgaT1uZXcgdm4odC5sZW5ndGgsby1lKzEpO2ZvcihsZXQgYT0wO2E8dC5sZW5ndGg7YSsrKWZvcihsZXQgcj1lO3I8PW87cisrKXtpZih0W2FdPDB8fHRbYV0+PXRoaXMucm93cyl0aHJvdyBuZXcgUmFuZ2VFcnJvcihgUm93IGluZGV4IG91dCBvZiByYW5nZTogJHt0W2FdfWApO2kuc2V0KGEsci1lLHRoaXMuZ2V0KHRbYV0scikpfXJldHVybiBpfXN1Yk1hdHJpeENvbHVtbih0LGUsbyl7aWYoZT09PXZvaWQgMCYmKGU9MCksbz09PXZvaWQgMCYmKG89dGhpcy5yb3dzLTEpLGU+b3x8ZTwwfHxlPj10aGlzLnJvd3N8fG88MHx8bz49dGhpcy5yb3dzKXRocm93IG5ldyBSYW5nZUVycm9yKCJBcmd1bWVudCBvdXQgb2YgcmFuZ2UiKTtsZXQgaT1uZXcgdm4oby1lKzEsdC5sZW5ndGgpO2ZvcihsZXQgYT0wO2E8dC5sZW5ndGg7YSsrKWZvcihsZXQgcj1lO3I8PW87cisrKXtpZih0W2FdPDB8fHRbYV0+PXRoaXMuY29sdW1ucyl0aHJvdyBuZXcgUmFuZ2VFcnJvcihgQ29sdW1uIGluZGV4IG91dCBvZiByYW5nZTogJHt0W2FdfWApO2kuc2V0KHItZSxhLHRoaXMuZ2V0KHIsdFthXSkpfXJldHVybiBpfXNldFN1Yk1hdHJpeCh0LGUsbyl7aWYodD12bi5jaGVja01hdHJpeCh0KSx0LmlzRW1wdHkoKSlyZXR1cm4gdGhpcztsZXQgaT1lK3Qucm93cy0xLGE9byt0LmNvbHVtbnMtMTt5Wih0aGlzLGUsaSxvLGEpO2ZvcihsZXQgcj0wO3I8dC5yb3dzO3IrKylmb3IobGV0IHM9MDtzPHQuY29sdW1ucztzKyspdGhpcy5zZXQoZStyLG8rcyx0LmdldChyLHMpKTtyZXR1cm4gdGhpc31zZWxlY3Rpb24odCxlKXtsZXQgbz10aHQodGhpcyx0LGUpLGk9bmV3IHZuKHQubGVuZ3RoLGUubGVuZ3RoKTtmb3IobGV0IGE9MDthPG8ucm93Lmxlbmd0aDthKyspe2xldCByPW8ucm93W2FdO2ZvcihsZXQgcz0wO3M8by5jb2x1bW4ubGVuZ3RoO3MrKyl7bGV0IGw9by5jb2x1bW5bc107aS5zZXQoYSxzLHRoaXMuZ2V0KHIsbCkpfX1yZXR1cm4gaX10cmFjZSgpe2xldCB0PU1hdGgubWluKHRoaXMucm93cyx0aGlzLmNvbHVtbnMpLGU9MDtmb3IobGV0IG89MDtvPHQ7bysrKWUrPXRoaXMuZ2V0KG8sbyk7cmV0dXJuIGV9Y2xvbmUoKXtsZXQgdD1uZXcgdm4odGhpcy5yb3dzLHRoaXMuY29sdW1ucyk7Zm9yKGxldCBlPTA7ZTx0aGlzLnJvd3M7ZSsrKWZvcihsZXQgbz0wO288dGhpcy5jb2x1bW5zO28rKyl0LnNldChlLG8sdGhpcy5nZXQoZSxvKSk7cmV0dXJuIHR9c3VtKHQpe3N3aXRjaCh0KXtjYXNlInJvdyI6cmV0dXJuIGVodCh0aGlzKTtjYXNlImNvbHVtbiI6cmV0dXJuIG5odCh0aGlzKTtjYXNlIHZvaWQgMDpyZXR1cm4gb2h0KHRoaXMpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIG9wdGlvbjogJHt0fWApfX1wcm9kdWN0KHQpe3N3aXRjaCh0KXtjYXNlInJvdyI6cmV0dXJuIGlodCh0aGlzKTtjYXNlImNvbHVtbiI6cmV0dXJuIGFodCh0aGlzKTtjYXNlIHZvaWQgMDpyZXR1cm4gcmh0KHRoaXMpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIG9wdGlvbjogJHt0fWApfX1tZWFuKHQpe2xldCBlPXRoaXMuc3VtKHQpO3N3aXRjaCh0KXtjYXNlInJvdyI6e2ZvcihsZXQgbz0wO288dGhpcy5yb3dzO28rKyllW29dLz10aGlzLmNvbHVtbnM7cmV0dXJuIGV9Y2FzZSJjb2x1bW4iOntmb3IobGV0IG89MDtvPHRoaXMuY29sdW1ucztvKyspZVtvXS89dGhpcy5yb3dzO3JldHVybiBlfWNhc2Ugdm9pZCAwOnJldHVybiBlL3RoaXMuc2l6ZTtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgaW52YWxpZCBvcHRpb246ICR7dH1gKX19dmFyaWFuY2UodCxlPXt9KXtpZih0eXBlb2YgdD09Im9iamVjdCImJihlPXQsdD12b2lkIDApLHR5cGVvZiBlIT0ib2JqZWN0Iil0aHJvdyBuZXcgVHlwZUVycm9yKCJvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0Iik7bGV0e3VuYmlhc2VkOm89ITAsbWVhbjppPXRoaXMubWVhbih0KX09ZTtpZih0eXBlb2YgbyE9ImJvb2xlYW4iKXRocm93IG5ldyBUeXBlRXJyb3IoInVuYmlhc2VkIG11c3QgYmUgYSBib29sZWFuIik7c3dpdGNoKHQpe2Nhc2Uicm93Ijp7aWYoIUFycmF5LmlzQXJyYXkoaSkpdGhyb3cgbmV3IFR5cGVFcnJvcigibWVhbiBtdXN0IGJlIGFuIGFycmF5Iik7cmV0dXJuIHNodCh0aGlzLG8saSl9Y2FzZSJjb2x1bW4iOntpZighQXJyYXkuaXNBcnJheShpKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJtZWFuIG11c3QgYmUgYW4gYXJyYXkiKTtyZXR1cm4gbGh0KHRoaXMsbyxpKX1jYXNlIHZvaWQgMDp7aWYodHlwZW9mIGkhPSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoIm1lYW4gbXVzdCBiZSBhIG51bWJlciIpO3JldHVybiBjaHQodGhpcyxvLGkpfWRlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIG9wdGlvbjogJHt0fWApfX1zdGFuZGFyZERldmlhdGlvbih0LGUpe3R5cGVvZiB0PT0ib2JqZWN0IiYmKGU9dCx0PXZvaWQgMCk7bGV0IG89dGhpcy52YXJpYW5jZSh0LGUpO2lmKHQ9PT12b2lkIDApcmV0dXJuIE1hdGguc3FydChvKTtmb3IobGV0IGk9MDtpPG8ubGVuZ3RoO2krKylvW2ldPU1hdGguc3FydChvW2ldKTtyZXR1cm4gb31jZW50ZXIodCxlPXt9KXtpZih0eXBlb2YgdD09Im9iamVjdCImJihlPXQsdD12b2lkIDApLHR5cGVvZiBlIT0ib2JqZWN0Iil0aHJvdyBuZXcgVHlwZUVycm9yKCJvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0Iik7bGV0e2NlbnRlcjpvPXRoaXMubWVhbih0KX09ZTtzd2l0Y2godCl7Y2FzZSJyb3ciOntpZighQXJyYXkuaXNBcnJheShvKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJjZW50ZXIgbXVzdCBiZSBhbiBhcnJheSIpO3JldHVybiBtaHQodGhpcyxvKSx0aGlzfWNhc2UiY29sdW1uIjp7aWYoIUFycmF5LmlzQXJyYXkobykpdGhyb3cgbmV3IFR5cGVFcnJvcigiY2VudGVyIG11c3QgYmUgYW4gYXJyYXkiKTtyZXR1cm4gZmh0KHRoaXMsbyksdGhpc31jYXNlIHZvaWQgMDp7aWYodHlwZW9mIG8hPSJudW1iZXIiKXRocm93IG5ldyBUeXBlRXJyb3IoImNlbnRlciBtdXN0IGJlIGEgbnVtYmVyIik7cmV0dXJuIHBodCh0aGlzLG8pLHRoaXN9ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgb3B0aW9uOiAke3R9YCl9fXNjYWxlKHQsZT17fSl7aWYodHlwZW9mIHQ9PSJvYmplY3QiJiYoZT10LHQ9dm9pZCAwKSx0eXBlb2YgZSE9Im9iamVjdCIpdGhyb3cgbmV3IFR5cGVFcnJvcigib3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCIpO2xldCBvPWUuc2NhbGU7c3dpdGNoKHQpe2Nhc2Uicm93Ijp7aWYobz09PXZvaWQgMClvPWRodCh0aGlzKTtlbHNlIGlmKCFBcnJheS5pc0FycmF5KG8pKXRocm93IG5ldyBUeXBlRXJyb3IoInNjYWxlIG11c3QgYmUgYW4gYXJyYXkiKTtyZXR1cm4gZ2h0KHRoaXMsbyksdGhpc31jYXNlImNvbHVtbiI6e2lmKG89PT12b2lkIDApbz11aHQodGhpcyk7ZWxzZSBpZighQXJyYXkuaXNBcnJheShvKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJzY2FsZSBtdXN0IGJlIGFuIGFycmF5Iik7cmV0dXJuIGhodCh0aGlzLG8pLHRoaXN9Y2FzZSB2b2lkIDA6e2lmKG89PT12b2lkIDApbz1faHQodGhpcyk7ZWxzZSBpZih0eXBlb2YgbyE9Im51bWJlciIpdGhyb3cgbmV3IFR5cGVFcnJvcigic2NhbGUgbXVzdCBiZSBhIG51bWJlciIpO3JldHVybiBDaHQodGhpcyxvKSx0aGlzfWRlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIG9wdGlvbjogJHt0fWApfX10b1N0cmluZyh0KXtyZXR1cm4gUFoodGhpcyx0KX19O0FvLnByb3RvdHlwZS5rbGFzcz0iTWF0cml4Ijt0eXBlb2YgU3ltYm9sIT0idW5kZWZpbmVkIiYmKEFvLnByb3RvdHlwZVtTeW1ib2wuZm9yKCJub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbSIpXT1RdXQpO0FvLnJhbmRvbT1Bby5yYW5kO0FvLnJhbmRvbUludD1Bby5yYW5kSW50O0FvLmRpYWdvbmFsPUFvLmRpYWc7QW8ucHJvdG90eXBlLmRpYWdvbmFsPUFvLnByb3RvdHlwZS5kaWFnO0FvLmlkZW50aXR5PUFvLmV5ZTtBby5wcm90b3R5cGUubmVnYXRlPUFvLnByb3RvdHlwZS5uZWc7QW8ucHJvdG90eXBlLnRlbnNvclByb2R1Y3Q9QW8ucHJvdG90eXBlLmtyb25lY2tlclByb2R1Y3Q7dm49Y2xhc3MgZXh0ZW5kcyBBb3tjb25zdHJ1Y3Rvcih0LGUpe2lmKHN1cGVyKCksdm4uaXNNYXRyaXgodCkpcmV0dXJuIHQuY2xvbmUoKTtpZihOdW1iZXIuaXNJbnRlZ2VyKHQpJiZ0Pj0wKWlmKHRoaXMuZGF0YT1bXSxOdW1iZXIuaXNJbnRlZ2VyKGUpJiZlPj0wKWZvcihsZXQgbz0wO288dDtvKyspdGhpcy5kYXRhLnB1c2gobmV3IEZsb2F0NjRBcnJheShlKSk7ZWxzZSB0aHJvdyBuZXcgVHlwZUVycm9yKCJuQ29sdW1ucyBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciIpO2Vsc2UgaWYoQXJyYXkuaXNBcnJheSh0KSl7bGV0IG89dDtpZih0PW8ubGVuZ3RoLGU9dD9vWzBdLmxlbmd0aDowLHR5cGVvZiBlIT0ibnVtYmVyIil0aHJvdyBuZXcgVHlwZUVycm9yKCJEYXRhIG11c3QgYmUgYSAyRCBhcnJheSB3aXRoIGF0IGxlYXN0IG9uZSBlbGVtZW50Iik7dGhpcy5kYXRhPVtdO2ZvcihsZXQgaT0wO2k8dDtpKyspe2lmKG9baV0ubGVuZ3RoIT09ZSl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW5jb25zaXN0ZW50IGFycmF5IGRpbWVuc2lvbnMiKTt0aGlzLmRhdGEucHVzaChGbG9hdDY0QXJyYXkuZnJvbShvW2ldKSl9fWVsc2UgdGhyb3cgbmV3IFR5cGVFcnJvcigiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlciBvciBhbiBhcnJheSIpO3RoaXMucm93cz10LHRoaXMuY29sdW1ucz1lfXNldCh0LGUsbyl7cmV0dXJuIHRoaXMuZGF0YVt0XVtlXT1vLHRoaXN9Z2V0KHQsZSl7cmV0dXJuIHRoaXMuZGF0YVt0XVtlXX1yZW1vdmVSb3codCl7cmV0dXJuIHBDKHRoaXMsdCksdGhpcy5kYXRhLnNwbGljZSh0LDEpLHRoaXMucm93cy09MSx0aGlzfWFkZFJvdyh0LGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT10LHQ9dGhpcy5yb3dzKSxwQyh0aGlzLHQsITApLGU9RmxvYXQ2NEFycmF5LmZyb20oRzEodGhpcyxlKSksdGhpcy5kYXRhLnNwbGljZSh0LDAsZSksdGhpcy5yb3dzKz0xLHRoaXN9cmVtb3ZlQ29sdW1uKHQpe2RDKHRoaXMsdCk7Zm9yKGxldCBlPTA7ZTx0aGlzLnJvd3M7ZSsrKXtsZXQgbz1uZXcgRmxvYXQ2NEFycmF5KHRoaXMuY29sdW1ucy0xKTtmb3IobGV0IGk9MDtpPHQ7aSsrKW9baV09dGhpcy5kYXRhW2VdW2ldO2ZvcihsZXQgaT10KzE7aTx0aGlzLmNvbHVtbnM7aSsrKW9baS0xXT10aGlzLmRhdGFbZV1baV07dGhpcy5kYXRhW2VdPW99cmV0dXJuIHRoaXMuY29sdW1ucy09MSx0aGlzfWFkZENvbHVtbih0LGUpe3R5cGVvZiBlPT0idW5kZWZpbmVkIiYmKGU9dCx0PXRoaXMuY29sdW1ucyksZEModGhpcyx0LCEwKSxlPVcxKHRoaXMsZSk7Zm9yKGxldCBvPTA7bzx0aGlzLnJvd3M7bysrKXtsZXQgaT1uZXcgRmxvYXQ2NEFycmF5KHRoaXMuY29sdW1ucysxKSxhPTA7Zm9yKDthPHQ7YSsrKWlbYV09dGhpcy5kYXRhW29dW2FdO2ZvcihpW2ErK109ZVtvXTthPHRoaXMuY29sdW1ucysxO2ErKylpW2FdPXRoaXMuZGF0YVtvXVthLTFdO3RoaXMuZGF0YVtvXT1pfXJldHVybiB0aGlzLmNvbHVtbnMrPTEsdGhpc319O0p1dChBbyx2bil9KTt2YXIgT2h0PWVzKCgpPT57fSk7dmFyIGJoLEw0PWVzKCgpPT57WjEoKTtiaD1jbGFzcyBleHRlbmRzIEFve2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5kYXRhPXQsdGhpcy5yb3dzPXQubGVuZ3RoLHRoaXMuY29sdW1ucz10WzBdLmxlbmd0aH1zZXQodCxlLG8pe3JldHVybiB0aGlzLmRhdGFbdF1bZV09byx0aGlzfWdldCh0LGUpe3JldHVybiB0aGlzLmRhdGFbdF1bZV19fX0pO3ZhciBCNCxQaHQ9ZXMoKCk9PntaMSgpO0w0KCk7QjQ9Y2xhc3N7Y29uc3RydWN0b3IodCl7dD1iaC5jaGVja01hdHJpeCh0KTtsZXQgZT10LmNsb25lKCksbz1lLnJvd3MsaT1lLmNvbHVtbnMsYT1uZXcgRmxvYXQ2NEFycmF5KG8pLHI9MSxzLGwsYyxtLGYscCxnLF8sTTtmb3Iocz0wO3M8bztzKyspYVtzXT1zO2ZvcihfPW5ldyBGbG9hdDY0QXJyYXkobyksbD0wO2w8aTtsKyspe2ZvcihzPTA7czxvO3MrKylfW3NdPWUuZ2V0KHMsbCk7Zm9yKHM9MDtzPG87cysrKXtmb3IoTT1NYXRoLm1pbihzLGwpLGY9MCxjPTA7YzxNO2MrKylmKz1lLmdldChzLGMpKl9bY107X1tzXS09ZixlLnNldChzLGwsX1tzXSl9Zm9yKG09bCxzPWwrMTtzPG87cysrKU1hdGguYWJzKF9bc10pPk1hdGguYWJzKF9bbV0pJiYobT1zKTtpZihtIT09bCl7Zm9yKGM9MDtjPGk7YysrKXA9ZS5nZXQobSxjKSxlLnNldChtLGMsZS5nZXQobCxjKSksZS5zZXQobCxjLHApO2c9YVttXSxhW21dPWFbbF0sYVtsXT1nLHI9LXJ9aWYobDxvJiZlLmdldChsLGwpIT09MClmb3Iocz1sKzE7czxvO3MrKyllLnNldChzLGwsZS5nZXQocyxsKS9lLmdldChsLGwpKX10aGlzLkxVPWUsdGhpcy5waXZvdFZlY3Rvcj1hLHRoaXMucGl2b3RTaWduPXJ9aXNTaW5ndWxhcigpe2xldCB0PXRoaXMuTFUsZT10LmNvbHVtbnM7Zm9yKGxldCBvPTA7bzxlO28rKylpZih0LmdldChvLG8pPT09MClyZXR1cm4hMDtyZXR1cm4hMX1zb2x2ZSh0KXt0PXZuLmNoZWNrTWF0cml4KHQpO2xldCBlPXRoaXMuTFU7aWYoZS5yb3dzIT09dC5yb3dzKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBtYXRyaXggZGltZW5zaW9ucyIpO2lmKHRoaXMuaXNTaW5ndWxhcigpKXRocm93IG5ldyBFcnJvcigiTFUgbWF0cml4IGlzIHNpbmd1bGFyIik7bGV0IGk9dC5jb2x1bW5zLGE9dC5zdWJNYXRyaXhSb3codGhpcy5waXZvdFZlY3RvciwwLGktMSkscj1lLmNvbHVtbnMscyxsLGM7Zm9yKGM9MDtjPHI7YysrKWZvcihzPWMrMTtzPHI7cysrKWZvcihsPTA7bDxpO2wrKylhLnNldChzLGwsYS5nZXQocyxsKS1hLmdldChjLGwpKmUuZ2V0KHMsYykpO2ZvcihjPXItMTtjPj0wO2MtLSl7Zm9yKGw9MDtsPGk7bCsrKWEuc2V0KGMsbCxhLmdldChjLGwpL2UuZ2V0KGMsYykpO2ZvcihzPTA7czxjO3MrKylmb3IobD0wO2w8aTtsKyspYS5zZXQocyxsLGEuZ2V0KHMsbCktYS5nZXQoYyxsKSplLmdldChzLGMpKX1yZXR1cm4gYX1nZXQgZGV0ZXJtaW5hbnQoKXtsZXQgdD10aGlzLkxVO2lmKCF0LmlzU3F1YXJlKCkpdGhyb3cgbmV3IEVycm9yKCJNYXRyaXggbXVzdCBiZSBzcXVhcmUiKTtsZXQgZT10aGlzLnBpdm90U2lnbixvPXQuY29sdW1ucztmb3IobGV0IGk9MDtpPG87aSsrKWUqPXQuZ2V0KGksaSk7cmV0dXJuIGV9Z2V0IGxvd2VyVHJpYW5ndWxhck1hdHJpeCgpe2xldCB0PXRoaXMuTFUsZT10LnJvd3Msbz10LmNvbHVtbnMsaT1uZXcgdm4oZSxvKTtmb3IobGV0IGE9MDthPGU7YSsrKWZvcihsZXQgcj0wO3I8bztyKyspYT5yP2kuc2V0KGEscix0LmdldChhLHIpKTphPT09cj9pLnNldChhLHIsMSk6aS5zZXQoYSxyLDApO3JldHVybiBpfWdldCB1cHBlclRyaWFuZ3VsYXJNYXRyaXgoKXtsZXQgdD10aGlzLkxVLGU9dC5yb3dzLG89dC5jb2x1bW5zLGk9bmV3IHZuKGUsbyk7Zm9yKGxldCBhPTA7YTxlO2ErKylmb3IobGV0IHI9MDtyPG87cisrKWE8PXI/aS5zZXQoYSxyLHQuZ2V0KGEscikpOmkuc2V0KGEsciwwKTtyZXR1cm4gaX1nZXQgcGl2b3RQZXJtdXRhdGlvblZlY3Rvcigpe3JldHVybiBBcnJheS5mcm9tKHRoaXMucGl2b3RWZWN0b3IpfX19KTtmdW5jdGlvbiBKUChuLHQpe2xldCBlPTA7cmV0dXJuIE1hdGguYWJzKG4pPk1hdGguYWJzKHQpPyhlPXQvbixNYXRoLmFicyhuKSpNYXRoLnNxcnQoMStlKmUpKTp0IT09MD8oZT1uL3QsTWF0aC5hYnModCkqTWF0aC5zcXJ0KDErZSplKSk6MH12YXIgdlo9ZXMoKCk9Pnt9KTt2YXIgVjQseWh0PWVzKCgpPT57WjEoKTtMNCgpO3ZaKCk7VjQ9Y2xhc3N7Y29uc3RydWN0b3IodCl7dD1iaC5jaGVja01hdHJpeCh0KTtsZXQgZT10LmNsb25lKCksbz10LnJvd3MsaT10LmNvbHVtbnMsYT1uZXcgRmxvYXQ2NEFycmF5KGkpLHIscyxsLGM7Zm9yKGw9MDtsPGk7bCsrKXtsZXQgbT0wO2ZvcihyPWw7cjxvO3IrKyltPUpQKG0sZS5nZXQocixsKSk7aWYobSE9PTApe2ZvcihlLmdldChsLGwpPDAmJihtPS1tKSxyPWw7cjxvO3IrKyllLnNldChyLGwsZS5nZXQocixsKS9tKTtmb3IoZS5zZXQobCxsLGUuZ2V0KGwsbCkrMSkscz1sKzE7czxpO3MrKyl7Zm9yKGM9MCxyPWw7cjxvO3IrKyljKz1lLmdldChyLGwpKmUuZ2V0KHIscyk7Zm9yKGM9LWMvZS5nZXQobCxsKSxyPWw7cjxvO3IrKyllLnNldChyLHMsZS5nZXQocixzKStjKmUuZ2V0KHIsbCkpfX1hW2xdPS1tfXRoaXMuUVI9ZSx0aGlzLlJkaWFnPWF9c29sdmUodCl7dD12bi5jaGVja01hdHJpeCh0KTtsZXQgZT10aGlzLlFSLG89ZS5yb3dzO2lmKHQucm93cyE9PW8pdGhyb3cgbmV3IEVycm9yKCJNYXRyaXggcm93IGRpbWVuc2lvbnMgbXVzdCBhZ3JlZSIpO2lmKCF0aGlzLmlzRnVsbFJhbmsoKSl0aHJvdyBuZXcgRXJyb3IoIk1hdHJpeCBpcyByYW5rIGRlZmljaWVudCIpO2xldCBpPXQuY29sdW1ucyxhPXQuY2xvbmUoKSxyPWUuY29sdW1ucyxzLGwsYyxtO2ZvcihjPTA7YzxyO2MrKylmb3IobD0wO2w8aTtsKyspe2ZvcihtPTAscz1jO3M8bztzKyspbSs9ZS5nZXQocyxjKSphLmdldChzLGwpO2ZvcihtPS1tL2UuZ2V0KGMsYykscz1jO3M8bztzKyspYS5zZXQocyxsLGEuZ2V0KHMsbCkrbSplLmdldChzLGMpKX1mb3IoYz1yLTE7Yz49MDtjLS0pe2ZvcihsPTA7bDxpO2wrKylhLnNldChjLGwsYS5nZXQoYyxsKS90aGlzLlJkaWFnW2NdKTtmb3Iocz0wO3M8YztzKyspZm9yKGw9MDtsPGk7bCsrKWEuc2V0KHMsbCxhLmdldChzLGwpLWEuZ2V0KGMsbCkqZS5nZXQocyxjKSl9cmV0dXJuIGEuc3ViTWF0cml4KDAsci0xLDAsaS0xKX1pc0Z1bGxSYW5rKCl7bGV0IHQ9dGhpcy5RUi5jb2x1bW5zO2ZvcihsZXQgZT0wO2U8dDtlKyspaWYodGhpcy5SZGlhZ1tlXT09PTApcmV0dXJuITE7cmV0dXJuITB9Z2V0IHVwcGVyVHJpYW5ndWxhck1hdHJpeCgpe2xldCB0PXRoaXMuUVIsZT10LmNvbHVtbnMsbz1uZXcgdm4oZSxlKSxpLGE7Zm9yKGk9MDtpPGU7aSsrKWZvcihhPTA7YTxlO2ErKylpPGE/by5zZXQoaSxhLHQuZ2V0KGksYSkpOmk9PT1hP28uc2V0KGksYSx0aGlzLlJkaWFnW2ldKTpvLnNldChpLGEsMCk7cmV0dXJuIG99Z2V0IG9ydGhvZ29uYWxNYXRyaXgoKXtsZXQgdD10aGlzLlFSLGU9dC5yb3dzLG89dC5jb2x1bW5zLGk9bmV3IHZuKGUsbyksYSxyLHMsbDtmb3Iocz1vLTE7cz49MDtzLS0pe2ZvcihhPTA7YTxlO2ErKylpLnNldChhLHMsMCk7Zm9yKGkuc2V0KHMscywxKSxyPXM7cjxvO3IrKylpZih0LmdldChzLHMpIT09MCl7Zm9yKGw9MCxhPXM7YTxlO2ErKylsKz10LmdldChhLHMpKmkuZ2V0KGEscik7Zm9yKGw9LWwvdC5nZXQocyxzKSxhPXM7YTxlO2ErKylpLnNldChhLHIsaS5nZXQoYSxyKStsKnQuZ2V0KGEscykpfX1yZXR1cm4gaX19fSk7dmFyIGtTLHhodD1lcygoKT0+e1oxKCk7TDQoKTt2WigpO2tTPWNsYXNze2NvbnN0cnVjdG9yKHQsZT17fSl7aWYodD1iaC5jaGVja01hdHJpeCh0KSx0LmlzRW1wdHkoKSl0aHJvdyBuZXcgRXJyb3IoIk1hdHJpeCBtdXN0IGJlIG5vbi1lbXB0eSIpO2xldCBvPXQucm93cyxpPXQuY29sdW1ucyx7Y29tcHV0ZUxlZnRTaW5ndWxhclZlY3RvcnM6YT0hMCxjb21wdXRlUmlnaHRTaW5ndWxhclZlY3RvcnM6cj0hMCxhdXRvVHJhbnNwb3NlOnM9ITF9PWUsbD1Cb29sZWFuKGEpLGM9Qm9vbGVhbihyKSxtPSExLGY7aWYobzxpKWlmKCFzKWY9dC5jbG9uZSgpLGNvbnNvbGUud2FybigiQ29tcHV0aW5nIFNWRCBvbiBhIG1hdHJpeCB3aXRoIG1vcmUgY29sdW1ucyB0aGFuIHJvd3MuIENvbnNpZGVyIGVuYWJsaW5nIGF1dG9UcmFuc3Bvc2UiKTtlbHNle2Y9dC50cmFuc3Bvc2UoKSxvPWYucm93cyxpPWYuY29sdW1ucyxtPSEwO2xldCB3PWw7bD1jLGM9d31lbHNlIGY9dC5jbG9uZSgpO2xldCBwPU1hdGgubWluKG8saSksZz1NYXRoLm1pbihvKzEsaSksXz1uZXcgRmxvYXQ2NEFycmF5KGcpLE09bmV3IHZuKG8scCkseT1uZXcgdm4oaSxpKSxPPW5ldyBGbG9hdDY0QXJyYXkoaSksYj1uZXcgRmxvYXQ2NEFycmF5KG8pLFI9bmV3IEZsb2F0NjRBcnJheShnKTtmb3IobGV0IHc9MDt3PGc7dysrKVJbd109dztsZXQgRT1NYXRoLm1pbihvLTEsaSksaj1NYXRoLm1heCgwLE1hdGgubWluKGktMixvKSkscnQ9TWF0aC5tYXgoRSxqKTtmb3IobGV0IHc9MDt3PHJ0O3crKyl7aWYodzxFKXtfW3ddPTA7Zm9yKGxldCBVPXc7VTxvO1UrKylfW3ddPUpQKF9bd10sZi5nZXQoVSx3KSk7aWYoX1t3XSE9PTApe2YuZ2V0KHcsdyk8MCYmKF9bd109LV9bd10pO2ZvcihsZXQgVT13O1U8bztVKyspZi5zZXQoVSx3LGYuZ2V0KFUsdykvX1t3XSk7Zi5zZXQodyx3LGYuZ2V0KHcsdykrMSl9X1t3XT0tX1t3XX1mb3IobGV0IFU9dysxO1U8aTtVKyspe2lmKHc8RSYmX1t3XSE9PTApe2xldCBudD0wO2ZvcihsZXQgbHQ9dztsdDxvO2x0KyspbnQrPWYuZ2V0KGx0LHcpKmYuZ2V0KGx0LFUpO250PS1udC9mLmdldCh3LHcpO2ZvcihsZXQgbHQ9dztsdDxvO2x0KyspZi5zZXQobHQsVSxmLmdldChsdCxVKStudCpmLmdldChsdCx3KSl9T1tVXT1mLmdldCh3LFUpfWlmKGwmJnc8RSlmb3IobGV0IFU9dztVPG87VSsrKU0uc2V0KFUsdyxmLmdldChVLHcpKTtpZih3PGope09bd109MDtmb3IobGV0IFU9dysxO1U8aTtVKyspT1t3XT1KUChPW3ddLE9bVV0pO2lmKE9bd10hPT0wKXtPW3crMV08MCYmKE9bd109MC1PW3ddKTtmb3IobGV0IFU9dysxO1U8aTtVKyspT1tVXS89T1t3XTtPW3crMV0rPTF9aWYoT1t3XT0tT1t3XSx3KzE8byYmT1t3XSE9PTApe2ZvcihsZXQgVT13KzE7VTxvO1UrKyliW1VdPTA7Zm9yKGxldCBVPXcrMTtVPG87VSsrKWZvcihsZXQgbnQ9dysxO250PGk7bnQrKyliW1VdKz1PW250XSpmLmdldChVLG50KTtmb3IobGV0IFU9dysxO1U8aTtVKyspe2xldCBudD0tT1tVXS9PW3crMV07Zm9yKGxldCBsdD13KzE7bHQ8bztsdCsrKWYuc2V0KGx0LFUsZi5nZXQobHQsVSkrbnQqYltsdF0pfX1pZihjKWZvcihsZXQgVT13KzE7VTxpO1UrKyl5LnNldChVLHcsT1tVXSl9fWxldCBKPU1hdGgubWluKGksbysxKTtpZihFPGkmJihfW0VdPWYuZ2V0KEUsRSkpLG88SiYmKF9bSi0xXT0wKSxqKzE8SiYmKE9bal09Zi5nZXQoaixKLTEpKSxPW0otMV09MCxsKXtmb3IobGV0IHc9RTt3PHA7dysrKXtmb3IobGV0IFU9MDtVPG87VSsrKU0uc2V0KFUsdywwKTtNLnNldCh3LHcsMSl9Zm9yKGxldCB3PUUtMTt3Pj0wO3ctLSlpZihfW3ddIT09MCl7Zm9yKGxldCBVPXcrMTtVPHA7VSsrKXtsZXQgbnQ9MDtmb3IobGV0IGx0PXc7bHQ8bztsdCsrKW50Kz1NLmdldChsdCx3KSpNLmdldChsdCxVKTtudD0tbnQvTS5nZXQodyx3KTtmb3IobGV0IGx0PXc7bHQ8bztsdCsrKU0uc2V0KGx0LFUsTS5nZXQobHQsVSkrbnQqTS5nZXQobHQsdykpfWZvcihsZXQgVT13O1U8bztVKyspTS5zZXQoVSx3LC1NLmdldChVLHcpKTtNLnNldCh3LHcsMStNLmdldCh3LHcpKTtmb3IobGV0IFU9MDtVPHctMTtVKyspTS5zZXQoVSx3LDApfWVsc2V7Zm9yKGxldCBVPTA7VTxvO1UrKylNLnNldChVLHcsMCk7TS5zZXQodyx3LDEpfX1pZihjKWZvcihsZXQgdz1pLTE7dz49MDt3LS0pe2lmKHc8aiYmT1t3XSE9PTApZm9yKGxldCBVPXcrMTtVPGk7VSsrKXtsZXQgbnQ9MDtmb3IobGV0IGx0PXcrMTtsdDxpO2x0KyspbnQrPXkuZ2V0KGx0LHcpKnkuZ2V0KGx0LFUpO250PS1udC95LmdldCh3KzEsdyk7Zm9yKGxldCBsdD13KzE7bHQ8aTtsdCsrKXkuc2V0KGx0LFUseS5nZXQobHQsVSkrbnQqeS5nZXQobHQsdykpfWZvcihsZXQgVT0wO1U8aTtVKyspeS5zZXQoVSx3LDApO3kuc2V0KHcsdywxKX1sZXQgRXQ9Si0xLGp0PTAsa3Q9TnVtYmVyLkVQU0lMT047Zm9yKDtKPjA7KXtsZXQgdyxVO2Zvcih3PUotMjt3Pj0tMSYmdyE9PS0xO3ctLSl7bGV0IG50PU51bWJlci5NSU5fVkFMVUUra3QqTWF0aC5hYnMoX1t3XStNYXRoLmFicyhfW3crMV0pKTtpZihNYXRoLmFicyhPW3ddKTw9bnR8fE51bWJlci5pc05hTihPW3ddKSl7T1t3XT0wO2JyZWFrfX1pZih3PT09Si0yKVU9NDtlbHNle2xldCBudDtmb3IobnQ9Si0xO250Pj13JiZudCE9PXc7bnQtLSl7bGV0IGx0PShudCE9PUo/TWF0aC5hYnMoT1tudF0pOjApKyhudCE9PXcrMT9NYXRoLmFicyhPW250LTFdKTowKTtpZihNYXRoLmFicyhfW250XSk8PWt0Kmx0KXtfW250XT0wO2JyZWFrfX1udD09PXc/VT0zOm50PT09Si0xP1U9MTooVT0yLHc9bnQpfXN3aXRjaCh3KyssVSl7Y2FzZSAxOntsZXQgbnQ9T1tKLTJdO09bSi0yXT0wO2ZvcihsZXQgbHQ9Si0yO2x0Pj13O2x0LS0pe2xldCBidD1KUChfW2x0XSxudCksb3Q9X1tsdF0vYnQsdXQ9bnQvYnQ7aWYoX1tsdF09YnQsbHQhPT13JiYobnQ9LXV0Kk9bbHQtMV0sT1tsdC0xXT1vdCpPW2x0LTFdKSxjKWZvcihsZXQgZ3Q9MDtndDxpO2d0KyspYnQ9b3QqeS5nZXQoZ3QsbHQpK3V0KnkuZ2V0KGd0LEotMSkseS5zZXQoZ3QsSi0xLC11dCp5LmdldChndCxsdCkrb3QqeS5nZXQoZ3QsSi0xKSkseS5zZXQoZ3QsbHQsYnQpfWJyZWFrfWNhc2UgMjp7bGV0IG50PU9bdy0xXTtPW3ctMV09MDtmb3IobGV0IGx0PXc7bHQ8SjtsdCsrKXtsZXQgYnQ9SlAoX1tsdF0sbnQpLG90PV9bbHRdL2J0LHV0PW50L2J0O2lmKF9bbHRdPWJ0LG50PS11dCpPW2x0XSxPW2x0XT1vdCpPW2x0XSxsKWZvcihsZXQgZ3Q9MDtndDxvO2d0KyspYnQ9b3QqTS5nZXQoZ3QsbHQpK3V0Kk0uZ2V0KGd0LHctMSksTS5zZXQoZ3Qsdy0xLC11dCpNLmdldChndCxsdCkrb3QqTS5nZXQoZ3Qsdy0xKSksTS5zZXQoZ3QsbHQsYnQpfWJyZWFrfWNhc2UgMzp7bGV0IG50PU1hdGgubWF4KE1hdGguYWJzKF9bSi0xXSksTWF0aC5hYnMoX1tKLTJdKSxNYXRoLmFicyhPW0otMl0pLE1hdGguYWJzKF9bd10pLE1hdGguYWJzKE9bd10pKSxsdD1fW0otMV0vbnQsYnQ9X1tKLTJdL250LG90PU9bSi0yXS9udCx1dD1fW3ddL250LGd0PU9bd10vbnQsV3Q9KChidCtsdCkqKGJ0LWx0KStvdCpvdCkvMixSdD1sdCpvdCoobHQqb3QpLEd0PTA7KFd0IT09MHx8UnQhPT0wKSYmKFd0PDA/R3Q9MC1NYXRoLnNxcnQoV3QqV3QrUnQpOkd0PU1hdGguc3FydChXdCpXdCtSdCksR3Q9UnQvKFd0K0d0KSk7bGV0IHllPSh1dCtsdCkqKHV0LWx0KStHdCxqZT11dCpndDtmb3IobGV0IGNlPXc7Y2U8Si0xO2NlKyspe2xldCBMdD1KUCh5ZSxqZSk7THQ9PT0wJiYoTHQ9TnVtYmVyLk1JTl9WQUxVRSk7bGV0IFBuPXllL0x0LFZlPWplL0x0O2lmKGNlIT09dyYmKE9bY2UtMV09THQpLHllPVBuKl9bY2VdK1ZlKk9bY2VdLE9bY2VdPVBuKk9bY2VdLVZlKl9bY2VdLGplPVZlKl9bY2UrMV0sX1tjZSsxXT1QbipfW2NlKzFdLGMpZm9yKGxldCBEZT0wO0RlPGk7RGUrKylMdD1Qbip5LmdldChEZSxjZSkrVmUqeS5nZXQoRGUsY2UrMSkseS5zZXQoRGUsY2UrMSwtVmUqeS5nZXQoRGUsY2UpK1BuKnkuZ2V0KERlLGNlKzEpKSx5LnNldChEZSxjZSxMdCk7aWYoTHQ9SlAoeWUsamUpLEx0PT09MCYmKEx0PU51bWJlci5NSU5fVkFMVUUpLFBuPXllL0x0LFZlPWplL0x0LF9bY2VdPUx0LHllPVBuKk9bY2VdK1ZlKl9bY2UrMV0sX1tjZSsxXT0tVmUqT1tjZV0rUG4qX1tjZSsxXSxqZT1WZSpPW2NlKzFdLE9bY2UrMV09UG4qT1tjZSsxXSxsJiZjZTxvLTEpZm9yKGxldCBEZT0wO0RlPG87RGUrKylMdD1QbipNLmdldChEZSxjZSkrVmUqTS5nZXQoRGUsY2UrMSksTS5zZXQoRGUsY2UrMSwtVmUqTS5nZXQoRGUsY2UpK1BuKk0uZ2V0KERlLGNlKzEpKSxNLnNldChEZSxjZSxMdCl9T1tKLTJdPXllLGp0PWp0KzE7YnJlYWt9Y2FzZSA0OntpZihfW3ddPD0wJiYoX1t3XT1fW3ddPDA/LV9bd106MCxjKSlmb3IobGV0IG50PTA7bnQ8PUV0O250KyspeS5zZXQobnQsdywteS5nZXQobnQsdykpO2Zvcig7dzxFdCYmIShfW3ddPj1fW3crMV0pOyl7bGV0IG50PV9bd107aWYoX1t3XT1fW3crMV0sX1t3KzFdPW50LGMmJnc8aS0xKWZvcihsZXQgbHQ9MDtsdDxpO2x0KyspbnQ9eS5nZXQobHQsdysxKSx5LnNldChsdCx3KzEseS5nZXQobHQsdykpLHkuc2V0KGx0LHcsbnQpO2lmKGwmJnc8by0xKWZvcihsZXQgbHQ9MDtsdDxvO2x0KyspbnQ9TS5nZXQobHQsdysxKSxNLnNldChsdCx3KzEsTS5nZXQobHQsdykpLE0uc2V0KGx0LHcsbnQpO3crK31qdD0wLEotLTticmVha319fWlmKG0pe2xldCB3PXk7eT1NLE09d310aGlzLm09byx0aGlzLm49aSx0aGlzLnM9Xyx0aGlzLlU9TSx0aGlzLlY9eX1zb2x2ZSh0KXtsZXQgZT10LG89dGhpcy50aHJlc2hvbGQsaT10aGlzLnMubGVuZ3RoLGE9dm4uemVyb3MoaSxpKTtmb3IobGV0IHA9MDtwPGk7cCsrKU1hdGguYWJzKHRoaXMuc1twXSk8PW8/YS5zZXQocCxwLDApOmEuc2V0KHAscCwxL3RoaXMuc1twXSk7bGV0IHI9dGhpcy5VLHM9dGhpcy5yaWdodFNpbmd1bGFyVmVjdG9ycyxsPXMubW11bChhKSxjPXMucm93cyxtPXIucm93cyxmPXZuLnplcm9zKGMsbSk7Zm9yKGxldCBwPTA7cDxjO3ArKylmb3IobGV0IGc9MDtnPG07ZysrKXtsZXQgXz0wO2ZvcihsZXQgTT0wO008aTtNKyspXys9bC5nZXQocCxNKSpyLmdldChnLE0pO2Yuc2V0KHAsZyxfKX1yZXR1cm4gZi5tbXVsKGUpfXNvbHZlRm9yRGlhZ29uYWwodCl7cmV0dXJuIHRoaXMuc29sdmUodm4uZGlhZyh0KSl9aW52ZXJzZSgpe2xldCB0PXRoaXMuVixlPXRoaXMudGhyZXNob2xkLG89dC5yb3dzLGk9dC5jb2x1bW5zLGE9bmV3IHZuKG8sdGhpcy5zLmxlbmd0aCk7Zm9yKGxldCBtPTA7bTxvO20rKylmb3IobGV0IGY9MDtmPGk7ZisrKU1hdGguYWJzKHRoaXMuc1tmXSk+ZSYmYS5zZXQobSxmLHQuZ2V0KG0sZikvdGhpcy5zW2ZdKTtsZXQgcj10aGlzLlUscz1yLnJvd3MsbD1yLmNvbHVtbnMsYz1uZXcgdm4obyxzKTtmb3IobGV0IG09MDttPG87bSsrKWZvcihsZXQgZj0wO2Y8cztmKyspe2xldCBwPTA7Zm9yKGxldCBnPTA7ZzxsO2crKylwKz1hLmdldChtLGcpKnIuZ2V0KGYsZyk7Yy5zZXQobSxmLHApfXJldHVybiBjfWdldCBjb25kaXRpb24oKXtyZXR1cm4gdGhpcy5zWzBdL3RoaXMuc1tNYXRoLm1pbih0aGlzLm0sdGhpcy5uKS0xXX1nZXQgbm9ybTIoKXtyZXR1cm4gdGhpcy5zWzBdfWdldCByYW5rKCl7bGV0IHQ9TWF0aC5tYXgodGhpcy5tLHRoaXMubikqdGhpcy5zWzBdKk51bWJlci5FUFNJTE9OLGU9MCxvPXRoaXMucztmb3IobGV0IGk9MCxhPW8ubGVuZ3RoO2k8YTtpKyspb1tpXT50JiZlKys7cmV0dXJuIGV9Z2V0IGRpYWdvbmFsKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5zKX1nZXQgdGhyZXNob2xkKCl7cmV0dXJuIE51bWJlci5FUFNJTE9OLzIqTWF0aC5tYXgodGhpcy5tLHRoaXMubikqdGhpcy5zWzBdfWdldCBsZWZ0U2luZ3VsYXJWZWN0b3JzKCl7cmV0dXJuIHRoaXMuVX1nZXQgcmlnaHRTaW5ndWxhclZlY3RvcnMoKXtyZXR1cm4gdGhpcy5WfWdldCBkaWFnb25hbE1hdHJpeCgpe3JldHVybiB2bi5kaWFnKHRoaXMucyl9fX0pO2Z1bmN0aW9uIHdaKG4sdD0hMSl7cmV0dXJuIG49YmguY2hlY2tNYXRyaXgobiksdD9uZXcga1MobikuaW52ZXJzZSgpOnZodChuLHZuLmV5ZShuLnJvd3MpKX1mdW5jdGlvbiB2aHQobix0LGU9ITEpe3JldHVybiBuPWJoLmNoZWNrTWF0cml4KG4pLHQ9YmguY2hlY2tNYXRyaXgodCksZT9uZXcga1Mobikuc29sdmUodCk6bi5pc1NxdWFyZSgpP25ldyBCNChuKS5zb2x2ZSh0KTpuZXcgVjQobikuc29sdmUodCl9dmFyIHdodD1lcygoKT0+e1BodCgpO3lodCgpO3hodCgpO1oxKCk7TDQoKX0pO3ZhciBTaHQ9ZXMoKCk9PntaMSgpO09odCgpO3dodCgpfSk7ZnVuY3Rpb24gcFh0KG4sdCxlLG8saSl7bGV0IGE9ZS5sZW5ndGgscj1uLngubGVuZ3RoLHM9bmV3IEFycmF5KGEpO2ZvcihsZXQgbD0wO2w8YTtsKyspe3NbbF09bmV3IEFycmF5KHIpO2xldCBjPWUuc2xpY2UoKTtjW2xdKz1vO2xldCBtPWkoYyk7Zm9yKGxldCBmPTA7ZjxyO2YrKylzW2xdW2ZdPXRbZl0tbShuLnhbZl0pfXJldHVybiBuZXcgdm4ocyl9ZnVuY3Rpb24gZFh0KG4sdCl7bGV0IGU9bi54Lmxlbmd0aCxvPW5ldyBBcnJheShlKTtmb3IobGV0IGk9MDtpPGU7aSsrKW9baV09W24ueVtpXS10W2ldXTtyZXR1cm4gbmV3IHZuKG8pfWZ1bmN0aW9uIFNaKG4sdCxlLG8saSl7bGV0IGE9ZSpvKm8scj12bi5leWUodC5sZW5ndGgsdC5sZW5ndGgsYSkscz1pKHQpLGw9bmV3IEZsb2F0NjRBcnJheShuLngubGVuZ3RoKTtmb3IobGV0IHA9MDtwPG4ueC5sZW5ndGg7cCsrKWxbcF09cyhuLnhbcF0pO2xldCBjPXBYdChuLGwsdCxvLGkpLG09ZFh0KG4sbCksZj13WihyLmFkZChjLm1tdWwoYy50cmFuc3Bvc2UoKSkpKTtyZXR1cm4gdD1uZXcgdm4oW3RdKSx0PXQuc3ViKGYubW11bChjKS5tbXVsKG0pLm11bChvKS50cmFuc3Bvc2UoKSksdC50bzFEQXJyYXkoKX12YXIgUmh0PWVzKCgpPT57U2h0KCl9KTt2YXIga2h0PXt9O1lTKGtodCx7ZGVmYXVsdDooKT0+RWh0fSk7ZnVuY3Rpb24gRWh0KG4sdCxlPXt9KXtsZXR7bWF4SXRlcmF0aW9uczpvPTEwMCxncmFkaWVudERpZmZlcmVuY2U6aT0uMSxkYW1waW5nOmE9MCxlcnJvclRvbGVyYW5jZTpyPS4wMSxtaW5WYWx1ZXM6cyxtYXhWYWx1ZXM6bCxpbml0aWFsVmFsdWVzOmN9PWU7aWYoYTw9MCl0aHJvdyBuZXcgRXJyb3IoIlRoZSBkYW1waW5nIG9wdGlvbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyIik7aWYoIW4ueHx8IW4ueSl0aHJvdyBuZXcgRXJyb3IoIlRoZSBkYXRhIHBhcmFtZXRlciBtdXN0IGhhdmUgeCBhbmQgeSBlbGVtZW50cyIpO2lmKCFINChuLngpfHxuLngubGVuZ3RoPDJ8fCFINChuLnkpfHxuLnkubGVuZ3RoPDIpdGhyb3cgbmV3IEVycm9yKCJUaGUgZGF0YSBwYXJhbWV0ZXIgZWxlbWVudHMgbXVzdCBiZSBhbiBhcnJheSB3aXRoIG1vcmUgdGhhbiAyIHBvaW50cyIpO2lmKG4ueC5sZW5ndGghPT1uLnkubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiVGhlIGRhdGEgcGFyYW1ldGVyIGVsZW1lbnRzIG11c3QgaGF2ZSB0aGUgc2FtZSBzaXplIik7bGV0IG09Y3x8bmV3IEFycmF5KHQubGVuZ3RoKS5maWxsKDEpLGY9bS5sZW5ndGg7aWYobD1sfHxuZXcgQXJyYXkoZikuZmlsbChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikscz1zfHxuZXcgQXJyYXkoZikuZmlsbChOdW1iZXIuTUlOX1NBRkVfSU5URUdFUiksbC5sZW5ndGghPT1zLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIm1pblZhbHVlcyBhbmQgbWF4VmFsdWVzIG11c3QgYmUgdGhlIHNhbWUgc2l6ZSIpO2lmKCFINChtKSl0aHJvdyBuZXcgRXJyb3IoImluaXRpYWxWYWx1ZXMgbXVzdCBiZSBhbiBhcnJheSIpO2xldCBwPUZGKG4sbSx0KSxnPXA8PXIsXztmb3IoXz0wO188byYmIWc7XysrKXttPVNaKG4sbSxhLGksdCk7Zm9yKGxldCBNPTA7TTxmO00rKyltW01dPU1hdGgubWluKE1hdGgubWF4KHNbTV0sbVtNXSksbFtNXSk7aWYocD1GRihuLG0sdCksaXNOYU4ocCkpYnJlYWs7Zz1wPD1yfXJldHVybntwYXJhbWV0ZXJWYWx1ZXM6bSxwYXJhbWV0ZXJFcnJvcjpwLGl0ZXJhdGlvbnM6X319dmFyIE5odD1lcygoKT0+e2p1dCgpO1V1dCgpO1JodCgpfSk7dmFyIFlodD1leShTcz0+eyJ1c2Ugc3RyaWN0Ijt2YXIgVGh0PVNzJiZTcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKG4sdCxlLG8pe3JldHVybiBuZXcoZXx8KGU9UHJvbWlzZSkpKGZ1bmN0aW9uKGksYSl7ZnVuY3Rpb24gcihjKXt0cnl7bChvLm5leHQoYykpfWNhdGNoKG0pe2EobSl9fWZ1bmN0aW9uIHMoYyl7dHJ5e2woby50aHJvdyhjKSl9Y2F0Y2gobSl7YShtKX19ZnVuY3Rpb24gbChjKXtjLmRvbmU/aShjLnZhbHVlKTpuZXcgZShmdW5jdGlvbihtKXttKGMudmFsdWUpfSkudGhlbihyLHMpfWwoKG89by5hcHBseShuLHR8fFtdKSkubmV4dCgpKX0pfSxBaHQ9U3MmJlNzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbihuLHQpe3ZhciBlPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZihhWzBdJjEpdGhyb3cgYVsxXTtyZXR1cm4gYVsxXX0sdHJ5czpbXSxvcHM6W119LG8saSxhLHI7cmV0dXJuIHI9e25leHQ6cygwKSx0aHJvdzpzKDEpLHJldHVybjpzKDIpfSx0eXBlb2YgU3ltYm9sPT0iZnVuY3Rpb24iJiYocltTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxyO2Z1bmN0aW9uIHMoYyl7cmV0dXJuIGZ1bmN0aW9uKG0pe3JldHVybiBsKFtjLG1dKX19ZnVuY3Rpb24gbChjKXtpZihvKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO2U7KXRyeXtpZihvPTEsaSYmKGE9Y1swXSYyP2kucmV0dXJuOmNbMF0/aS50aHJvd3x8KChhPWkucmV0dXJuKSYmYS5jYWxsKGkpLDApOmkubmV4dCkmJiEoYT1hLmNhbGwoaSxjWzFdKSkuZG9uZSlyZXR1cm4gYTtzd2l0Y2goaT0wLGEmJihjPVtjWzBdJjIsYS52YWx1ZV0pLGNbMF0pe2Nhc2UgMDpjYXNlIDE6YT1jO2JyZWFrO2Nhc2UgNDpyZXR1cm4gZS5sYWJlbCsrLHt2YWx1ZTpjWzFdLGRvbmU6ITF9O2Nhc2UgNTplLmxhYmVsKyssaT1jWzFdLGM9WzBdO2NvbnRpbnVlO2Nhc2UgNzpjPWUub3BzLnBvcCgpLGUudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKGE9ZS50cnlzLCEoYT1hLmxlbmd0aD4wJiZhW2EubGVuZ3RoLTFdKSYmKGNbMF09PT02fHxjWzBdPT09Mikpe2U9MDtjb250aW51ZX1pZihjWzBdPT09MyYmKCFhfHxjWzFdPmFbMF0mJmNbMV08YVszXSkpe2UubGFiZWw9Y1sxXTticmVha31pZihjWzBdPT09NiYmZS5sYWJlbDxhWzFdKXtlLmxhYmVsPWFbMV0sYT1jO2JyZWFrfWlmKGEmJmUubGFiZWw8YVsyXSl7ZS5sYWJlbD1hWzJdLGUub3BzLnB1c2goYyk7YnJlYWt9YVsyXSYmZS5vcHMucG9wKCksZS50cnlzLnBvcCgpO2NvbnRpbnVlfWM9dC5jYWxsKG4sZSl9Y2F0Y2gobSl7Yz1bNixtXSxpPTB9ZmluYWxseXtvPWE9MH1pZihjWzBdJjUpdGhyb3cgY1sxXTtyZXR1cm57dmFsdWU6Y1swXT9jWzFdOnZvaWQgMCxkb25lOiEwfX19LFJaPVNzJiZTcy5fX3JlYWR8fGZ1bmN0aW9uKG4sdCl7dmFyIGU9dHlwZW9mIFN5bWJvbD09ImZ1bmN0aW9uIiYmbltTeW1ib2wuaXRlcmF0b3JdO2lmKCFlKXJldHVybiBuO3ZhciBvPWUuY2FsbChuKSxpLGE9W10scjt0cnl7Zm9yKDsodD09PXZvaWQgMHx8dC0tID4wKSYmIShpPW8ubmV4dCgpKS5kb25lOylhLnB1c2goaS52YWx1ZSl9Y2F0Y2gocyl7cj17ZXJyb3I6c319ZmluYWxseXt0cnl7aSYmIWkuZG9uZSYmKGU9by5yZXR1cm4pJiZlLmNhbGwobyl9ZmluYWxseXtpZihyKXRocm93IHIuZXJyb3J9fXJldHVybiBhfSxEaHQ9U3MmJlNzLl9fc3ByZWFkfHxmdW5jdGlvbigpe2Zvcih2YXIgbj1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyluPW4uY29uY2F0KFJaKGFyZ3VtZW50c1t0XSkpO3JldHVybiBufSxqND1TcyYmU3MuX19pbXBvcnRTdGFyfHxmdW5jdGlvbihuKXtpZihuJiZuLl9fZXNNb2R1bGUpcmV0dXJuIG47dmFyIHQ9e307aWYobiE9bnVsbClmb3IodmFyIGUgaW4gbilPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChuLGUpJiYodFtlXT1uW2VdKTtyZXR1cm4gdC5kZWZhdWx0PW4sdH0sZ1h0PVNzJiZTcy5fX2ltcG9ydERlZmF1bHR8fGZ1bmN0aW9uKG4pe3JldHVybiBuJiZuLl9fZXNNb2R1bGU/bjp7ZGVmYXVsdDpufX07T2JqZWN0LmRlZmluZVByb3BlcnR5KFNzLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgdVh0PWo0KGdaKCkpLFFyPWo0KHVaKCkpLGpGPWo0KFZ1dCgpKSxJaHQ9ajQoYlooKSksd3M9ajQoUlMoKSksaFh0PWdYdCgoTmh0KCksU190KGtodCkpKSx6aHQ9MWUtNSxVRj0uMDAxLF9YdD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4odCl7dD09PXZvaWQgMCYmKHQ9e30pO3ZhciBlPXRoaXM7dGhpcy5sZWFybmluZ1JhdGU9MSx0aGlzLmxvY2FsQ29ubmVjdGl2aXR5PTEsdGhpcy5taW5EaXN0PS4xLHRoaXMubkNvbXBvbmVudHM9Mix0aGlzLm5FcG9jaHM9MCx0aGlzLm5OZWlnaGJvcnM9MTUsdGhpcy5uZWdhdGl2ZVNhbXBsZVJhdGU9NSx0aGlzLnJhbmRvbT1NYXRoLnJhbmRvbSx0aGlzLnJlcHVsc2lvblN0cmVuZ3RoPTEsdGhpcy5zZXRPcE1peFJhdGlvPTEsdGhpcy5zcHJlYWQ9MSx0aGlzLnRyYW5zZm9ybVF1ZXVlU2l6ZT00LHRoaXMudGFyZ2V0TWV0cmljPSJjYXRlZ29yaWNhbCIsdGhpcy50YXJnZXRXZWlnaHQ9LjUsdGhpcy50YXJnZXROTmVpZ2hib3JzPXRoaXMubk5laWdoYm9ycyx0aGlzLmRpc3RhbmNlRm49TGh0LHRoaXMuaXNJbml0aWFsaXplZD0hMSx0aGlzLnJwRm9yZXN0PVtdLHRoaXMuZW1iZWRkaW5nPVtdLHRoaXMub3B0aW1pemF0aW9uU3RhdGU9bmV3IE1YdDt2YXIgbz1mdW5jdGlvbihpKXt0W2ldIT09dm9pZCAwJiYoZVtpXT10W2ldKX07bygiZGlzdGFuY2VGbiIpLG8oImxlYXJuaW5nUmF0ZSIpLG8oImxvY2FsQ29ubmVjdGl2aXR5IiksbygibWluRGlzdCIpLG8oIm5Db21wb25lbnRzIiksbygibkVwb2NocyIpLG8oIm5OZWlnaGJvcnMiKSxvKCJuZWdhdGl2ZVNhbXBsZVJhdGUiKSxvKCJyYW5kb20iKSxvKCJyZXB1bHNpb25TdHJlbmd0aCIpLG8oInNldE9wTWl4UmF0aW8iKSxvKCJzcHJlYWQiKSxvKCJ0cmFuc2Zvcm1RdWV1ZVNpemUiKX1yZXR1cm4gbi5wcm90b3R5cGUuZml0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmluaXRpYWxpemVGaXQodCksdGhpcy5vcHRpbWl6ZUxheW91dCgpLHRoaXMuZW1iZWRkaW5nfSxuLnByb3RvdHlwZS5maXRBc3luYz1mdW5jdGlvbih0LGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT1mdW5jdGlvbigpe3JldHVybiEwfSksVGh0KHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBBaHQodGhpcyxmdW5jdGlvbihvKXtzd2l0Y2goby5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmluaXRpYWxpemVGaXQodCksWzQsdGhpcy5vcHRpbWl6ZUxheW91dEFzeW5jKGUpXTtjYXNlIDE6cmV0dXJuIG8uc2VudCgpLFsyLHRoaXMuZW1iZWRkaW5nXX19KX0pfSxuLnByb3RvdHlwZS5zZXRTdXBlcnZpc2VkUHJvamVjdGlvbj1mdW5jdGlvbih0LGUpe2U9PT12b2lkIDAmJihlPXt9KSx0aGlzLlk9dCx0aGlzLnRhcmdldE1ldHJpYz1lLnRhcmdldE1ldHJpY3x8dGhpcy50YXJnZXRNZXRyaWMsdGhpcy50YXJnZXRXZWlnaHQ9ZS50YXJnZXRXZWlnaHR8fHRoaXMudGFyZ2V0V2VpZ2h0LHRoaXMudGFyZ2V0Tk5laWdoYm9ycz1lLnRhcmdldE5OZWlnaGJvcnN8fHRoaXMudGFyZ2V0Tk5laWdoYm9yc30sbi5wcm90b3R5cGUuc2V0UHJlY29tcHV0ZWRLTk49ZnVuY3Rpb24odCxlKXt0aGlzLmtubkluZGljZXM9dCx0aGlzLmtubkRpc3RhbmNlcz1lfSxuLnByb3RvdHlwZS5pbml0aWFsaXplRml0PWZ1bmN0aW9uKHQpe2lmKHQubGVuZ3RoPD10aGlzLm5OZWlnaGJvcnMpdGhyb3cgbmV3IEVycm9yKCJOb3QgZW5vdWdoIGRhdGEgcG9pbnRzICgiK3QubGVuZ3RoKyIpIHRvIGNyZWF0ZSBuTmVpZ2hib3JzOiAiK3RoaXMubk5laWdoYm9ycysiLiAgQWRkIG1vcmUgZGF0YSBwb2ludHMgb3IgYWRqdXN0IHRoZSBjb25maWd1cmF0aW9uLiIpO2lmKHRoaXMuWD09PXQmJnRoaXMuaXNJbml0aWFsaXplZClyZXR1cm4gdGhpcy5nZXRORXBvY2hzKCk7aWYodGhpcy5YPXQsIXRoaXMua25uSW5kaWNlcyYmIXRoaXMua25uRGlzdGFuY2VzKXt2YXIgZT10aGlzLm5lYXJlc3ROZWlnaGJvcnModCk7dGhpcy5rbm5JbmRpY2VzPWUua25uSW5kaWNlcyx0aGlzLmtubkRpc3RhbmNlcz1lLmtubkRpc3RhbmNlc310aGlzLmdyYXBoPXRoaXMuZnV6enlTaW1wbGljaWFsU2V0KHQsdGhpcy5uTmVpZ2hib3JzLHRoaXMuc2V0T3BNaXhSYXRpbyksdGhpcy5tYWtlU2VhcmNoRm5zKCksdGhpcy5zZWFyY2hHcmFwaD10aGlzLm1ha2VTZWFyY2hHcmFwaCh0KSx0aGlzLnByb2Nlc3NHcmFwaEZvclN1cGVydmlzZWRQcm9qZWN0aW9uKCk7dmFyIG89dGhpcy5pbml0aWFsaXplU2ltcGxpY2lhbFNldEVtYmVkZGluZygpLGk9by5oZWFkLGE9by50YWlsLHI9by5lcG9jaHNQZXJTYW1wbGU7cmV0dXJuIHRoaXMub3B0aW1pemF0aW9uU3RhdGUuaGVhZD1pLHRoaXMub3B0aW1pemF0aW9uU3RhdGUudGFpbD1hLHRoaXMub3B0aW1pemF0aW9uU3RhdGUuZXBvY2hzUGVyU2FtcGxlPXIsdGhpcy5pbml0aWFsaXplT3B0aW1pemF0aW9uKCksdGhpcy5wcmVwYXJlRm9yT3B0aW1pemF0aW9uTG9vcCgpLHRoaXMuaXNJbml0aWFsaXplZD0hMCx0aGlzLmdldE5FcG9jaHMoKX0sbi5wcm90b3R5cGUubWFrZVNlYXJjaEZucz1mdW5jdGlvbigpe3ZhciB0PWpGLm1ha2VJbml0aWFsaXphdGlvbnModGhpcy5kaXN0YW5jZUZuKSxlPXQuaW5pdEZyb21UcmVlLG89dC5pbml0RnJvbVJhbmRvbTt0aGlzLmluaXRGcm9tVHJlZT1lLHRoaXMuaW5pdEZyb21SYW5kb209byx0aGlzLnNlYXJjaD1qRi5tYWtlSW5pdGlhbGl6ZWROTlNlYXJjaCh0aGlzLmRpc3RhbmNlRm4pfSxuLnByb3RvdHlwZS5tYWtlU2VhcmNoR3JhcGg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMua25uSW5kaWNlcyxvPXRoaXMua25uRGlzdGFuY2VzLGk9W3QubGVuZ3RoLHQubGVuZ3RoXSxhPW5ldyBRci5TcGFyc2VNYXRyaXgoW10sW10sW10saSkscj0wO3I8ZS5sZW5ndGg7cisrKWZvcih2YXIgcz1lW3JdLGw9b1tyXSxjPTA7YzxzLmxlbmd0aDtjKyspe3ZhciBtPXNbY10sZj1sW2NdO2Y+MCYmYS5zZXQocixtLGYpfXZhciBwPVFyLnRyYW5zcG9zZShhKTtyZXR1cm4gUXIubWF4aW11bShhLHApfSxuLnByb3RvdHlwZS50cmFuc2Zvcm09ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxvPXRoaXMuWDtpZihvPT09dm9pZCAwfHxvLmxlbmd0aD09PTApdGhyb3cgbmV3IEVycm9yKCJObyBkYXRhIGhhcyBiZWVuIGZpdC4iKTt2YXIgaT1NYXRoLmZsb29yKHRoaXMubk5laWdoYm9ycyp0aGlzLnRyYW5zZm9ybVF1ZXVlU2l6ZSk7aT1NYXRoLm1pbihvLmxlbmd0aCxpKTt2YXIgYT1qRi5pbml0aWFsaXplU2VhcmNoKHRoaXMucnBGb3Jlc3Qsbyx0LGksdGhpcy5pbml0RnJvbVJhbmRvbSx0aGlzLmluaXRGcm9tVHJlZSx0aGlzLnJhbmRvbSkscj10aGlzLnNlYXJjaChvLHRoaXMuc2VhcmNoR3JhcGgsYSx0KSxzPXVYdC5kZWhlYXBTb3J0KHIpLGw9cy5pbmRpY2VzLGM9cy53ZWlnaHRzO2w9bC5tYXAoZnVuY3Rpb24oYnQpe3JldHVybiBidC5zbGljZSgwLGUubk5laWdoYm9ycyl9KSxjPWMubWFwKGZ1bmN0aW9uKGJ0KXtyZXR1cm4gYnQuc2xpY2UoMCxlLm5OZWlnaGJvcnMpfSk7dmFyIG09TWF0aC5tYXgoMCx0aGlzLmxvY2FsQ29ubmVjdGl2aXR5LTEpLGY9dGhpcy5zbW9vdGhLTk5EaXN0YW5jZShjLHRoaXMubk5laWdoYm9ycyxtKSxwPWYuc2lnbWFzLGc9Zi5yaG9zLF89dGhpcy5jb21wdXRlTWVtYmVyc2hpcFN0cmVuZ3RocyhsLGMscCxnKSxNPV8ucm93cyx5PV8uY29scyxPPV8udmFscyxiPVt0Lmxlbmd0aCxvLmxlbmd0aF0sUj1uZXcgUXIuU3BhcnNlTWF0cml4KE0seSxPLGIpLEU9UXIubm9ybWFsaXplKFIsImwxIiksaj1Rci5nZXRDU1IoRSkscnQ9dC5sZW5ndGgsSj13cy5yZXNoYXBlMmQoai5pbmRpY2VzLHJ0LHRoaXMubk5laWdoYm9ycyksRXQ9d3MucmVzaGFwZTJkKGoudmFsdWVzLHJ0LHRoaXMubk5laWdoYm9ycyksanQ9VWh0KEosRXQsdGhpcy5lbWJlZGRpbmcpLGt0PXRoaXMubkVwb2Nocz90aGlzLm5FcG9jaHMvMzpSLm5Sb3dzPD0xZTQ/MTAwOjMwLHc9Ui5nZXRWYWx1ZXMoKS5yZWR1Y2UoZnVuY3Rpb24oYnQsb3Qpe3JldHVybiBvdD5idD9vdDpidH0sMCk7Uj1SLm1hcChmdW5jdGlvbihidCl7cmV0dXJuIGJ0PHcva3Q/MDpidH0pLFI9UXIuZWxpbWluYXRlWmVyb3MoUik7dmFyIFU9dGhpcy5tYWtlRXBvY2hzUGVyU2FtcGxlKFIuZ2V0VmFsdWVzKCksa3QpLG50PVIuZ2V0Um93cygpLGx0PVIuZ2V0Q29scygpO3JldHVybiB0aGlzLmFzc2lnbk9wdGltaXphdGlvblN0YXRlUGFyYW1ldGVycyh7aGVhZEVtYmVkZGluZzpqdCx0YWlsRW1iZWRkaW5nOnRoaXMuZW1iZWRkaW5nLGhlYWQ6bnQsdGFpbDpsdCxjdXJyZW50RXBvY2g6MCxuRXBvY2hzOmt0LG5WZXJ0aWNlczpSLmdldERpbXMoKVsxXSxlcG9jaHNQZXJTYW1wbGU6VX0pLHRoaXMucHJlcGFyZUZvck9wdGltaXphdGlvbkxvb3AoKSx0aGlzLm9wdGltaXplTGF5b3V0KCl9LG4ucHJvdG90eXBlLnByb2Nlc3NHcmFwaEZvclN1cGVydmlzZWRQcm9qZWN0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXQuWSxvPXQuWDtpZihlKXtpZihlLmxlbmd0aCE9PW8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiTGVuZ3RoIG9mIFggYW5kIHkgbXVzdCBiZSBlcXVhbCIpO2lmKHRoaXMudGFyZ2V0TWV0cmljPT09ImNhdGVnb3JpY2FsIil7dmFyIGk9dGhpcy50YXJnZXRXZWlnaHQ8MSxhPWk/Mi41KigxLygxLXRoaXMudGFyZ2V0V2VpZ2h0KSk6MWUxMjt0aGlzLmdyYXBoPXRoaXMuY2F0ZWdvcmljYWxTaW1wbGljaWFsU2V0SW50ZXJzZWN0aW9uKHRoaXMuZ3JhcGgsZSxhKX19fSxuLnByb3RvdHlwZS5zdGVwPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpbWl6YXRpb25TdGF0ZS5jdXJyZW50RXBvY2g7cmV0dXJuIHQ8dGhpcy5nZXRORXBvY2hzKCkmJnRoaXMub3B0aW1pemVMYXlvdXRTdGVwKHQpLHRoaXMub3B0aW1pemF0aW9uU3RhdGUuY3VycmVudEVwb2NofSxuLnByb3RvdHlwZS5nZXRFbWJlZGRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbWJlZGRpbmd9LG4ucHJvdG90eXBlLm5lYXJlc3ROZWlnaGJvcnM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxvPWUuZGlzdGFuY2VGbixpPWUubk5laWdoYm9ycyxhPWZ1bmN0aW9uKF8pe3JldHVybiBNYXRoLmxvZyhfKS9NYXRoLmxvZygyKX0scj1qRi5tYWtlTk5EZXNjZW50KG8sdGhpcy5yYW5kb20pLHM9ZnVuY3Rpb24oXyl7cmV0dXJuIF89PT0uNT8wOk1hdGgucm91bmQoXyl9LGw9NStNYXRoLmZsb29yKHMoTWF0aC5wb3codC5sZW5ndGgsLjUpLzIwKSksYz1NYXRoLm1heCg1LE1hdGguZmxvb3IoTWF0aC5yb3VuZChhKHQubGVuZ3RoKSkpKTt0aGlzLnJwRm9yZXN0PUlodC5tYWtlRm9yZXN0KHQsaSxsLHRoaXMucmFuZG9tKTt2YXIgbT1JaHQubWFrZUxlYWZBcnJheSh0aGlzLnJwRm9yZXN0KSxmPXIodCxtLGksYykscD1mLmluZGljZXMsZz1mLndlaWdodHM7cmV0dXJue2tubkluZGljZXM6cCxrbm5EaXN0YW5jZXM6Z319LG4ucHJvdG90eXBlLmZ1enp5U2ltcGxpY2lhbFNldD1mdW5jdGlvbih0LGUsbyl7bz09PXZvaWQgMCYmKG89MSk7dmFyIGk9dGhpcyxhPWkua25uSW5kaWNlcyxyPWE9PT12b2lkIDA/W106YSxzPWkua25uRGlzdGFuY2VzLGw9cz09PXZvaWQgMD9bXTpzLGM9aS5sb2NhbENvbm5lY3Rpdml0eSxtPXRoaXMuc21vb3RoS05ORGlzdGFuY2UobCxlLGMpLGY9bS5zaWdtYXMscD1tLnJob3MsZz10aGlzLmNvbXB1dGVNZW1iZXJzaGlwU3RyZW5ndGhzKHIsbCxmLHApLF89Zy5yb3dzLE09Zy5jb2xzLHk9Zy52YWxzLE89W3QubGVuZ3RoLHQubGVuZ3RoXSxiPW5ldyBRci5TcGFyc2VNYXRyaXgoXyxNLHksTyksUj1Rci50cmFuc3Bvc2UoYiksRT1Rci5wYWlyd2lzZU11bHRpcGx5KGIsUiksaj1Rci5zdWJ0cmFjdChRci5hZGQoYixSKSxFKSxydD1Rci5tdWx0aXBseVNjYWxhcihqLG8pLEo9UXIubXVsdGlwbHlTY2FsYXIoRSwxLW8pLEV0PVFyLmFkZChydCxKKTtyZXR1cm4gRXR9LG4ucHJvdG90eXBlLmNhdGVnb3JpY2FsU2ltcGxpY2lhbFNldEludGVyc2VjdGlvbj1mdW5jdGlvbih0LGUsbyxpKXtpPT09dm9pZCAwJiYoaT0xKTt2YXIgYT1WaHQodCxlLGksbyk7cmV0dXJuIGE9UXIuZWxpbWluYXRlWmVyb3MoYSksamh0KGEpfSxuLnByb3RvdHlwZS5zbW9vdGhLTk5EaXN0YW5jZT1mdW5jdGlvbih0LGUsbyxpLGEpe289PT12b2lkIDAmJihvPTEpLGk9PT12b2lkIDAmJihpPTY0KSxhPT09dm9pZCAwJiYoYT0xKTtmb3IodmFyIHI9TWF0aC5sb2coZSkvTWF0aC5sb2coMikqYSxzPXdzLnplcm9zKHQubGVuZ3RoKSxsPXdzLnplcm9zKHQubGVuZ3RoKSxjPTA7Yzx0Lmxlbmd0aDtjKyspe3ZhciBtPTAsZj0xLzAscD0xLGc9dFtjXSxfPWcuZmlsdGVyKGZ1bmN0aW9uKEope3JldHVybiBKPjB9KTtpZihfLmxlbmd0aD49byl7dmFyIE09TWF0aC5mbG9vcihvKSx5PW8tTTtNPjA/KHNbY109X1tNLTFdLHk+emh0JiYoc1tjXSs9eSooX1tNXS1fW00tMV0pKSk6c1tjXT15Kl9bMF19ZWxzZSBfLmxlbmd0aD4wJiYoc1tjXT13cy5tYXgoXykpO2Zvcih2YXIgTz0wO088aTtPKyspe2Zvcih2YXIgYj0wLFI9MTtSPHRbY10ubGVuZ3RoO1IrKyl7dmFyIEU9dFtjXVtSXS1zW2NdO0U+MD9iKz1NYXRoLmV4cCgtKEUvcCkpOmIrPTF9aWYoTWF0aC5hYnMoYi1yKTx6aHQpYnJlYWs7Yj5yPyhmPXAscD0obStmKS8yKToobT1wLGY9PT0xLzA/cCo9MjpwPShtK2YpLzIpfWlmKGxbY109cCxzW2NdPjApe3ZhciBqPXdzLm1lYW4oZyk7bFtjXTxVRipqJiYobFtjXT1VRipqKX1lbHNle3ZhciBydD13cy5tZWFuKHQubWFwKHdzLm1lYW4pKTtsW2NdPFVGKnJ0JiYobFtjXT1VRipydCl9fXJldHVybntzaWdtYXM6bCxyaG9zOnN9fSxuLnByb3RvdHlwZS5jb21wdXRlTWVtYmVyc2hpcFN0cmVuZ3Rocz1mdW5jdGlvbih0LGUsbyxpKXtmb3IodmFyIGE9dC5sZW5ndGgscj10WzBdLmxlbmd0aCxzPXdzLnplcm9zKGEqciksbD13cy56ZXJvcyhhKnIpLGM9d3MuemVyb3MoYSpyKSxtPTA7bTxhO20rKylmb3IodmFyIGY9MDtmPHI7ZisrKXt2YXIgcD0wO3RbbV1bZl0hPT0tMSYmKHRbbV1bZl09PT1tP3A9MDplW21dW2ZdLWlbbV08PTA/cD0xOnA9TWF0aC5leHAoLSgoZVttXVtmXS1pW21dKS9vW21dKSksc1ttKnIrZl09bSxsW20qcitmXT10W21dW2ZdLGNbbSpyK2ZdPXApfXJldHVybntyb3dzOnMsY29sczpsLHZhbHM6Y319LG4ucHJvdG90eXBlLmluaXRpYWxpemVTaW1wbGljaWFsU2V0RW1iZWRkaW5nPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsZT10aGlzLmdldE5FcG9jaHMoKSxvPXRoaXMubkNvbXBvbmVudHMsaT10aGlzLmdyYXBoLmdldFZhbHVlcygpLGE9MCxyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBzPWlbcl07YTxpW3JdJiYoYT1zKX12YXIgbD10aGlzLmdyYXBoLm1hcChmdW5jdGlvbihNKXtyZXR1cm4gTTxhL2U/MDpNfSk7dGhpcy5lbWJlZGRpbmc9d3MuemVyb3MobC5uUm93cykubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHdzLnplcm9zKG8pLm1hcChmdW5jdGlvbigpe3JldHVybiB3cy50YXVSYW5kKHQucmFuZG9tKSoyMCstMTB9KX0pO2Zvcih2YXIgYz1bXSxtPVtdLGY9W10scD1sLmdldEFsbCgpLHI9MDtyPHAubGVuZ3RoO3IrKyl7dmFyIGc9cFtyXTtnLnZhbHVlJiYoYy5wdXNoKGcudmFsdWUpLGYucHVzaChnLnJvdyksbS5wdXNoKGcuY29sKSl9dmFyIF89dGhpcy5tYWtlRXBvY2hzUGVyU2FtcGxlKGMsZSk7cmV0dXJue2hlYWQ6bSx0YWlsOmYsZXBvY2hzUGVyU2FtcGxlOl99fSxuLnByb3RvdHlwZS5tYWtlRXBvY2hzUGVyU2FtcGxlPWZ1bmN0aW9uKHQsZSl7dmFyIG89d3MuZmlsbGVkKHQubGVuZ3RoLC0xKSxpPXdzLm1heCh0KSxhPXQubWFwKGZ1bmN0aW9uKHIpe3JldHVybiByL2kqZX0pO3JldHVybiBhLmZvckVhY2goZnVuY3Rpb24ocixzKXtyPjAmJihvW3NdPWUvYVtzXSl9KSxvfSxuLnByb3RvdHlwZS5hc3NpZ25PcHRpbWl6YXRpb25TdGF0ZVBhcmFtZXRlcnM9ZnVuY3Rpb24odCl7T2JqZWN0LmFzc2lnbih0aGlzLm9wdGltaXphdGlvblN0YXRlLHQpfSxuLnByb3RvdHlwZS5wcmVwYXJlRm9yT3B0aW1pemF0aW9uTG9vcD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10LnJlcHVsc2lvblN0cmVuZ3RoLG89dC5sZWFybmluZ1JhdGUsaT10Lm5lZ2F0aXZlU2FtcGxlUmF0ZSxhPXRoaXMub3B0aW1pemF0aW9uU3RhdGUscj1hLmVwb2Noc1BlclNhbXBsZSxzPWEuaGVhZEVtYmVkZGluZyxsPWEudGFpbEVtYmVkZGluZyxjPXNbMF0ubGVuZ3RoLG09cy5sZW5ndGg9PT1sLmxlbmd0aCxmPXIubWFwKGZ1bmN0aW9uKF8pe3JldHVybiBfL2l9KSxwPURodChmKSxnPURodChyKTt0aGlzLmFzc2lnbk9wdGltaXphdGlvblN0YXRlUGFyYW1ldGVycyh7ZXBvY2hPZk5leHRTYW1wbGU6ZyxlcG9jaE9mTmV4dE5lZ2F0aXZlU2FtcGxlOnAsZXBvY2hzUGVyTmVnYXRpdmVTYW1wbGU6Zixtb3ZlT3RoZXI6bSxpbml0aWFsQWxwaGE6byxhbHBoYTpvLGdhbW1hOmUsZGltOmN9KX0sbi5wcm90b3R5cGUuaW5pdGlhbGl6ZU9wdGltaXphdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZW1iZWRkaW5nLGU9dGhpcy5lbWJlZGRpbmcsbz10aGlzLm9wdGltaXphdGlvblN0YXRlLGk9by5oZWFkLGE9by50YWlsLHI9by5lcG9jaHNQZXJTYW1wbGUscz10aGlzLmdldE5FcG9jaHMoKSxsPXRoaXMuZ3JhcGgubkNvbHMsYz1CaHQodGhpcy5zcHJlYWQsdGhpcy5taW5EaXN0KSxtPWMuYSxmPWMuYjt0aGlzLmFzc2lnbk9wdGltaXphdGlvblN0YXRlUGFyYW1ldGVycyh7aGVhZEVtYmVkZGluZzp0LHRhaWxFbWJlZGRpbmc6ZSxoZWFkOmksdGFpbDphLGVwb2Noc1BlclNhbXBsZTpyLGE6bSxiOmYsbkVwb2NoczpzLG5WZXJ0aWNlczpsfSl9LG4ucHJvdG90eXBlLm9wdGltaXplTGF5b3V0U3RlcD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5vcHRpbWl6YXRpb25TdGF0ZSxvPWUuaGVhZCxpPWUudGFpbCxhPWUuaGVhZEVtYmVkZGluZyxyPWUudGFpbEVtYmVkZGluZyxzPWUuZXBvY2hzUGVyU2FtcGxlLGw9ZS5lcG9jaE9mTmV4dFNhbXBsZSxjPWUuZXBvY2hPZk5leHROZWdhdGl2ZVNhbXBsZSxtPWUuZXBvY2hzUGVyTmVnYXRpdmVTYW1wbGUsZj1lLm1vdmVPdGhlcixwPWUuaW5pdGlhbEFscGhhLGc9ZS5hbHBoYSxfPWUuZ2FtbWEsTT1lLmEseT1lLmIsTz1lLmRpbSxiPWUubkVwb2NocyxSPWUublZlcnRpY2VzLEU9NCxqPTA7ajxzLmxlbmd0aDtqKyspaWYoIShsW2pdPnQpKXt2YXIgcnQ9b1tqXSxKPWlbal0sRXQ9YVtydF0sanQ9cltKXSxrdD1GaHQoRXQsanQpLHc9MDtrdD4wJiYodz0tMipNKnkqTWF0aC5wb3coa3QseS0xKSx3Lz1NKk1hdGgucG93KGt0LHkpKzEpO2Zvcih2YXIgVT0wO1U8TztVKyspe3ZhciBudD1IaHQodyooRXRbVV0tanRbVV0pLEUpO0V0W1VdKz1udCpnLGYmJihqdFtVXSs9LW50KmcpfWxbal0rPXNbal07Zm9yKHZhciBsdD1NYXRoLmZsb29yKCh0LWNbal0pL21bal0pLGJ0PTA7YnQ8bHQ7YnQrKyl7dmFyIG90PXdzLnRhdVJhbmRJbnQoUix0aGlzLnJhbmRvbSksdXQ9cltvdF0sZ3Q9Rmh0KEV0LHV0KSxXdD0wO2lmKGd0PjApV3Q9MipfKnksV3QvPSguMDAxK2d0KSooTSpNYXRoLnBvdyhndCx5KSsxKTtlbHNlIGlmKHJ0PT09b3QpY29udGludWU7Zm9yKHZhciBVPTA7VTxPO1UrKyl7dmFyIG50PTQ7V3Q+MCYmKG50PUhodChXdCooRXRbVV0tdXRbVV0pLEUpKSxFdFtVXSs9bnQqZ319Y1tqXSs9bHQqbVtqXX1yZXR1cm4gZS5hbHBoYT1wKigxLXQvYiksZS5jdXJyZW50RXBvY2grPTEsYX0sbi5wcm90b3R5cGUub3B0aW1pemVMYXlvdXRBc3luYz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0PT09dm9pZCAwJiYodD1mdW5jdGlvbigpe3JldHVybiEwfSksbmV3IFByb21pc2UoZnVuY3Rpb24obyxpKXt2YXIgYT1mdW5jdGlvbigpe3JldHVybiBUaHQoZSx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHIscyxsLGMsbSxmO3JldHVybiBBaHQodGhpcyxmdW5jdGlvbihwKXt0cnl7aWYocj10aGlzLm9wdGltaXphdGlvblN0YXRlLHM9ci5uRXBvY2hzLGw9ci5jdXJyZW50RXBvY2gsdGhpcy5lbWJlZGRpbmc9dGhpcy5vcHRpbWl6ZUxheW91dFN0ZXAobCksYz10aGlzLm9wdGltaXphdGlvblN0YXRlLmN1cnJlbnRFcG9jaCxtPXQoYyk9PT0hMSxmPWM9PT1zLCFtJiYhZilzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGEoKX0sMCk7ZWxzZSByZXR1cm5bMixvKGYpXX1jYXRjaChnKXtpKGcpfXJldHVyblsyXX0pfSl9O3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gYSgpfSwwKX0pfSxuLnByb3RvdHlwZS5vcHRpbWl6ZUxheW91dD1mdW5jdGlvbih0KXt0PT09dm9pZCAwJiYodD1mdW5jdGlvbigpe3JldHVybiEwfSk7Zm9yKHZhciBlPSExLG89W107IWU7KXt2YXIgaT10aGlzLm9wdGltaXphdGlvblN0YXRlLGE9aS5uRXBvY2hzLHI9aS5jdXJyZW50RXBvY2g7bz10aGlzLm9wdGltaXplTGF5b3V0U3RlcChyKTt2YXIgcz10aGlzLm9wdGltaXphdGlvblN0YXRlLmN1cnJlbnRFcG9jaCxsPXQocyk9PT0hMTtlPXM9PT1hfHxsfXJldHVybiBvfSxuLnByb3RvdHlwZS5nZXRORXBvY2hzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5ncmFwaDtpZih0aGlzLm5FcG9jaHM+MClyZXR1cm4gdGhpcy5uRXBvY2hzO3ZhciBlPXQublJvd3M7cmV0dXJuIGU8PTI1MDA/NTAwOmU8PTVlMz80MDA6ZTw9NzUwMD8zMDA6MjAwfSxufSgpO1NzLlVNQVA9X1h0O2Z1bmN0aW9uIExodChuLHQpe2Zvcih2YXIgZT0wLG89MDtvPG4ubGVuZ3RoO28rKyllKz1NYXRoLnBvdyhuW29dLXRbb10sMik7cmV0dXJuIE1hdGguc3FydChlKX1Tcy5ldWNsaWRlYW49TGh0O2Z1bmN0aW9uIENYdChuLHQpe2Zvcih2YXIgZT0wLG89MCxpPTAsYT0wO2E8bi5sZW5ndGg7YSsrKWUrPW5bYV0qdFthXSxvKz1NYXRoLnBvdyhuW2FdLDIpLGkrPU1hdGgucG93KHRbYV0sMik7cmV0dXJuIG89PT0wJiZpPT09MD8wOm89PT0wfHxpPT09MD8xOjEtZS9NYXRoLnNxcnQobyppKX1Tcy5jb3NpbmU9Q1h0O3ZhciBNWHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dGhpcy5jdXJyZW50RXBvY2g9MCx0aGlzLmhlYWRFbWJlZGRpbmc9W10sdGhpcy50YWlsRW1iZWRkaW5nPVtdLHRoaXMuaGVhZD1bXSx0aGlzLnRhaWw9W10sdGhpcy5lcG9jaHNQZXJTYW1wbGU9W10sdGhpcy5lcG9jaE9mTmV4dFNhbXBsZT1bXSx0aGlzLmVwb2NoT2ZOZXh0TmVnYXRpdmVTYW1wbGU9W10sdGhpcy5lcG9jaHNQZXJOZWdhdGl2ZVNhbXBsZT1bXSx0aGlzLm1vdmVPdGhlcj0hMCx0aGlzLmluaXRpYWxBbHBoYT0xLHRoaXMuYWxwaGE9MSx0aGlzLmdhbW1hPTEsdGhpcy5hPTEuNTc2OTQzNDYwMzExMzA3Nyx0aGlzLmI9Ljg5NTA2MDg3NzkxMDk3MzMsdGhpcy5kaW09Mix0aGlzLm5FcG9jaHM9NTAwLHRoaXMublZlcnRpY2VzPTB9cmV0dXJuIG59KCk7ZnVuY3Rpb24gSGh0KG4sdCl7cmV0dXJuIG4+dD90Om48LXQ/LXQ6bn1mdW5jdGlvbiBGaHQobix0KXtmb3IodmFyIGU9MCxvPTA7bzxuLmxlbmd0aDtvKyspZSs9TWF0aC5wb3cobltvXS10W29dLDIpO3JldHVybiBlfWZ1bmN0aW9uIEJodChuLHQpe3ZhciBlPWZ1bmN0aW9uKHApe3ZhciBnPVJaKHAsMiksXz1nWzBdLE09Z1sxXTtyZXR1cm4gZnVuY3Rpb24oeSl7cmV0dXJuIDEvKDErXypNYXRoLnBvdyh5LDIqTSkpfX0sbz13cy5saW5lYXIoMCxuKjMsMzAwKS5tYXAoZnVuY3Rpb24ocCl7cmV0dXJuIHA8dD8xOnB9KSxpPXdzLnplcm9zKG8ubGVuZ3RoKS5tYXAoZnVuY3Rpb24ocCxnKXt2YXIgXz1vW2ddPj10O3JldHVybiBfP01hdGguZXhwKC0ob1tnXS10KS9uKTpwfSksYT1bLjUsLjVdLHI9e3g6byx5Oml9LHM9e2RhbXBpbmc6MS41LGluaXRpYWxWYWx1ZXM6YSxncmFkaWVudERpZmZlcmVuY2U6LjEsbWF4SXRlcmF0aW9uczoxMDAsZXJyb3JUb2xlcmFuY2U6LjAxfSxsPWhYdC5kZWZhdWx0KHIsZSxzKS5wYXJhbWV0ZXJWYWx1ZXMsYz1SWihsLDIpLG09Y1swXSxmPWNbMV07cmV0dXJue2E6bSxiOmZ9fVNzLmZpbmRBQlBhcmFtcz1CaHQ7ZnVuY3Rpb24gVmh0KG4sdCxlLG8pe3JldHVybiBlPT09dm9pZCAwJiYoZT0xKSxvPT09dm9pZCAwJiYobz01KSxuLm1hcChmdW5jdGlvbihpLGEscil7cmV0dXJuIHRbYV09PT0tMXx8dFtyXT09PS0xP2kqTWF0aC5leHAoLWUpOnRbYV0hPT10W3JdP2kqTWF0aC5leHAoLW8pOml9KX1Tcy5mYXN0SW50ZXJzZWN0aW9uPVZodDtmdW5jdGlvbiBqaHQobil7bj1Rci5ub3JtYWxpemUobiwibWF4Iik7dmFyIHQ9UXIudHJhbnNwb3NlKG4pLGU9UXIucGFpcndpc2VNdWx0aXBseSh0LG4pO3JldHVybiBuPVFyLmFkZChuLFFyLnN1YnRyYWN0KHQsZSkpLFFyLmVsaW1pbmF0ZVplcm9zKG4pfVNzLnJlc2V0TG9jYWxDb25uZWN0aXZpdHk9amh0O2Z1bmN0aW9uIFVodChuLHQsZSl7Zm9yKHZhciBvPXdzLnplcm9zKG4ubGVuZ3RoKS5tYXAoZnVuY3Rpb24obCl7cmV0dXJuIHdzLnplcm9zKGVbMF0ubGVuZ3RoKX0pLGk9MDtpPG4ubGVuZ3RoO2krKylmb3IodmFyIGE9MDthPG5bMF0ubGVuZ3RoO2ErKylmb3IodmFyIHI9MDtyPGVbMF0ubGVuZ3RoO3IrKyl7dmFyIHM9bltpXVthXTtvW2ldW3JdKz10W2ldW2FdKmVbc11bcl19cmV0dXJuIG99U3MuaW5pdFRyYW5zZm9ybT1VaHR9KTt2YXIgR2h0PWV5KEVaPT57InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShFWiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGJYdD1ZaHQoKTtFWi5VTUFQPWJYdC5VTUFQfSk7dmFyIHlYPSRaKFBYKCksMSkse19fZXh0ZW5kczpZaSxfX2Fzc2lnbjpXS3QsX19yZXN0OmVfLF9fZGVjb3JhdGU6eFgsX19wYXJhbTpxS3QsX19tZXRhZGF0YTpaS3QsX19hd2FpdGVyOnpDLF9fZ2VuZXJhdG9yOm9OLF9fZXhwb3J0U3RhcjpYS3QsX19jcmVhdGVCaW5kaW5nOlFLdCxfX3ZhbHVlczpMTyxfX3JlYWQ6R2ksX19zcHJlYWQ6S0t0LF9fc3ByZWFkQXJyYXlzOkpLdCxfX3NwcmVhZEFycmF5OmRhLF9fYXdhaXQ6aU4sX19hc3luY0dlbmVyYXRvcjp2WCxfX2FzeW5jRGVsZWdhdG9yOiRLdCxfX2FzeW5jVmFsdWVzOndYLF9fbWFrZVRlbXBsYXRlT2JqZWN0OnRKdCxfX2ltcG9ydFN0YXI6ZUp0LF9faW1wb3J0RGVmYXVsdDpuSnQsX19jbGFzc1ByaXZhdGVGaWVsZEdldDpvSnQsX19jbGFzc1ByaXZhdGVGaWVsZFNldDppSnQsX19jbGFzc1ByaXZhdGVGaWVsZEluOmFKdH09eVguZGVmYXVsdDtmdW5jdGlvbiBRbihuKXtyZXR1cm4gdHlwZW9mIG49PSJmdW5jdGlvbiJ9ZnVuY3Rpb24gSzEobil7dmFyIHQ9ZnVuY3Rpb24obyl7RXJyb3IuY2FsbChvKSxvLnN0YWNrPW5ldyBFcnJvcigpLnN0YWNrfSxlPW4odCk7cmV0dXJuIGUucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGV9dmFyIGFOPUsxKGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbihlKXtuKHRoaXMpLHRoaXMubWVzc2FnZT1lP2UubGVuZ3RoK2AgZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjoKYCtlLm1hcChmdW5jdGlvbihvLGkpe3JldHVybiBpKzErIikgIitvLnRvU3RyaW5nKCl9KS5qb2luKGAKICBgKToiIix0aGlzLm5hbWU9IlVuc3Vic2NyaXB0aW9uRXJyb3IiLHRoaXMuZXJyb3JzPWV9fSk7ZnVuY3Rpb24gJHgobix0KXtpZihuKXt2YXIgZT1uLmluZGV4T2YodCk7MDw9ZSYmbi5zcGxpY2UoZSwxKX19dmFyIEVvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbih0KXt0aGlzLmluaXRpYWxUZWFyZG93bj10LHRoaXMuY2xvc2VkPSExLHRoaXMuX3BhcmVudGFnZT1udWxsLHRoaXMuX2ZpbmFsaXplcnM9bnVsbH1yZXR1cm4gbi5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt2YXIgdCxlLG8saSxhO2lmKCF0aGlzLmNsb3NlZCl7dGhpcy5jbG9zZWQ9ITA7dmFyIHI9dGhpcy5fcGFyZW50YWdlO2lmKHIpaWYodGhpcy5fcGFyZW50YWdlPW51bGwsQXJyYXkuaXNBcnJheShyKSl0cnl7Zm9yKHZhciBzPUxPKHIpLGw9cy5uZXh0KCk7IWwuZG9uZTtsPXMubmV4dCgpKXt2YXIgYz1sLnZhbHVlO2MucmVtb3ZlKHRoaXMpfX1jYXRjaChNKXt0PXtlcnJvcjpNfX1maW5hbGx5e3RyeXtsJiYhbC5kb25lJiYoZT1zLnJldHVybikmJmUuY2FsbChzKX1maW5hbGx5e2lmKHQpdGhyb3cgdC5lcnJvcn19ZWxzZSByLnJlbW92ZSh0aGlzKTt2YXIgbT10aGlzLmluaXRpYWxUZWFyZG93bjtpZihRbihtKSl0cnl7bSgpfWNhdGNoKE0pe2E9TSBpbnN0YW5jZW9mIGFOP00uZXJyb3JzOltNXX12YXIgZj10aGlzLl9maW5hbGl6ZXJzO2lmKGYpe3RoaXMuX2ZpbmFsaXplcnM9bnVsbDt0cnl7Zm9yKHZhciBwPUxPKGYpLGc9cC5uZXh0KCk7IWcuZG9uZTtnPXAubmV4dCgpKXt2YXIgXz1nLnZhbHVlO3RyeXtTWChfKX1jYXRjaChNKXthPWEhPW51bGw/YTpbXSxNIGluc3RhbmNlb2YgYU4/YT1kYShkYShbXSxHaShhKSksR2koTS5lcnJvcnMpKTphLnB1c2goTSl9fX1jYXRjaChNKXtvPXtlcnJvcjpNfX1maW5hbGx5e3RyeXtnJiYhZy5kb25lJiYoaT1wLnJldHVybikmJmkuY2FsbChwKX1maW5hbGx5e2lmKG8pdGhyb3cgby5lcnJvcn19fWlmKGEpdGhyb3cgbmV3IGFOKGEpfX0sbi5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHQpe3ZhciBlO2lmKHQmJnQhPT10aGlzKWlmKHRoaXMuY2xvc2VkKVNYKHQpO2Vsc2V7aWYodCBpbnN0YW5jZW9mIG4pe2lmKHQuY2xvc2VkfHx0Ll9oYXNQYXJlbnQodGhpcykpcmV0dXJuO3QuX2FkZFBhcmVudCh0aGlzKX0odGhpcy5fZmluYWxpemVycz0oZT10aGlzLl9maW5hbGl6ZXJzKSE9PW51bGwmJmUhPT12b2lkIDA/ZTpbXSkucHVzaCh0KX19LG4ucHJvdG90eXBlLl9oYXNQYXJlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcGFyZW50YWdlO3JldHVybiBlPT09dHx8QXJyYXkuaXNBcnJheShlKSYmZS5pbmNsdWRlcyh0KX0sbi5wcm90b3R5cGUuX2FkZFBhcmVudD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9wYXJlbnRhZ2U7dGhpcy5fcGFyZW50YWdlPUFycmF5LmlzQXJyYXkoZSk/KGUucHVzaCh0KSxlKTplP1tlLHRdOnR9LG4ucHJvdG90eXBlLl9yZW1vdmVQYXJlbnQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fcGFyZW50YWdlO2U9PT10P3RoaXMuX3BhcmVudGFnZT1udWxsOkFycmF5LmlzQXJyYXkoZSkmJiR4KGUsdCl9LG4ucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9maW5hbGl6ZXJzO2UmJiR4KGUsdCksdCBpbnN0YW5jZW9mIG4mJnQuX3JlbW92ZVBhcmVudCh0aGlzKX0sbi5FTVBUWT1mdW5jdGlvbigpe3ZhciB0PW5ldyBuO3JldHVybiB0LmNsb3NlZD0hMCx0fSgpLG59KCk7dmFyIHk3PUVvLkVNUFRZO2Z1bmN0aW9uIHJOKG4pe3JldHVybiBuIGluc3RhbmNlb2YgRW98fG4mJiJjbG9zZWQiaW4gbiYmUW4obi5yZW1vdmUpJiZRbihuLmFkZCkmJlFuKG4udW5zdWJzY3JpYmUpfWZ1bmN0aW9uIFNYKG4pe1FuKG4pP24oKTpuLnVuc3Vic2NyaWJlKCl9dmFyIEhDPXtvblVuaGFuZGxlZEVycm9yOm51bGwsb25TdG9wcGVkTm90aWZpY2F0aW9uOm51bGwsUHJvbWlzZTp2b2lkIDAsdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZzohMSx1c2VEZXByZWNhdGVkTmV4dENvbnRleHQ6ITF9O3ZhciBKMT17c2V0VGltZW91dDpmdW5jdGlvbihuLHQpe2Zvcih2YXIgZT1bXSxvPTI7bzxhcmd1bWVudHMubGVuZ3RoO28rKyllW28tMl09YXJndW1lbnRzW29dO3ZhciBpPUoxLmRlbGVnYXRlO3JldHVybiBpIT1udWxsJiZpLnNldFRpbWVvdXQ/aS5zZXRUaW1lb3V0LmFwcGx5KGksZGEoW24sdF0sR2koZSkpKTpzZXRUaW1lb3V0LmFwcGx5KHZvaWQgMCxkYShbbix0XSxHaShlKSkpfSxjbGVhclRpbWVvdXQ6ZnVuY3Rpb24obil7dmFyIHQ9SjEuZGVsZWdhdGU7cmV0dXJuKCh0PT1udWxsP3ZvaWQgMDp0LmNsZWFyVGltZW91dCl8fGNsZWFyVGltZW91dCkobil9LGRlbGVnYXRlOnZvaWQgMH07ZnVuY3Rpb24gc04obil7SjEuc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciB0PUhDLm9uVW5oYW5kbGVkRXJyb3I7aWYodCl0KG4pO2Vsc2UgdGhyb3cgbn0pfWZ1bmN0aW9uIEZDKCl7fXZhciBSWD1mdW5jdGlvbigpe3JldHVybiB4NygiQyIsdm9pZCAwLHZvaWQgMCl9KCk7ZnVuY3Rpb24gRVgobil7cmV0dXJuIHg3KCJFIix2b2lkIDAsbil9ZnVuY3Rpb24ga1gobil7cmV0dXJuIHg3KCJOIixuLHZvaWQgMCl9ZnVuY3Rpb24geDcobix0LGUpe3JldHVybntraW5kOm4sdmFsdWU6dCxlcnJvcjplfX12YXIgdHY9bnVsbDtmdW5jdGlvbiAkMShuKXtpZihIQy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKXt2YXIgdD0hdHY7aWYodCYmKHR2PXtlcnJvclRocm93bjohMSxlcnJvcjpudWxsfSksbigpLHQpe3ZhciBlPXR2LG89ZS5lcnJvclRocm93bixpPWUuZXJyb3I7aWYodHY9bnVsbCxvKXRocm93IGl9fWVsc2UgbigpfWZ1bmN0aW9uIE5YKG4pe0hDLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJnR2JiYodHYuZXJyb3JUaHJvd249ITAsdHYuZXJyb3I9bil9dmFyIEdTPWZ1bmN0aW9uKG4pe1lpKHQsbik7ZnVuY3Rpb24gdChlKXt2YXIgbz1uLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG8uaXNTdG9wcGVkPSExLGU/KG8uZGVzdGluYXRpb249ZSxyTihlKSYmZS5hZGQobykpOm8uZGVzdGluYXRpb249Tl90LG99cmV0dXJuIHQuY3JlYXRlPWZ1bmN0aW9uKGUsbyxpKXtyZXR1cm4gbmV3IHR3KGUsbyxpKX0sdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihlKXt0aGlzLmlzU3RvcHBlZD93NyhrWChlKSx0aGlzKTp0aGlzLl9uZXh0KGUpfSx0LnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXt0aGlzLmlzU3RvcHBlZD93NyhFWChlKSx0aGlzKToodGhpcy5pc1N0b3BwZWQ9ITAsdGhpcy5fZXJyb3IoZSkpfSx0LnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuaXNTdG9wcGVkP3c3KFJYLHRoaXMpOih0aGlzLmlzU3RvcHBlZD0hMCx0aGlzLl9jb21wbGV0ZSgpKX0sdC5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt0aGlzLmNsb3NlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLG4ucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyksdGhpcy5kZXN0aW5hdGlvbj1udWxsKX0sdC5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24oZSl7dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGUpfSx0LnByb3RvdHlwZS5fZXJyb3I9ZnVuY3Rpb24oZSl7dHJ5e3RoaXMuZGVzdGluYXRpb24uZXJyb3IoZSl9ZmluYWxseXt0aGlzLnVuc3Vic2NyaWJlKCl9fSx0LnByb3RvdHlwZS5fY29tcGxldGU9ZnVuY3Rpb24oKXt0cnl7dGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpfWZpbmFsbHl7dGhpcy51bnN1YnNjcmliZSgpfX0sdH0oRW8pO3ZhciBSX3Q9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7ZnVuY3Rpb24gdjcobix0KXtyZXR1cm4gUl90LmNhbGwobix0KX12YXIgRV90PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbih0KXt0aGlzLnBhcnRpYWxPYnNlcnZlcj10fXJldHVybiBuLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucGFydGlhbE9ic2VydmVyO2lmKGUubmV4dCl0cnl7ZS5uZXh0KHQpfWNhdGNoKG8pe2xOKG8pfX0sbi5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7aWYoZS5lcnJvcil0cnl7ZS5lcnJvcih0KX1jYXRjaChvKXtsTihvKX1lbHNlIGxOKHQpfSxuLnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMucGFydGlhbE9ic2VydmVyO2lmKHQuY29tcGxldGUpdHJ5e3QuY29tcGxldGUoKX1jYXRjaChlKXtsTihlKX19LG59KCksdHc9ZnVuY3Rpb24obil7WWkodCxuKTtmdW5jdGlvbiB0KGUsbyxpKXt2YXIgYT1uLmNhbGwodGhpcyl8fHRoaXMscjtpZihRbihlKXx8IWUpcj17bmV4dDplIT1udWxsP2U6dm9pZCAwLGVycm9yOm8hPW51bGw/bzp2b2lkIDAsY29tcGxldGU6aSE9bnVsbD9pOnZvaWQgMH07ZWxzZXt2YXIgczthJiZIQy51c2VEZXByZWNhdGVkTmV4dENvbnRleHQ/KHM9T2JqZWN0LmNyZWF0ZShlKSxzLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7cmV0dXJuIGEudW5zdWJzY3JpYmUoKX0scj17bmV4dDplLm5leHQmJnY3KGUubmV4dCxzKSxlcnJvcjplLmVycm9yJiZ2NyhlLmVycm9yLHMpLGNvbXBsZXRlOmUuY29tcGxldGUmJnY3KGUuY29tcGxldGUscyl9KTpyPWV9cmV0dXJuIGEuZGVzdGluYXRpb249bmV3IEVfdChyKSxhfXJldHVybiB0fShHUyk7ZnVuY3Rpb24gbE4obil7SEMudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZz9OWChuKTpzTihuKX1mdW5jdGlvbiBrX3Qobil7dGhyb3cgbn1mdW5jdGlvbiB3NyhuLHQpe3ZhciBlPUhDLm9uU3RvcHBlZE5vdGlmaWNhdGlvbjtlJiZKMS5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIGUobix0KX0pfXZhciBOX3Q9e2Nsb3NlZDohMCxuZXh0OkZDLGVycm9yOmtfdCxjb21wbGV0ZTpGQ307dmFyIGV3PWZ1bmN0aW9uKCl7cmV0dXJuIHR5cGVvZiBTeW1ib2w9PSJmdW5jdGlvbiImJlN5bWJvbC5vYnNlcnZhYmxlfHwiQEBvYnNlcnZhYmxlIn0oKTtmdW5jdGlvbiBMbChuKXtyZXR1cm4gbn1mdW5jdGlvbiBTNygpe2Zvcih2YXIgbj1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyluW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gUjcobil9ZnVuY3Rpb24gUjcobil7cmV0dXJuIG4ubGVuZ3RoPT09MD9MbDpuLmxlbmd0aD09PTE/blswXTpmdW5jdGlvbihlKXtyZXR1cm4gbi5yZWR1Y2UoZnVuY3Rpb24obyxpKXtyZXR1cm4gaShvKX0sZSl9fXZhciBEbj1mdW5jdGlvbigpe2Z1bmN0aW9uIG4odCl7dCYmKHRoaXMuX3N1YnNjcmliZT10KX1yZXR1cm4gbi5wcm90b3R5cGUubGlmdD1mdW5jdGlvbih0KXt2YXIgZT1uZXcgbjtyZXR1cm4gZS5zb3VyY2U9dGhpcyxlLm9wZXJhdG9yPXQsZX0sbi5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKHQsZSxvKXt2YXIgaT10aGlzLGE9QV90KHQpP3Q6bmV3IHR3KHQsZSxvKTtyZXR1cm4gJDEoZnVuY3Rpb24oKXt2YXIgcj1pLHM9ci5vcGVyYXRvcixsPXIuc291cmNlO2EuYWRkKHM/cy5jYWxsKGEsbCk6bD9pLl9zdWJzY3JpYmUoYSk6aS5fdHJ5U3Vic2NyaWJlKGEpKX0pLGF9LG4ucHJvdG90eXBlLl90cnlTdWJzY3JpYmU9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiB0aGlzLl9zdWJzY3JpYmUodCl9Y2F0Y2goZSl7dC5lcnJvcihlKX19LG4ucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24odCxlKXt2YXIgbz10aGlzO3JldHVybiBlPVRYKGUpLG5ldyBlKGZ1bmN0aW9uKGksYSl7dmFyIHI9bmV3IHR3KHtuZXh0OmZ1bmN0aW9uKHMpe3RyeXt0KHMpfWNhdGNoKGwpe2EobCksci51bnN1YnNjcmliZSgpfX0sZXJyb3I6YSxjb21wbGV0ZTppfSk7by5zdWJzY3JpYmUocil9KX0sbi5wcm90b3R5cGUuX3N1YnNjcmliZT1mdW5jdGlvbih0KXt2YXIgZTtyZXR1cm4oZT10aGlzLnNvdXJjZSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnN1YnNjcmliZSh0KX0sbi5wcm90b3R5cGVbZXddPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LG4ucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIFI3KHQpKHRoaXMpfSxuLnByb3RvdHlwZS50b1Byb21pc2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztyZXR1cm4gdD1UWCh0KSxuZXcgdChmdW5jdGlvbihvLGkpe3ZhciBhO2Uuc3Vic2NyaWJlKGZ1bmN0aW9uKHIpe3JldHVybiBhPXJ9LGZ1bmN0aW9uKHIpe3JldHVybiBpKHIpfSxmdW5jdGlvbigpe3JldHVybiBvKGEpfSl9KX0sbi5jcmVhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBuKHQpfSxufSgpO2Z1bmN0aW9uIFRYKG4pe3ZhciB0O3JldHVybih0PW4hPW51bGw/bjpIQy5Qcm9taXNlKSE9PW51bGwmJnQhPT12b2lkIDA/dDpQcm9taXNlfWZ1bmN0aW9uIFRfdChuKXtyZXR1cm4gbiYmUW4obi5uZXh0KSYmUW4obi5lcnJvcikmJlFuKG4uY29tcGxldGUpfWZ1bmN0aW9uIEFfdChuKXtyZXR1cm4gbiYmbiBpbnN0YW5jZW9mIEdTfHxUX3QobikmJnJOKG4pfWZ1bmN0aW9uIERfdChuKXtyZXR1cm4gUW4obj09bnVsbD92b2lkIDA6bi5saWZ0KX1mdW5jdGlvbiBTbihuKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoRF90KHQpKXJldHVybiB0LmxpZnQoZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBuKGUsdGhpcyl9Y2F0Y2gobyl7dGhpcy5lcnJvcihvKX19KTt0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmFibGUgdG8gbGlmdCB1bmtub3duIE9ic2VydmFibGUgdHlwZSIpfX1mdW5jdGlvbiBibihuLHQsZSxvLGkpe3JldHVybiBuZXcgRTcobix0LGUsbyxpKX12YXIgRTc9ZnVuY3Rpb24obil7WWkodCxuKTtmdW5jdGlvbiB0KGUsbyxpLGEscixzKXt2YXIgbD1uLmNhbGwodGhpcyxlKXx8dGhpcztyZXR1cm4gbC5vbkZpbmFsaXplPXIsbC5zaG91bGRVbnN1YnNjcmliZT1zLGwuX25leHQ9bz9mdW5jdGlvbihjKXt0cnl7byhjKX1jYXRjaChtKXtlLmVycm9yKG0pfX06bi5wcm90b3R5cGUuX25leHQsbC5fZXJyb3I9YT9mdW5jdGlvbihjKXt0cnl7YShjKX1jYXRjaChtKXtlLmVycm9yKG0pfWZpbmFsbHl7dGhpcy51bnN1YnNjcmliZSgpfX06bi5wcm90b3R5cGUuX2Vycm9yLGwuX2NvbXBsZXRlPWk/ZnVuY3Rpb24oKXt0cnl7aSgpfWNhdGNoKGMpe2UuZXJyb3IoYyl9ZmluYWxseXt0aGlzLnVuc3Vic2NyaWJlKCl9fTpuLnByb3RvdHlwZS5fY29tcGxldGUsbH1yZXR1cm4gdC5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt2YXIgZTtpZighdGhpcy5zaG91bGRVbnN1YnNjcmliZXx8dGhpcy5zaG91bGRVbnN1YnNjcmliZSgpKXt2YXIgbz10aGlzLmNsb3NlZDtuLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpLCFvJiYoKGU9dGhpcy5vbkZpbmFsaXplKT09PW51bGx8fGU9PT12b2lkIDB8fGUuY2FsbCh0aGlzKSl9fSx0fShHUyk7dmFyIG53PXtzY2hlZHVsZTpmdW5jdGlvbihuKXt2YXIgdD1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUsZT1jYW5jZWxBbmltYXRpb25GcmFtZSxvPW53LmRlbGVnYXRlO28mJih0PW8ucmVxdWVzdEFuaW1hdGlvbkZyYW1lLGU9by5jYW5jZWxBbmltYXRpb25GcmFtZSk7dmFyIGk9dChmdW5jdGlvbihhKXtlPXZvaWQgMCxuKGEpfSk7cmV0dXJuIG5ldyBFbyhmdW5jdGlvbigpe3JldHVybiBlPT1udWxsP3ZvaWQgMDplKGkpfSl9LHJlcXVlc3RBbmltYXRpb25GcmFtZTpmdW5jdGlvbigpe2Zvcih2YXIgbj1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyluW3RdPWFyZ3VtZW50c1t0XTt2YXIgZT1udy5kZWxlZ2F0ZTtyZXR1cm4oKGU9PW51bGw/dm9pZCAwOmUucmVxdWVzdEFuaW1hdGlvbkZyYW1lKXx8cmVxdWVzdEFuaW1hdGlvbkZyYW1lKS5hcHBseSh2b2lkIDAsZGEoW10sR2kobikpKX0sY2FuY2VsQW5pbWF0aW9uRnJhbWU6ZnVuY3Rpb24oKXtmb3IodmFyIG49W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspblt0XT1hcmd1bWVudHNbdF07dmFyIGU9bncuZGVsZWdhdGU7cmV0dXJuKChlPT1udWxsP3ZvaWQgMDplLmNhbmNlbEFuaW1hdGlvbkZyYW1lKXx8Y2FuY2VsQW5pbWF0aW9uRnJhbWUpLmFwcGx5KHZvaWQgMCxkYShbXSxHaShuKSkpfSxkZWxlZ2F0ZTp2b2lkIDB9O3ZhciBBWD1LMShmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXtuKHRoaXMpLHRoaXMubmFtZT0iT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IiLHRoaXMubWVzc2FnZT0ib2JqZWN0IHVuc3Vic2NyaWJlZCJ9fSk7dmFyIEp0PWZ1bmN0aW9uKG4pe1lpKHQsbik7ZnVuY3Rpb24gdCgpe3ZhciBlPW4uY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gZS5jbG9zZWQ9ITEsZS5jdXJyZW50T2JzZXJ2ZXJzPW51bGwsZS5vYnNlcnZlcnM9W10sZS5pc1N0b3BwZWQ9ITEsZS5oYXNFcnJvcj0hMSxlLnRocm93bkVycm9yPW51bGwsZX1yZXR1cm4gdC5wcm90b3R5cGUubGlmdD1mdW5jdGlvbihlKXt2YXIgbz1uZXcgRFgodGhpcyx0aGlzKTtyZXR1cm4gby5vcGVyYXRvcj1lLG99LHQucHJvdG90eXBlLl90aHJvd0lmQ2xvc2VkPWZ1bmN0aW9uKCl7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IEFYfSx0LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXM7JDEoZnVuY3Rpb24oKXt2YXIgaSxhO2lmKG8uX3Rocm93SWZDbG9zZWQoKSwhby5pc1N0b3BwZWQpe28uY3VycmVudE9ic2VydmVyc3x8KG8uY3VycmVudE9ic2VydmVycz1BcnJheS5mcm9tKG8ub2JzZXJ2ZXJzKSk7dHJ5e2Zvcih2YXIgcj1MTyhvLmN1cnJlbnRPYnNlcnZlcnMpLHM9ci5uZXh0KCk7IXMuZG9uZTtzPXIubmV4dCgpKXt2YXIgbD1zLnZhbHVlO2wubmV4dChlKX19Y2F0Y2goYyl7aT17ZXJyb3I6Y319ZmluYWxseXt0cnl7cyYmIXMuZG9uZSYmKGE9ci5yZXR1cm4pJiZhLmNhbGwocil9ZmluYWxseXtpZihpKXRocm93IGkuZXJyb3J9fX19KX0sdC5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oZSl7dmFyIG89dGhpczskMShmdW5jdGlvbigpe2lmKG8uX3Rocm93SWZDbG9zZWQoKSwhby5pc1N0b3BwZWQpe28uaGFzRXJyb3I9by5pc1N0b3BwZWQ9ITAsby50aHJvd25FcnJvcj1lO2Zvcih2YXIgaT1vLm9ic2VydmVycztpLmxlbmd0aDspaS5zaGlmdCgpLmVycm9yKGUpfX0pfSx0LnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7JDEoZnVuY3Rpb24oKXtpZihlLl90aHJvd0lmQ2xvc2VkKCksIWUuaXNTdG9wcGVkKXtlLmlzU3RvcHBlZD0hMDtmb3IodmFyIG89ZS5vYnNlcnZlcnM7by5sZW5ndGg7KW8uc2hpZnQoKS5jb21wbGV0ZSgpfX0pfSx0LnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3RoaXMuaXNTdG9wcGVkPXRoaXMuY2xvc2VkPSEwLHRoaXMub2JzZXJ2ZXJzPXRoaXMuY3VycmVudE9ic2VydmVycz1udWxsfSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm9ic2VydmVkIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuKChlPXRoaXMub2JzZXJ2ZXJzKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUubGVuZ3RoKT4wfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLHQucHJvdG90eXBlLl90cnlTdWJzY3JpYmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3Rocm93SWZDbG9zZWQoKSxuLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlLmNhbGwodGhpcyxlKX0sdC5wcm90b3R5cGUuX3N1YnNjcmliZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdGhyb3dJZkNsb3NlZCgpLHRoaXMuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMoZSksdGhpcy5faW5uZXJTdWJzY3JpYmUoZSl9LHQucHJvdG90eXBlLl9pbm5lclN1YnNjcmliZT1mdW5jdGlvbihlKXt2YXIgbz10aGlzLGk9dGhpcyxhPWkuaGFzRXJyb3Iscj1pLmlzU3RvcHBlZCxzPWkub2JzZXJ2ZXJzO3JldHVybiBhfHxyP3k3Oih0aGlzLmN1cnJlbnRPYnNlcnZlcnM9bnVsbCxzLnB1c2goZSksbmV3IEVvKGZ1bmN0aW9uKCl7by5jdXJyZW50T2JzZXJ2ZXJzPW51bGwsJHgocyxlKX0pKX0sdC5wcm90b3R5cGUuX2NoZWNrRmluYWxpemVkU3RhdHVzZXM9ZnVuY3Rpb24oZSl7dmFyIG89dGhpcyxpPW8uaGFzRXJyb3IsYT1vLnRocm93bkVycm9yLHI9by5pc1N0b3BwZWQ7aT9lLmVycm9yKGEpOnImJmUuY29tcGxldGUoKX0sdC5wcm90b3R5cGUuYXNPYnNlcnZhYmxlPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IERuO3JldHVybiBlLnNvdXJjZT10aGlzLGV9LHQuY3JlYXRlPWZ1bmN0aW9uKGUsbyl7cmV0dXJuIG5ldyBEWChlLG8pfSx0fShEbik7dmFyIERYPWZ1bmN0aW9uKG4pe1lpKHQsbik7ZnVuY3Rpb24gdChlLG8pe3ZhciBpPW4uY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gaS5kZXN0aW5hdGlvbj1lLGkuc291cmNlPW8saX1yZXR1cm4gdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihlKXt2YXIgbyxpOyhpPShvPXRoaXMuZGVzdGluYXRpb24pPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by5uZXh0KT09PW51bGx8fGk9PT12b2lkIDB8fGkuY2FsbChvLGUpfSx0LnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXt2YXIgbyxpOyhpPShvPXRoaXMuZGVzdGluYXRpb24pPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by5lcnJvcik9PT1udWxsfHxpPT09dm9pZCAwfHxpLmNhbGwobyxlKX0sdC5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oKXt2YXIgZSxvOyhvPShlPXRoaXMuZGVzdGluYXRpb24pPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5jb21wbGV0ZSk9PT1udWxsfHxvPT09dm9pZCAwfHxvLmNhbGwoZSl9LHQucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24oZSl7dmFyIG8saTtyZXR1cm4oaT0obz10aGlzLnNvdXJjZSk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLnN1YnNjcmliZShlKSkhPT1udWxsJiZpIT09dm9pZCAwP2k6eTd9LHR9KEp0KTt2YXIgR2E9ZnVuY3Rpb24obil7WWkodCxuKTtmdW5jdGlvbiB0KGUpe3ZhciBvPW4uY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gby5fdmFsdWU9ZSxvfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsInZhbHVlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VmFsdWUoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5fc3Vic2NyaWJlPWZ1bmN0aW9uKGUpe3ZhciBvPW4ucHJvdG90eXBlLl9zdWJzY3JpYmUuY2FsbCh0aGlzLGUpO3JldHVybiFvLmNsb3NlZCYmZS5uZXh0KHRoaXMuX3ZhbHVlKSxvfSx0LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMsbz1lLmhhc0Vycm9yLGk9ZS50aHJvd25FcnJvcixhPWUuX3ZhbHVlO2lmKG8pdGhyb3cgaTtyZXR1cm4gdGhpcy5fdGhyb3dJZkNsb3NlZCgpLGF9LHQucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oZSl7bi5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsdGhpcy5fdmFsdWU9ZSl9LHR9KEp0KTt2YXIgV1M9e25vdzpmdW5jdGlvbigpe3JldHVybihXUy5kZWxlZ2F0ZXx8RGF0ZSkubm93KCl9LGRlbGVnYXRlOnZvaWQgMH07dmFyIHFTPWZ1bmN0aW9uKG4pe1lpKHQsbik7ZnVuY3Rpb24gdChlLG8saSl7ZT09PXZvaWQgMCYmKGU9MS8wKSxvPT09dm9pZCAwJiYobz0xLzApLGk9PT12b2lkIDAmJihpPVdTKTt2YXIgYT1uLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGEuX2J1ZmZlclNpemU9ZSxhLl93aW5kb3dUaW1lPW8sYS5fdGltZXN0YW1wUHJvdmlkZXI9aSxhLl9idWZmZXI9W10sYS5faW5maW5pdGVUaW1lV2luZG93PSEwLGEuX2luZmluaXRlVGltZVdpbmRvdz1vPT09MS8wLGEuX2J1ZmZlclNpemU9TWF0aC5tYXgoMSxlKSxhLl93aW5kb3dUaW1lPU1hdGgubWF4KDEsbyksYX1yZXR1cm4gdC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbihlKXt2YXIgbz10aGlzLGk9by5pc1N0b3BwZWQsYT1vLl9idWZmZXIscj1vLl9pbmZpbml0ZVRpbWVXaW5kb3cscz1vLl90aW1lc3RhbXBQcm92aWRlcixsPW8uX3dpbmRvd1RpbWU7aXx8KGEucHVzaChlKSwhciYmYS5wdXNoKHMubm93KCkrbCkpLHRoaXMuX3RyaW1CdWZmZXIoKSxuLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcyxlKX0sdC5wcm90b3R5cGUuX3N1YnNjcmliZT1mdW5jdGlvbihlKXt0aGlzLl90aHJvd0lmQ2xvc2VkKCksdGhpcy5fdHJpbUJ1ZmZlcigpO2Zvcih2YXIgbz10aGlzLl9pbm5lclN1YnNjcmliZShlKSxpPXRoaXMsYT1pLl9pbmZpbml0ZVRpbWVXaW5kb3cscj1pLl9idWZmZXIscz1yLnNsaWNlKCksbD0wO2w8cy5sZW5ndGgmJiFlLmNsb3NlZDtsKz1hPzE6MillLm5leHQoc1tsXSk7cmV0dXJuIHRoaXMuX2NoZWNrRmluYWxpemVkU3RhdHVzZXMoZSksb30sdC5wcm90b3R5cGUuX3RyaW1CdWZmZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLG89ZS5fYnVmZmVyU2l6ZSxpPWUuX3RpbWVzdGFtcFByb3ZpZGVyLGE9ZS5fYnVmZmVyLHI9ZS5faW5maW5pdGVUaW1lV2luZG93LHM9KHI/MToyKSpvO2lmKG88MS8wJiZzPGEubGVuZ3RoJiZhLnNwbGljZSgwLGEubGVuZ3RoLXMpLCFyKXtmb3IodmFyIGw9aS5ub3coKSxjPTAsbT0xO208YS5sZW5ndGgmJmFbbV08PWw7bSs9MiljPW07YyYmYS5zcGxpY2UoMCxjKzEpfX0sdH0oSnQpO3ZhciBJWD1mdW5jdGlvbihuKXtZaSh0LG4pO2Z1bmN0aW9uIHQoZSxvKXtyZXR1cm4gbi5jYWxsKHRoaXMpfHx0aGlzfXJldHVybiB0LnByb3RvdHlwZS5zY2hlZHVsZT1mdW5jdGlvbihlLG8pe3JldHVybiBvPT09dm9pZCAwJiYobz0wKSx0aGlzfSx0fShFbyk7dmFyIFpTPXtzZXRJbnRlcnZhbDpmdW5jdGlvbihuLHQpe2Zvcih2YXIgZT1bXSxvPTI7bzxhcmd1bWVudHMubGVuZ3RoO28rKyllW28tMl09YXJndW1lbnRzW29dO3ZhciBpPVpTLmRlbGVnYXRlO3JldHVybiBpIT1udWxsJiZpLnNldEludGVydmFsP2kuc2V0SW50ZXJ2YWwuYXBwbHkoaSxkYShbbix0XSxHaShlKSkpOnNldEludGVydmFsLmFwcGx5KHZvaWQgMCxkYShbbix0XSxHaShlKSkpfSxjbGVhckludGVydmFsOmZ1bmN0aW9uKG4pe3ZhciB0PVpTLmRlbGVnYXRlO3JldHVybigodD09bnVsbD92b2lkIDA6dC5jbGVhckludGVydmFsKXx8Y2xlYXJJbnRlcnZhbCkobil9LGRlbGVnYXRlOnZvaWQgMH07dmFyIG55PWZ1bmN0aW9uKG4pe1lpKHQsbik7ZnVuY3Rpb24gdChlLG8pe3ZhciBpPW4uY2FsbCh0aGlzLGUsbyl8fHRoaXM7cmV0dXJuIGkuc2NoZWR1bGVyPWUsaS53b3JrPW8saS5wZW5kaW5nPSExLGl9cmV0dXJuIHQucHJvdG90eXBlLnNjaGVkdWxlPWZ1bmN0aW9uKGUsbyl7aWYobz09PXZvaWQgMCYmKG89MCksdGhpcy5jbG9zZWQpcmV0dXJuIHRoaXM7dGhpcy5zdGF0ZT1lO3ZhciBpPXRoaXMuaWQsYT10aGlzLnNjaGVkdWxlcjtyZXR1cm4gaSE9bnVsbCYmKHRoaXMuaWQ9dGhpcy5yZWN5Y2xlQXN5bmNJZChhLGksbykpLHRoaXMucGVuZGluZz0hMCx0aGlzLmRlbGF5PW8sdGhpcy5pZD10aGlzLmlkfHx0aGlzLnJlcXVlc3RBc3luY0lkKGEsdGhpcy5pZCxvKSx0aGlzfSx0LnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZD1mdW5jdGlvbihlLG8saSl7cmV0dXJuIGk9PT12b2lkIDAmJihpPTApLFpTLnNldEludGVydmFsKGUuZmx1c2guYmluZChlLHRoaXMpLGkpfSx0LnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZD1mdW5jdGlvbihlLG8saSl7aWYoaT09PXZvaWQgMCYmKGk9MCksaSE9bnVsbCYmdGhpcy5kZWxheT09PWkmJnRoaXMucGVuZGluZz09PSExKXJldHVybiBvO1pTLmNsZWFySW50ZXJ2YWwobyl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oZSxvKXtpZih0aGlzLmNsb3NlZClyZXR1cm4gbmV3IEVycm9yKCJleGVjdXRpbmcgYSBjYW5jZWxsZWQgYWN0aW9uIik7dGhpcy5wZW5kaW5nPSExO3ZhciBpPXRoaXMuX2V4ZWN1dGUoZSxvKTtpZihpKXJldHVybiBpO3RoaXMucGVuZGluZz09PSExJiZ0aGlzLmlkIT1udWxsJiYodGhpcy5pZD10aGlzLnJlY3ljbGVBc3luY0lkKHRoaXMuc2NoZWR1bGVyLHRoaXMuaWQsbnVsbCkpfSx0LnByb3RvdHlwZS5fZXhlY3V0ZT1mdW5jdGlvbihlLG8pe3ZhciBpPSExLGE7dHJ5e3RoaXMud29yayhlKX1jYXRjaChyKXtpPSEwLGE9cnx8bmV3IEVycm9yKCJTY2hlZHVsZWQgYWN0aW9uIHRocmV3IGZhbHN5IGVycm9yIil9aWYoaSlyZXR1cm4gdGhpcy51bnN1YnNjcmliZSgpLGF9LHQucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuY2xvc2VkKXt2YXIgZT10aGlzLG89ZS5pZCxpPWUuc2NoZWR1bGVyLGE9aS5hY3Rpb25zO3RoaXMud29yaz10aGlzLnN0YXRlPXRoaXMuc2NoZWR1bGVyPW51bGwsdGhpcy5wZW5kaW5nPSExLCR4KGEsdGhpcyksbyE9bnVsbCYmKHRoaXMuaWQ9dGhpcy5yZWN5Y2xlQXN5bmNJZChpLG8sbnVsbCkpLHRoaXMuZGVsYXk9bnVsbCxuLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpfX0sdH0oSVgpO3ZhciBJX3Q9MSxrNyxONz17fTtmdW5jdGlvbiB6WChuKXtyZXR1cm4gbiBpbiBONz8oZGVsZXRlIE43W25dLCEwKTohMX12YXIgVDc9e3NldEltbWVkaWF0ZTpmdW5jdGlvbihuKXt2YXIgdD1JX3QrKztyZXR1cm4gTjdbdF09ITAsazd8fChrNz1Qcm9taXNlLnJlc29sdmUoKSksazcudGhlbihmdW5jdGlvbigpe3JldHVybiB6WCh0KSYmbigpfSksdH0sY2xlYXJJbW1lZGlhdGU6ZnVuY3Rpb24obil7elgobil9fTt2YXIgel90PVQ3LnNldEltbWVkaWF0ZSxIX3Q9VDcuY2xlYXJJbW1lZGlhdGUsWFM9e3NldEltbWVkaWF0ZTpmdW5jdGlvbigpe2Zvcih2YXIgbj1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyluW3RdPWFyZ3VtZW50c1t0XTt2YXIgZT1YUy5kZWxlZ2F0ZTtyZXR1cm4oKGU9PW51bGw/dm9pZCAwOmUuc2V0SW1tZWRpYXRlKXx8el90KS5hcHBseSh2b2lkIDAsZGEoW10sR2kobikpKX0sY2xlYXJJbW1lZGlhdGU6ZnVuY3Rpb24obil7dmFyIHQ9WFMuZGVsZWdhdGU7cmV0dXJuKCh0PT1udWxsP3ZvaWQgMDp0LmNsZWFySW1tZWRpYXRlKXx8SF90KShuKX0sZGVsZWdhdGU6dm9pZCAwfTt2YXIgSFg9ZnVuY3Rpb24obil7WWkodCxuKTtmdW5jdGlvbiB0KGUsbyl7dmFyIGk9bi5jYWxsKHRoaXMsZSxvKXx8dGhpcztyZXR1cm4gaS5zY2hlZHVsZXI9ZSxpLndvcms9byxpfXJldHVybiB0LnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZD1mdW5jdGlvbihlLG8saSl7cmV0dXJuIGk9PT12b2lkIDAmJihpPTApLGkhPT1udWxsJiZpPjA/bi5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQuY2FsbCh0aGlzLGUsbyxpKTooZS5hY3Rpb25zLnB1c2godGhpcyksZS5fc2NoZWR1bGVkfHwoZS5fc2NoZWR1bGVkPVhTLnNldEltbWVkaWF0ZShlLmZsdXNoLmJpbmQoZSx2b2lkIDApKSkpfSx0LnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZD1mdW5jdGlvbihlLG8saSl7aWYoaT09PXZvaWQgMCYmKGk9MCksaSE9bnVsbCYmaT4wfHxpPT1udWxsJiZ0aGlzLmRlbGF5PjApcmV0dXJuIG4ucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkLmNhbGwodGhpcyxlLG8saSk7ZS5hY3Rpb25zLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWQ9PT1vfSl8fChYUy5jbGVhckltbWVkaWF0ZShvKSxlLl9zY2hlZHVsZWQ9dm9pZCAwKX0sdH0obnkpO3ZhciBBNz1mdW5jdGlvbigpe2Z1bmN0aW9uIG4odCxlKXtlPT09dm9pZCAwJiYoZT1uLm5vdyksdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yPXQsdGhpcy5ub3c9ZX1yZXR1cm4gbi5wcm90b3R5cGUuc2NoZWR1bGU9ZnVuY3Rpb24odCxlLG8pe3JldHVybiBlPT09dm9pZCAwJiYoZT0wKSxuZXcgdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yKHRoaXMsdCkuc2NoZWR1bGUobyxlKX0sbi5ub3c9V1Mubm93LG59KCk7dmFyIG95PWZ1bmN0aW9uKG4pe1lpKHQsbik7ZnVuY3Rpb24gdChlLG8pe289PT12b2lkIDAmJihvPUE3Lm5vdyk7dmFyIGk9bi5jYWxsKHRoaXMsZSxvKXx8dGhpcztyZXR1cm4gaS5hY3Rpb25zPVtdLGkuX2FjdGl2ZT0hMSxpLl9zY2hlZHVsZWQ9dm9pZCAwLGl9cmV0dXJuIHQucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKGUpe3ZhciBvPXRoaXMuYWN0aW9ucztpZih0aGlzLl9hY3RpdmUpe28ucHVzaChlKTtyZXR1cm59dmFyIGk7dGhpcy5fYWN0aXZlPSEwO2RvIGlmKGk9ZS5leGVjdXRlKGUuc3RhdGUsZS5kZWxheSkpYnJlYWs7d2hpbGUoZT1vLnNoaWZ0KCkpO2lmKHRoaXMuX2FjdGl2ZT0hMSxpKXtmb3IoO2U9by5zaGlmdCgpOyllLnVuc3Vic2NyaWJlKCk7dGhyb3cgaX19LHR9KEE3KTt2YXIgRlg9ZnVuY3Rpb24obil7WWkodCxuKTtmdW5jdGlvbiB0KCl7cmV0dXJuIG4hPT1udWxsJiZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gdC5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oZSl7dGhpcy5fYWN0aXZlPSEwO3ZhciBvPXRoaXMuX3NjaGVkdWxlZDt0aGlzLl9zY2hlZHVsZWQ9dm9pZCAwO3ZhciBpPXRoaXMuYWN0aW9ucyxhO2U9ZXx8aS5zaGlmdCgpO2RvIGlmKGE9ZS5leGVjdXRlKGUuc3RhdGUsZS5kZWxheSkpYnJlYWs7d2hpbGUoKGU9aVswXSkmJmUuaWQ9PT1vJiZpLnNoaWZ0KCkpO2lmKHRoaXMuX2FjdGl2ZT0hMSxhKXtmb3IoOyhlPWlbMF0pJiZlLmlkPT09byYmaS5zaGlmdCgpOyllLnVuc3Vic2NyaWJlKCk7dGhyb3cgYX19LHR9KG95KTt2YXIgb3c9bmV3IEZYKEhYKTt2YXIgQk89bmV3IG95KG55KSxMWD1CTzt2YXIgQlg9ZnVuY3Rpb24obil7WWkodCxuKTtmdW5jdGlvbiB0KGUsbyl7dmFyIGk9bi5jYWxsKHRoaXMsZSxvKXx8dGhpcztyZXR1cm4gaS5zY2hlZHVsZXI9ZSxpLndvcms9byxpfXJldHVybiB0LnByb3RvdHlwZS5zY2hlZHVsZT1mdW5jdGlvbihlLG8pe3JldHVybiBvPT09dm9pZCAwJiYobz0wKSxvPjA/bi5wcm90b3R5cGUuc2NoZWR1bGUuY2FsbCh0aGlzLGUsbyk6KHRoaXMuZGVsYXk9byx0aGlzLnN0YXRlPWUsdGhpcy5zY2hlZHVsZXIuZmx1c2godGhpcyksdGhpcyl9LHQucHJvdG90eXBlLmV4ZWN1dGU9ZnVuY3Rpb24oZSxvKXtyZXR1cm4gbz4wfHx0aGlzLmNsb3NlZD9uLnByb3RvdHlwZS5leGVjdXRlLmNhbGwodGhpcyxlLG8pOnRoaXMuX2V4ZWN1dGUoZSxvKX0sdC5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQ9ZnVuY3Rpb24oZSxvLGkpe3JldHVybiBpPT09dm9pZCAwJiYoaT0wKSxpIT1udWxsJiZpPjB8fGk9PW51bGwmJnRoaXMuZGVsYXk+MD9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZC5jYWxsKHRoaXMsZSxvLGkpOmUuZmx1c2godGhpcyl9LHR9KG55KTt2YXIgVlg9ZnVuY3Rpb24obil7WWkodCxuKTtmdW5jdGlvbiB0KCl7cmV0dXJuIG4hPT1udWxsJiZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gdH0ob3kpO3ZhciBENz1uZXcgVlgoQlgpO3ZhciBqWD1mdW5jdGlvbihuKXtZaSh0LG4pO2Z1bmN0aW9uIHQoZSxvKXt2YXIgaT1uLmNhbGwodGhpcyxlLG8pfHx0aGlzO3JldHVybiBpLnNjaGVkdWxlcj1lLGkud29yaz1vLGl9cmV0dXJuIHQucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkPWZ1bmN0aW9uKGUsbyxpKXtyZXR1cm4gaT09PXZvaWQgMCYmKGk9MCksaSE9PW51bGwmJmk+MD9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZC5jYWxsKHRoaXMsZSxvLGkpOihlLmFjdGlvbnMucHVzaCh0aGlzKSxlLl9zY2hlZHVsZWR8fChlLl9zY2hlZHVsZWQ9bncucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7cmV0dXJuIGUuZmx1c2godm9pZCAwKX0pKSl9LHQucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkPWZ1bmN0aW9uKGUsbyxpKXtpZihpPT09dm9pZCAwJiYoaT0wKSxpIT1udWxsJiZpPjB8fGk9PW51bGwmJnRoaXMuZGVsYXk+MClyZXR1cm4gbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQuY2FsbCh0aGlzLGUsbyxpKTtlLmFjdGlvbnMuc29tZShmdW5jdGlvbihhKXtyZXR1cm4gYS5pZD09PW99KXx8KG53LmNhbmNlbEFuaW1hdGlvbkZyYW1lKG8pLGUuX3NjaGVkdWxlZD12b2lkIDApfSx0fShueSk7dmFyIFVYPWZ1bmN0aW9uKG4pe1lpKHQsbik7ZnVuY3Rpb24gdCgpe3JldHVybiBuIT09bnVsbCYmbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIHQucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKGUpe3RoaXMuX2FjdGl2ZT0hMDt2YXIgbz10aGlzLl9zY2hlZHVsZWQ7dGhpcy5fc2NoZWR1bGVkPXZvaWQgMDt2YXIgaT10aGlzLmFjdGlvbnMsYTtlPWV8fGkuc2hpZnQoKTtkbyBpZihhPWUuZXhlY3V0ZShlLnN0YXRlLGUuZGVsYXkpKWJyZWFrO3doaWxlKChlPWlbMF0pJiZlLmlkPT09byYmaS5zaGlmdCgpKTtpZih0aGlzLl9hY3RpdmU9ITEsYSl7Zm9yKDsoZT1pWzBdKSYmZS5pZD09PW8mJmkuc2hpZnQoKTspZS51bnN1YnNjcmliZSgpO3Rocm93IGF9fSx0fShveSk7dmFyIEk3PW5ldyBVWChqWCk7dmFyIE5zPW5ldyBEbihmdW5jdGlvbihuKXtyZXR1cm4gbi5jb21wbGV0ZSgpfSk7ZnVuY3Rpb24gY04obil7cmV0dXJuIG4mJlFuKG4uc2NoZWR1bGUpfWZ1bmN0aW9uIHo3KG4pe3JldHVybiBuW24ubGVuZ3RoLTFdfWZ1bmN0aW9uIHViKG4pe3JldHVybiBRbih6NyhuKSk/bi5wb3AoKTp2b2lkIDB9ZnVuY3Rpb24gaGIobil7cmV0dXJuIGNOKHo3KG4pKT9uLnBvcCgpOnZvaWQgMH1mdW5jdGlvbiBZWChuLHQpe3JldHVybiB0eXBlb2Ygejcobik9PSJudW1iZXIiP24ucG9wKCk6dH12YXIgaXc9ZnVuY3Rpb24obil7cmV0dXJuIG4mJnR5cGVvZiBuLmxlbmd0aD09Im51bWJlciImJnR5cGVvZiBuIT0iZnVuY3Rpb24ifTtmdW5jdGlvbiBtTihuKXtyZXR1cm4gUW4obj09bnVsbD92b2lkIDA6bi50aGVuKX1mdW5jdGlvbiBmTihuKXtyZXR1cm4gUW4obltld10pfWZ1bmN0aW9uIHBOKG4pe3JldHVybiBTeW1ib2wuYXN5bmNJdGVyYXRvciYmUW4obj09bnVsbD92b2lkIDA6bltTeW1ib2wuYXN5bmNJdGVyYXRvcl0pfWZ1bmN0aW9uIGROKG4pe3JldHVybiBuZXcgVHlwZUVycm9yKCJZb3UgcHJvdmlkZWQgIisobiE9PW51bGwmJnR5cGVvZiBuPT0ib2JqZWN0Ij8iYW4gaW52YWxpZCBvYmplY3QiOiInIituKyInIikrIiB3aGVyZSBhIHN0cmVhbSB3YXMgZXhwZWN0ZWQuIFlvdSBjYW4gcHJvdmlkZSBhbiBPYnNlcnZhYmxlLCBQcm9taXNlLCBSZWFkYWJsZVN0cmVhbSwgQXJyYXksIEFzeW5jSXRlcmFibGUsIG9yIEl0ZXJhYmxlLiIpfWZ1bmN0aW9uIEZfdCgpe3JldHVybiB0eXBlb2YgU3ltYm9sIT0iZnVuY3Rpb24ifHwhU3ltYm9sLml0ZXJhdG9yPyJAQGl0ZXJhdG9yIjpTeW1ib2wuaXRlcmF0b3J9dmFyIGdOPUZfdCgpO2Z1bmN0aW9uIHVOKG4pe3JldHVybiBRbihuPT1udWxsP3ZvaWQgMDpuW2dOXSl9ZnVuY3Rpb24gaE4obil7cmV0dXJuIHZYKHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKCl7dmFyIGUsbyxpLGE7cmV0dXJuIG9OKHRoaXMsZnVuY3Rpb24ocil7c3dpdGNoKHIubGFiZWwpe2Nhc2UgMDplPW4uZ2V0UmVhZGVyKCksci5sYWJlbD0xO2Nhc2UgMTpyLnRyeXMucHVzaChbMSwsOSwxMF0pLHIubGFiZWw9MjtjYXNlIDI6cmV0dXJuWzQsaU4oZS5yZWFkKCkpXTtjYXNlIDM6cmV0dXJuIG89ci5zZW50KCksaT1vLnZhbHVlLGE9by5kb25lLGE/WzQsaU4odm9pZCAwKV06WzMsNV07Y2FzZSA0OnJldHVyblsyLHIuc2VudCgpXTtjYXNlIDU6cmV0dXJuWzQsaU4oaSldO2Nhc2UgNjpyZXR1cm5bNCxyLnNlbnQoKV07Y2FzZSA3OnJldHVybiByLnNlbnQoKSxbMywyXTtjYXNlIDg6cmV0dXJuWzMsMTBdO2Nhc2UgOTpyZXR1cm4gZS5yZWxlYXNlTG9jaygpLFs3XTtjYXNlIDEwOnJldHVyblsyXX19KX0pfWZ1bmN0aW9uIF9OKG4pe3JldHVybiBRbihuPT1udWxsP3ZvaWQgMDpuLmdldFJlYWRlcil9ZnVuY3Rpb24gJG8obil7aWYobiBpbnN0YW5jZW9mIERuKXJldHVybiBuO2lmKG4hPW51bGwpe2lmKGZOKG4pKXJldHVybiBMX3Qobik7aWYoaXcobikpcmV0dXJuIEJfdChuKTtpZihtTihuKSlyZXR1cm4gVl90KG4pO2lmKHBOKG4pKXJldHVybiBHWChuKTtpZih1TihuKSlyZXR1cm4gal90KG4pO2lmKF9OKG4pKXJldHVybiBVX3Qobil9dGhyb3cgZE4obil9ZnVuY3Rpb24gTF90KG4pe3JldHVybiBuZXcgRG4oZnVuY3Rpb24odCl7dmFyIGU9bltld10oKTtpZihRbihlLnN1YnNjcmliZSkpcmV0dXJuIGUuc3Vic2NyaWJlKHQpO3Rocm93IG5ldyBUeXBlRXJyb3IoIlByb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlIil9KX1mdW5jdGlvbiBCX3Qobil7cmV0dXJuIG5ldyBEbihmdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPG4ubGVuZ3RoJiYhdC5jbG9zZWQ7ZSsrKXQubmV4dChuW2VdKTt0LmNvbXBsZXRlKCl9KX1mdW5jdGlvbiBWX3Qobil7cmV0dXJuIG5ldyBEbihmdW5jdGlvbih0KXtuLnRoZW4oZnVuY3Rpb24oZSl7dC5jbG9zZWR8fCh0Lm5leHQoZSksdC5jb21wbGV0ZSgpKX0sZnVuY3Rpb24oZSl7cmV0dXJuIHQuZXJyb3IoZSl9KS50aGVuKG51bGwsc04pfSl9ZnVuY3Rpb24gal90KG4pe3JldHVybiBuZXcgRG4oZnVuY3Rpb24odCl7dmFyIGUsbzt0cnl7Zm9yKHZhciBpPUxPKG4pLGE9aS5uZXh0KCk7IWEuZG9uZTthPWkubmV4dCgpKXt2YXIgcj1hLnZhbHVlO2lmKHQubmV4dChyKSx0LmNsb3NlZClyZXR1cm59fWNhdGNoKHMpe2U9e2Vycm9yOnN9fWZpbmFsbHl7dHJ5e2EmJiFhLmRvbmUmJihvPWkucmV0dXJuKSYmby5jYWxsKGkpfWZpbmFsbHl7aWYoZSl0aHJvdyBlLmVycm9yfX10LmNvbXBsZXRlKCl9KX1mdW5jdGlvbiBHWChuKXtyZXR1cm4gbmV3IERuKGZ1bmN0aW9uKHQpe1lfdChuLHQpLmNhdGNoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmVycm9yKGUpfSl9KX1mdW5jdGlvbiBVX3Qobil7cmV0dXJuIEdYKGhOKG4pKX1mdW5jdGlvbiBZX3Qobix0KXt2YXIgZSxvLGksYTtyZXR1cm4gekModGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHIscztyZXR1cm4gb04odGhpcyxmdW5jdGlvbihsKXtzd2l0Y2gobC5sYWJlbCl7Y2FzZSAwOmwudHJ5cy5wdXNoKFswLDUsNiwxMV0pLGU9d1gobiksbC5sYWJlbD0xO2Nhc2UgMTpyZXR1cm5bNCxlLm5leHQoKV07Y2FzZSAyOmlmKG89bC5zZW50KCksISFvLmRvbmUpcmV0dXJuWzMsNF07aWYocj1vLnZhbHVlLHQubmV4dChyKSx0LmNsb3NlZClyZXR1cm5bMl07bC5sYWJlbD0zO2Nhc2UgMzpyZXR1cm5bMywxXTtjYXNlIDQ6cmV0dXJuWzMsMTFdO2Nhc2UgNTpyZXR1cm4gcz1sLnNlbnQoKSxpPXtlcnJvcjpzfSxbMywxMV07Y2FzZSA2OnJldHVybiBsLnRyeXMucHVzaChbNiwsOSwxMF0pLG8mJiFvLmRvbmUmJihhPWUucmV0dXJuKT9bNCxhLmNhbGwoZSldOlszLDhdO2Nhc2UgNzpsLnNlbnQoKSxsLmxhYmVsPTg7Y2FzZSA4OnJldHVyblszLDEwXTtjYXNlIDk6aWYoaSl0aHJvdyBpLmVycm9yO3JldHVybls3XTtjYXNlIDEwOnJldHVybls3XTtjYXNlIDExOnJldHVybiB0LmNvbXBsZXRlKCksWzJdfX0pfSl9ZnVuY3Rpb24gTGYobix0LGUsbyxpKXtvPT09dm9pZCAwJiYobz0wKSxpPT09dm9pZCAwJiYoaT0hMSk7dmFyIGE9dC5zY2hlZHVsZShmdW5jdGlvbigpe2UoKSxpP24uYWRkKHRoaXMuc2NoZWR1bGUobnVsbCxvKSk6dGhpcy51bnN1YnNjcmliZSgpfSxvKTtpZihuLmFkZChhKSwhaSlyZXR1cm4gYX1mdW5jdGlvbiBldihuLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxTbihmdW5jdGlvbihlLG8pe2Uuc3Vic2NyaWJlKGJuKG8sZnVuY3Rpb24oaSl7cmV0dXJuIExmKG8sbixmdW5jdGlvbigpe3JldHVybiBvLm5leHQoaSl9LHQpfSxmdW5jdGlvbigpe3JldHVybiBMZihvLG4sZnVuY3Rpb24oKXtyZXR1cm4gby5jb21wbGV0ZSgpfSx0KX0sZnVuY3Rpb24oaSl7cmV0dXJuIExmKG8sbixmdW5jdGlvbigpe3JldHVybiBvLmVycm9yKGkpfSx0KX0pKX0pfWZ1bmN0aW9uIENOKG4sdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLFNuKGZ1bmN0aW9uKGUsbyl7by5hZGQobi5zY2hlZHVsZShmdW5jdGlvbigpe3JldHVybiBlLnN1YnNjcmliZShvKX0sdCkpfSl9ZnVuY3Rpb24gV1gobix0KXtyZXR1cm4gJG8obikucGlwZShDTih0KSxldih0KSl9ZnVuY3Rpb24gcVgobix0KXtyZXR1cm4gJG8obikucGlwZShDTih0KSxldih0KSl9ZnVuY3Rpb24gWlgobix0KXtyZXR1cm4gbmV3IERuKGZ1bmN0aW9uKGUpe3ZhciBvPTA7cmV0dXJuIHQuc2NoZWR1bGUoZnVuY3Rpb24oKXtvPT09bi5sZW5ndGg/ZS5jb21wbGV0ZSgpOihlLm5leHQobltvKytdKSxlLmNsb3NlZHx8dGhpcy5zY2hlZHVsZSgpKX0pfSl9ZnVuY3Rpb24gWFgobix0KXtyZXR1cm4gbmV3IERuKGZ1bmN0aW9uKGUpe3ZhciBvO3JldHVybiBMZihlLHQsZnVuY3Rpb24oKXtvPW5bZ05dKCksTGYoZSx0LGZ1bmN0aW9uKCl7dmFyIGksYSxyO3RyeXtpPW8ubmV4dCgpLGE9aS52YWx1ZSxyPWkuZG9uZX1jYXRjaChzKXtlLmVycm9yKHMpO3JldHVybn1yP2UuY29tcGxldGUoKTplLm5leHQoYSl9LDAsITApfSksZnVuY3Rpb24oKXtyZXR1cm4gUW4obz09bnVsbD92b2lkIDA6by5yZXR1cm4pJiZvLnJldHVybigpfX0pfWZ1bmN0aW9uIE1OKG4sdCl7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJJdGVyYWJsZSBjYW5ub3QgYmUgbnVsbCIpO3JldHVybiBuZXcgRG4oZnVuY3Rpb24oZSl7TGYoZSx0LGZ1bmN0aW9uKCl7dmFyIG89bltTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtMZihlLHQsZnVuY3Rpb24oKXtvLm5leHQoKS50aGVuKGZ1bmN0aW9uKGkpe2kuZG9uZT9lLmNvbXBsZXRlKCk6ZS5uZXh0KGkudmFsdWUpfSl9LDAsITApfSl9KX1mdW5jdGlvbiBRWChuLHQpe3JldHVybiBNTihoTihuKSx0KX1mdW5jdGlvbiBLWChuLHQpe2lmKG4hPW51bGwpe2lmKGZOKG4pKXJldHVybiBXWChuLHQpO2lmKGl3KG4pKXJldHVybiBaWChuLHQpO2lmKG1OKG4pKXJldHVybiBxWChuLHQpO2lmKHBOKG4pKXJldHVybiBNTihuLHQpO2lmKHVOKG4pKXJldHVybiBYWChuLHQpO2lmKF9OKG4pKXJldHVybiBRWChuLHQpfXRocm93IGROKG4pfWZ1bmN0aW9uIERhKG4sdCl7cmV0dXJuIHQ/S1gobix0KTokbyhuKX1mdW5jdGlvbiBkbigpe2Zvcih2YXIgbj1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyluW3RdPWFyZ3VtZW50c1t0XTt2YXIgZT1oYihuKTtyZXR1cm4gRGEobixlKX1mdW5jdGlvbiBMQyhuLHQpe3ZhciBlPVFuKG4pP246ZnVuY3Rpb24oKXtyZXR1cm4gbn0sbz1mdW5jdGlvbihpKXtyZXR1cm4gaS5lcnJvcihlKCkpfTtyZXR1cm4gbmV3IERuKHQ/ZnVuY3Rpb24oaSl7cmV0dXJuIHQuc2NoZWR1bGUobywwLGkpfTpvKX12YXIgSlg7KGZ1bmN0aW9uKG4pe24uTkVYVD0iTiIsbi5FUlJPUj0iRSIsbi5DT01QTEVURT0iQyJ9KShKWHx8KEpYPXt9KSk7dmFyIFFTPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbih0LGUsbyl7dGhpcy5raW5kPXQsdGhpcy52YWx1ZT1lLHRoaXMuZXJyb3I9byx0aGlzLmhhc1ZhbHVlPXQ9PT0iTiJ9cmV0dXJuIG4ucHJvdG90eXBlLm9ic2VydmU9ZnVuY3Rpb24odCl7cmV0dXJuIEg3KHRoaXMsdCl9LG4ucHJvdG90eXBlLmRvPWZ1bmN0aW9uKHQsZSxvKXt2YXIgaT10aGlzLGE9aS5raW5kLHI9aS52YWx1ZSxzPWkuZXJyb3I7cmV0dXJuIGE9PT0iTiI/dD09bnVsbD92b2lkIDA6dChyKTphPT09IkUiP2U9PW51bGw/dm9pZCAwOmUocyk6bz09bnVsbD92b2lkIDA6bygpfSxuLnByb3RvdHlwZS5hY2NlcHQ9ZnVuY3Rpb24odCxlLG8pe3ZhciBpO3JldHVybiBRbigoaT10KT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkubmV4dCk/dGhpcy5vYnNlcnZlKHQpOnRoaXMuZG8odCxlLG8pfSxuLnByb3RvdHlwZS50b09ic2VydmFibGU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5raW5kLG89dC52YWx1ZSxpPXQuZXJyb3IsYT1lPT09Ik4iP2RuKG8pOmU9PT0iRSI/TEMoZnVuY3Rpb24oKXtyZXR1cm4gaX0pOmU9PT0iQyI/TnM6MDtpZighYSl0aHJvdyBuZXcgVHlwZUVycm9yKCJVbmV4cGVjdGVkIG5vdGlmaWNhdGlvbiBraW5kICIrZSk7cmV0dXJuIGF9LG4uY3JlYXRlTmV4dD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IG4oIk4iLHQpfSxuLmNyZWF0ZUVycm9yPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgbigiRSIsdm9pZCAwLHQpfSxuLmNyZWF0ZUNvbXBsZXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG4uY29tcGxldGVOb3RpZmljYXRpb259LG4uY29tcGxldGVOb3RpZmljYXRpb249bmV3IG4oIkMiKSxufSgpO2Z1bmN0aW9uIEg3KG4sdCl7dmFyIGUsbyxpLGE9bixyPWEua2luZCxzPWEudmFsdWUsbD1hLmVycm9yO2lmKHR5cGVvZiByIT0ic3RyaW5nIil0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG5vdGlmaWNhdGlvbiwgbWlzc2luZyAia2luZCInKTtyPT09Ik4iPyhlPXQubmV4dCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmNhbGwodCxzKTpyPT09IkUiPyhvPXQuZXJyb3IpPT09bnVsbHx8bz09PXZvaWQgMHx8by5jYWxsKHQsbCk6KGk9dC5jb21wbGV0ZSk9PT1udWxsfHxpPT09dm9pZCAwfHxpLmNhbGwodCl9ZnVuY3Rpb24gbnYobil7cmV0dXJuISFuJiYobiBpbnN0YW5jZW9mIERufHxRbihuLmxpZnQpJiZRbihuLnN1YnNjcmliZSkpfXZhciBhdz1LMShmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oKXtuKHRoaXMpLHRoaXMubmFtZT0iRW1wdHlFcnJvciIsdGhpcy5tZXNzYWdlPSJubyBlbGVtZW50cyBpbiBzZXF1ZW5jZSJ9fSk7ZnVuY3Rpb24gJFgobil7cmV0dXJuIG4gaW5zdGFuY2VvZiBEYXRlJiYhaXNOYU4obil9ZnVuY3Rpb24gRyhuLHQpe3JldHVybiBTbihmdW5jdGlvbihlLG8pe3ZhciBpPTA7ZS5zdWJzY3JpYmUoYm4obyxmdW5jdGlvbihhKXtvLm5leHQobi5jYWxsKHQsYSxpKyspKX0pKX0pfXZhciBHX3Q9QXJyYXkuaXNBcnJheTtmdW5jdGlvbiBXX3Qobix0KXtyZXR1cm4gR190KHQpP24uYXBwbHkodm9pZCAwLGRhKFtdLEdpKHQpKSk6bih0KX1mdW5jdGlvbiBpeShuKXtyZXR1cm4gRyhmdW5jdGlvbih0KXtyZXR1cm4gV190KG4sdCl9KX12YXIgcV90PUFycmF5LmlzQXJyYXksWl90PU9iamVjdC5nZXRQcm90b3R5cGVPZixYX3Q9T2JqZWN0LnByb3RvdHlwZSxRX3Q9T2JqZWN0LmtleXM7ZnVuY3Rpb24gYk4obil7aWYobi5sZW5ndGg9PT0xKXt2YXIgdD1uWzBdO2lmKHFfdCh0KSlyZXR1cm57YXJnczp0LGtleXM6bnVsbH07aWYoS190KHQpKXt2YXIgZT1RX3QodCk7cmV0dXJue2FyZ3M6ZS5tYXAoZnVuY3Rpb24obyl7cmV0dXJuIHRbb119KSxrZXlzOmV9fX1yZXR1cm57YXJnczpuLGtleXM6bnVsbH19ZnVuY3Rpb24gS190KG4pe3JldHVybiBuJiZ0eXBlb2Ygbj09Im9iamVjdCImJlpfdChuKT09PVhfdH1mdW5jdGlvbiBPTihuLHQpe3JldHVybiBuLnJlZHVjZShmdW5jdGlvbihlLG8saSl7cmV0dXJuIGVbb109dFtpXSxlfSx7fSl9ZnVuY3Rpb24gb24oKXtmb3IodmFyIG49W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspblt0XT1hcmd1bWVudHNbdF07dmFyIGU9aGIobiksbz11YihuKSxpPWJOKG4pLGE9aS5hcmdzLHI9aS5rZXlzO2lmKGEubGVuZ3RoPT09MClyZXR1cm4gRGEoW10sZSk7dmFyIHM9bmV3IERuKEY3KGEsZSxyP2Z1bmN0aW9uKGwpe3JldHVybiBPTihyLGwpfTpMbCkpO3JldHVybiBvP3MucGlwZShpeShvKSk6c31mdW5jdGlvbiBGNyhuLHQsZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPUxsKSxmdW5jdGlvbihvKXt0USh0LGZ1bmN0aW9uKCl7Zm9yKHZhciBpPW4ubGVuZ3RoLGE9bmV3IEFycmF5KGkpLHI9aSxzPWksbD1mdW5jdGlvbihtKXt0USh0LGZ1bmN0aW9uKCl7dmFyIGY9RGEoblttXSx0KSxwPSExO2Yuc3Vic2NyaWJlKGJuKG8sZnVuY3Rpb24oZyl7YVttXT1nLHB8fChwPSEwLHMtLSksc3x8by5uZXh0KGUoYS5zbGljZSgpKSl9LGZ1bmN0aW9uKCl7LS1yfHxvLmNvbXBsZXRlKCl9KSl9LG8pfSxjPTA7YzxpO2MrKylsKGMpfSxvKX19ZnVuY3Rpb24gdFEobix0LGUpe24/TGYoZSxuLHQpOnQoKX1mdW5jdGlvbiBlUShuLHQsZSxvLGksYSxyLHMpe3ZhciBsPVtdLGM9MCxtPTAsZj0hMSxwPWZ1bmN0aW9uKCl7ZiYmIWwubGVuZ3RoJiYhYyYmdC5jb21wbGV0ZSgpfSxnPWZ1bmN0aW9uKE0pe3JldHVybiBjPG8/XyhNKTpsLnB1c2goTSl9LF89ZnVuY3Rpb24oTSl7YSYmdC5uZXh0KE0pLGMrKzt2YXIgeT0hMTskbyhlKE0sbSsrKSkuc3Vic2NyaWJlKGJuKHQsZnVuY3Rpb24oTyl7aT09bnVsbHx8aShPKSxhP2coTyk6dC5uZXh0KE8pfSxmdW5jdGlvbigpe3k9ITB9LHZvaWQgMCxmdW5jdGlvbigpe2lmKHkpdHJ5e2MtLTtmb3IodmFyIE89ZnVuY3Rpb24oKXt2YXIgYj1sLnNoaWZ0KCk7cj9MZih0LHIsZnVuY3Rpb24oKXtyZXR1cm4gXyhiKX0pOl8oYil9O2wubGVuZ3RoJiZjPG87KU8oKTtwKCl9Y2F0Y2goYil7dC5lcnJvcihiKX19KSl9O3JldHVybiBuLnN1YnNjcmliZShibih0LGcsZnVuY3Rpb24oKXtmPSEwLHAoKX0pKSxmdW5jdGlvbigpe3M9PW51bGx8fHMoKX19ZnVuY3Rpb24gVW4obix0LGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT0xLzApLFFuKHQpP1VuKGZ1bmN0aW9uKG8saSl7cmV0dXJuIEcoZnVuY3Rpb24oYSxyKXtyZXR1cm4gdChvLGEsaSxyKX0pKCRvKG4obyxpKSkpfSxlKToodHlwZW9mIHQ9PSJudW1iZXIiJiYoZT10KSxTbihmdW5jdGlvbihvLGkpe3JldHVybiBlUShvLGksbixlKX0pKX1mdW5jdGlvbiBQTihuKXtyZXR1cm4gbj09PXZvaWQgMCYmKG49MS8wKSxVbihMbCxuKX1mdW5jdGlvbiBuUSgpe3JldHVybiBQTigxKX1mdW5jdGlvbiBheSgpe2Zvcih2YXIgbj1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyluW3RdPWFyZ3VtZW50c1t0XTtyZXR1cm4gblEoKShEYShuLGhiKG4pKSl9ZnVuY3Rpb24gQkMobil7cmV0dXJuIG5ldyBEbihmdW5jdGlvbih0KXskbyhuKCkpLnN1YnNjcmliZSh0KX0pfWZ1bmN0aW9uIGdhKCl7Zm9yKHZhciBuPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKW5bdF09YXJndW1lbnRzW3RdO3ZhciBlPXViKG4pLG89Yk4obiksaT1vLmFyZ3MsYT1vLmtleXMscj1uZXcgRG4oZnVuY3Rpb24ocyl7dmFyIGw9aS5sZW5ndGg7aWYoIWwpe3MuY29tcGxldGUoKTtyZXR1cm59Zm9yKHZhciBjPW5ldyBBcnJheShsKSxtPWwsZj1sLHA9ZnVuY3Rpb24oXyl7dmFyIE09ITE7JG8oaVtfXSkuc3Vic2NyaWJlKGJuKHMsZnVuY3Rpb24oeSl7TXx8KE09ITAsZi0tKSxjW19dPXl9LGZ1bmN0aW9uKCl7cmV0dXJuIG0tLX0sdm9pZCAwLGZ1bmN0aW9uKCl7KCFtfHwhTSkmJihmfHxzLm5leHQoYT9PTihhLGMpOmMpLHMuY29tcGxldGUoKSl9KSl9LGc9MDtnPGw7ZysrKXAoZyl9KTtyZXR1cm4gZT9yLnBpcGUoaXkoZSkpOnJ9dmFyIEpfdD1bImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiXSwkX3Q9WyJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciJdLHQwdD1bIm9uIiwib2ZmIl07ZnVuY3Rpb24gam8obix0LGUsbyl7aWYoUW4oZSkmJihvPWUsZT12b2lkIDApLG8pcmV0dXJuIGpvKG4sdCxlKS5waXBlKGl5KG8pKTt2YXIgaT1HaShvMHQobik/JF90Lm1hcChmdW5jdGlvbihzKXtyZXR1cm4gZnVuY3Rpb24obCl7cmV0dXJuIG5bc10odCxsLGUpfX0pOmUwdChuKT9KX3QubWFwKG9RKG4sdCkpOm4wdChuKT90MHQubWFwKG9RKG4sdCkpOltdLDIpLGE9aVswXSxyPWlbMV07aWYoIWEmJml3KG4pKXJldHVybiBVbihmdW5jdGlvbihzKXtyZXR1cm4gam8ocyx0LGUpfSkoJG8obikpO2lmKCFhKXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgZXZlbnQgdGFyZ2V0Iik7cmV0dXJuIG5ldyBEbihmdW5jdGlvbihzKXt2YXIgbD1mdW5jdGlvbigpe2Zvcih2YXIgYz1bXSxtPTA7bTxhcmd1bWVudHMubGVuZ3RoO20rKyljW21dPWFyZ3VtZW50c1ttXTtyZXR1cm4gcy5uZXh0KDE8Yy5sZW5ndGg/YzpjWzBdKX07cmV0dXJuIGEobCksZnVuY3Rpb24oKXtyZXR1cm4gcihsKX19KX1mdW5jdGlvbiBvUShuLHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obyl7cmV0dXJuIG5bZV0odCxvKX19fWZ1bmN0aW9uIGUwdChuKXtyZXR1cm4gUW4obi5hZGRMaXN0ZW5lcikmJlFuKG4ucmVtb3ZlTGlzdGVuZXIpfWZ1bmN0aW9uIG4wdChuKXtyZXR1cm4gUW4obi5vbikmJlFuKG4ub2ZmKX1mdW5jdGlvbiBvMHQobil7cmV0dXJuIFFuKG4uYWRkRXZlbnRMaXN0ZW5lcikmJlFuKG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcil9ZnVuY3Rpb24gdWcobix0LGUpe249PT12b2lkIDAmJihuPTApLGU9PT12b2lkIDAmJihlPUxYKTt2YXIgbz0tMTtyZXR1cm4gdCE9bnVsbCYmKGNOKHQpP2U9dDpvPXQpLG5ldyBEbihmdW5jdGlvbihpKXt2YXIgYT0kWChuKT8rbi1lLm5vdygpOm47YTwwJiYoYT0wKTt2YXIgcj0wO3JldHVybiBlLnNjaGVkdWxlKGZ1bmN0aW9uKCl7aS5jbG9zZWR8fChpLm5leHQocisrKSwwPD1vP3RoaXMuc2NoZWR1bGUodm9pZCAwLG8pOmkuY29tcGxldGUoKSl9LGEpfSl9ZnVuY3Rpb24geW4oKXtmb3IodmFyIG49W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspblt0XT1hcmd1bWVudHNbdF07dmFyIGU9aGIobiksbz1ZWChuLDEvMCksaT1uO3JldHVybiBpLmxlbmd0aD9pLmxlbmd0aD09PTE/JG8oaVswXSk6UE4obykoRGEoaSxlKSk6TnN9dmFyIGkwdD1BcnJheS5pc0FycmF5O2Z1bmN0aW9uIHlOKG4pe3JldHVybiBuLmxlbmd0aD09PTEmJmkwdChuWzBdKT9uWzBdOm59ZnVuY3Rpb24gdWUobix0KXtyZXR1cm4gU24oZnVuY3Rpb24oZSxvKXt2YXIgaT0wO2Uuc3Vic2NyaWJlKGJuKG8sZnVuY3Rpb24oYSl7cmV0dXJuIG4uY2FsbCh0LGEsaSsrKSYmby5uZXh0KGEpfSkpfSl9ZnVuY3Rpb24gTDcoKXtmb3IodmFyIG49W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspblt0XT1hcmd1bWVudHNbdF07dmFyIGU9dWIobiksbz15TihuKTtyZXR1cm4gby5sZW5ndGg/bmV3IERuKGZ1bmN0aW9uKGkpe3ZhciBhPW8ubWFwKGZ1bmN0aW9uKCl7cmV0dXJuW119KSxyPW8ubWFwKGZ1bmN0aW9uKCl7cmV0dXJuITF9KTtpLmFkZChmdW5jdGlvbigpe2E9cj1udWxsfSk7Zm9yKHZhciBzPWZ1bmN0aW9uKGMpeyRvKG9bY10pLnN1YnNjcmliZShibihpLGZ1bmN0aW9uKG0pe2lmKGFbY10ucHVzaChtKSxhLmV2ZXJ5KGZ1bmN0aW9uKHApe3JldHVybiBwLmxlbmd0aH0pKXt2YXIgZj1hLm1hcChmdW5jdGlvbihwKXtyZXR1cm4gcC5zaGlmdCgpfSk7aS5uZXh0KGU/ZS5hcHBseSh2b2lkIDAsZGEoW10sR2koZikpKTpmKSxhLnNvbWUoZnVuY3Rpb24ocCxnKXtyZXR1cm4hcC5sZW5ndGgmJnJbZ119KSYmaS5jb21wbGV0ZSgpfX0sZnVuY3Rpb24oKXtyW2NdPSEwLCFhW2NdLmxlbmd0aCYmaS5jb21wbGV0ZSgpfSkpfSxsPTA7IWkuY2xvc2VkJiZsPG8ubGVuZ3RoO2wrKylzKGwpO3JldHVybiBmdW5jdGlvbigpe2E9cj1udWxsfX0pOk5zfWZ1bmN0aW9uIGlRKG4pe3JldHVybiBTbihmdW5jdGlvbih0LGUpe3ZhciBvPSExLGk9bnVsbCxhPW51bGwscj0hMSxzPWZ1bmN0aW9uKCl7aWYoYT09bnVsbHx8YS51bnN1YnNjcmliZSgpLGE9bnVsbCxvKXtvPSExO3ZhciBjPWk7aT1udWxsLGUubmV4dChjKX1yJiZlLmNvbXBsZXRlKCl9LGw9ZnVuY3Rpb24oKXthPW51bGwsciYmZS5jb21wbGV0ZSgpfTt0LnN1YnNjcmliZShibihlLGZ1bmN0aW9uKGMpe289ITAsaT1jLGF8fCRvKG4oYykpLnN1YnNjcmliZShhPWJuKGUscyxsKSl9LGZ1bmN0aW9uKCl7cj0hMCwoIW98fCFhfHxhLmNsb3NlZCkmJmUuY29tcGxldGUoKX0pKX0pfWZ1bmN0aW9uIG5fKG4sdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PUJPKSxpUShmdW5jdGlvbigpe3JldHVybiB1ZyhuLHQpfSl9ZnVuY3Rpb24gQjcobil7cmV0dXJuIFNuKGZ1bmN0aW9uKHQsZSl7dmFyIG89W107cmV0dXJuIHQuc3Vic2NyaWJlKGJuKGUsZnVuY3Rpb24oaSl7cmV0dXJuIG8ucHVzaChpKX0sZnVuY3Rpb24oKXtlLm5leHQobyksZS5jb21wbGV0ZSgpfSkpLG4uc3Vic2NyaWJlKGJuKGUsZnVuY3Rpb24oKXt2YXIgaT1vO289W10sZS5uZXh0KGkpfSxGQykpLGZ1bmN0aW9uKCl7bz1udWxsfX0pfWZ1bmN0aW9uIG5zKG4pe3JldHVybiBTbihmdW5jdGlvbih0LGUpe3ZhciBvPW51bGwsaT0hMSxhO289dC5zdWJzY3JpYmUoYm4oZSx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKHIpe2E9JG8obihyLG5zKG4pKHQpKSksbz8oby51bnN1YnNjcmliZSgpLG89bnVsbCxhLnN1YnNjcmliZShlKSk6aT0hMH0pKSxpJiYoby51bnN1YnNjcmliZSgpLG89bnVsbCxhLnN1YnNjcmliZShlKSl9KX1mdW5jdGlvbiBhUShuLHQsZSxvLGkpe3JldHVybiBmdW5jdGlvbihhLHIpe3ZhciBzPWUsbD10LGM9MDthLnN1YnNjcmliZShibihyLGZ1bmN0aW9uKG0pe3ZhciBmPWMrKztsPXM/bihsLG0sZik6KHM9ITAsbSksbyYmci5uZXh0KGwpfSxpJiZmdW5jdGlvbigpe3MmJnIubmV4dChsKSxyLmNvbXBsZXRlKCl9KSl9fWZ1bmN0aW9uIFY3KCl7Zm9yKHZhciBuPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKW5bdF09YXJndW1lbnRzW3RdO3ZhciBlPXViKG4pO3JldHVybiBlP1M3KFY3LmFwcGx5KHZvaWQgMCxkYShbXSxHaShuKSkpLGl5KGUpKTpTbihmdW5jdGlvbihvLGkpe0Y3KGRhKFtvXSxHaSh5TihuKSkpKShpKX0pfWZ1bmN0aW9uIFBhKCl7Zm9yKHZhciBuPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKW5bdF09YXJndW1lbnRzW3RdO3JldHVybiBWNy5hcHBseSh2b2lkIDAsZGEoW10sR2kobikpKX1mdW5jdGlvbiB4TihuLHQpe3JldHVybiBRbih0KT9VbihuLHQsMSk6VW4obiwxKX1mdW5jdGlvbiBscihuLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD1CTyksU24oZnVuY3Rpb24oZSxvKXt2YXIgaT1udWxsLGE9bnVsbCxyPW51bGwscz1mdW5jdGlvbigpe2lmKGkpe2kudW5zdWJzY3JpYmUoKSxpPW51bGw7dmFyIGM9YTthPW51bGwsby5uZXh0KGMpfX07ZnVuY3Rpb24gbCgpe3ZhciBjPXIrbixtPXQubm93KCk7aWYobTxjKXtpPXRoaXMuc2NoZWR1bGUodm9pZCAwLGMtbSksby5hZGQoaSk7cmV0dXJufXMoKX1lLnN1YnNjcmliZShibihvLGZ1bmN0aW9uKGMpe2E9YyxyPXQubm93KCksaXx8KGk9dC5zY2hlZHVsZShsLG4pLG8uYWRkKGkpKX0sZnVuY3Rpb24oKXtzKCksby5jb21wbGV0ZSgpfSx2b2lkIDAsZnVuY3Rpb24oKXthPWk9bnVsbH0pKX0pfWZ1bmN0aW9uIHZOKG4pe3JldHVybiBTbihmdW5jdGlvbih0LGUpe3ZhciBvPSExO3Quc3Vic2NyaWJlKGJuKGUsZnVuY3Rpb24oaSl7bz0hMCxlLm5leHQoaSl9LGZ1bmN0aW9uKCl7b3x8ZS5uZXh0KG4pLGUuY29tcGxldGUoKX0pKX0pfWZ1bmN0aW9uIENuKG4pe3JldHVybiBuPD0wP2Z1bmN0aW9uKCl7cmV0dXJuIE5zfTpTbihmdW5jdGlvbih0LGUpe3ZhciBvPTA7dC5zdWJzY3JpYmUoYm4oZSxmdW5jdGlvbihpKXsrK288PW4mJihlLm5leHQoaSksbjw9byYmZS5jb21wbGV0ZSgpKX0pKX0pfWZ1bmN0aW9uIEtTKCl7cmV0dXJuIFNuKGZ1bmN0aW9uKG4sdCl7bi5zdWJzY3JpYmUoYm4odCxGQykpfSl9ZnVuY3Rpb24gclEobil7cmV0dXJuIEcoZnVuY3Rpb24oKXtyZXR1cm4gbn0pfWZ1bmN0aW9uIHJ3KG4sdCl7cmV0dXJuIHQ/ZnVuY3Rpb24oZSl7cmV0dXJuIGF5KHQucGlwZShDbigxKSxLUygpKSxlLnBpcGUocncobikpKX06VW4oZnVuY3Rpb24oZSxvKXtyZXR1cm4gbihlLG8pLnBpcGUoQ24oMSksclEoZSkpfSl9ZnVuY3Rpb24gb18obix0KXt0PT09dm9pZCAwJiYodD1CTyk7dmFyIGU9dWcobix0KTtyZXR1cm4gcncoZnVuY3Rpb24oKXtyZXR1cm4gZX0pfWZ1bmN0aW9uIGo3KCl7cmV0dXJuIFNuKGZ1bmN0aW9uKG4sdCl7bi5zdWJzY3JpYmUoYm4odCxmdW5jdGlvbihlKXtyZXR1cm4gSDcoZSx0KX0pKX0pfWZ1bmN0aW9uIFhvKG4sdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PUxsKSxuPW4hPW51bGw/bjphMHQsU24oZnVuY3Rpb24oZSxvKXt2YXIgaSxhPSEwO2Uuc3Vic2NyaWJlKGJuKG8sZnVuY3Rpb24ocil7dmFyIHM9dChyKTsoYXx8IW4oaSxzKSkmJihhPSExLGk9cyxvLm5leHQocikpfSkpfSl9ZnVuY3Rpb24gYTB0KG4sdCl7cmV0dXJuIG49PT10fWZ1bmN0aW9uIHdOKG4pe3JldHVybiBuPT09dm9pZCAwJiYobj1yMHQpLFNuKGZ1bmN0aW9uKHQsZSl7dmFyIG89ITE7dC5zdWJzY3JpYmUoYm4oZSxmdW5jdGlvbihpKXtvPSEwLGUubmV4dChpKX0sZnVuY3Rpb24oKXtyZXR1cm4gbz9lLmNvbXBsZXRlKCk6ZS5lcnJvcihuKCkpfSkpfSl9ZnVuY3Rpb24gcjB0KCl7cmV0dXJuIG5ldyBhd31mdW5jdGlvbiBTTihuLHQpe3JldHVybiB0P2Z1bmN0aW9uKGUpe3JldHVybiBlLnBpcGUoU04oZnVuY3Rpb24obyxpKXtyZXR1cm4gJG8obihvLGkpKS5waXBlKEcoZnVuY3Rpb24oYSxyKXtyZXR1cm4gdChvLGEsaSxyKX0pKX0pKX06U24oZnVuY3Rpb24oZSxvKXt2YXIgaT0wLGE9bnVsbCxyPSExO2Uuc3Vic2NyaWJlKGJuKG8sZnVuY3Rpb24ocyl7YXx8KGE9Ym4obyx2b2lkIDAsZnVuY3Rpb24oKXthPW51bGwsciYmby5jb21wbGV0ZSgpfSksJG8obihzLGkrKykpLnN1YnNjcmliZShhKSl9LGZ1bmN0aW9uKCl7cj0hMCwhYSYmby5jb21wbGV0ZSgpfSkpfSl9ZnVuY3Rpb24gUk4obil7cmV0dXJuIFNuKGZ1bmN0aW9uKHQsZSl7dHJ5e3Quc3Vic2NyaWJlKGUpfWZpbmFsbHl7ZS5hZGQobil9fSl9ZnVuY3Rpb24gVTcobix0KXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPj0yO3JldHVybiBmdW5jdGlvbihvKXtyZXR1cm4gby5waXBlKG4/dWUoZnVuY3Rpb24oaSxhKXtyZXR1cm4gbihpLGEsbyl9KTpMbCxDbigxKSxlP3ZOKHQpOndOKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhd30pKX19ZnVuY3Rpb24gRU4obix0LGUsbyl7cmV0dXJuIFNuKGZ1bmN0aW9uKGksYSl7dmFyIHI7IXR8fHR5cGVvZiB0PT0iZnVuY3Rpb24iP3I9dDooZT10LmR1cmF0aW9uLHI9dC5lbGVtZW50LG89dC5jb25uZWN0b3IpO3ZhciBzPW5ldyBNYXAsbD1mdW5jdGlvbihfKXtzLmZvckVhY2goXyksXyhhKX0sYz1mdW5jdGlvbihfKXtyZXR1cm4gbChmdW5jdGlvbihNKXtyZXR1cm4gTS5lcnJvcihfKX0pfSxtPTAsZj0hMSxwPW5ldyBFNyhhLGZ1bmN0aW9uKF8pe3RyeXt2YXIgTT1uKF8pLHk9cy5nZXQoTSk7aWYoIXkpe3Muc2V0KE0seT1vP28oKTpuZXcgSnQpO3ZhciBPPWcoTSx5KTtpZihhLm5leHQoTyksZSl7dmFyIGI9Ym4oeSxmdW5jdGlvbigpe3kuY29tcGxldGUoKSxiPT1udWxsfHxiLnVuc3Vic2NyaWJlKCl9LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gcy5kZWxldGUoTSl9KTtwLmFkZCgkbyhlKE8pKS5zdWJzY3JpYmUoYikpfX15Lm5leHQocj9yKF8pOl8pfWNhdGNoKFIpe2MoUil9fSxmdW5jdGlvbigpe3JldHVybiBsKGZ1bmN0aW9uKF8pe3JldHVybiBfLmNvbXBsZXRlKCl9KX0sYyxmdW5jdGlvbigpe3JldHVybiBzLmNsZWFyKCl9LGZ1bmN0aW9uKCl7cmV0dXJuIGY9ITAsbT09PTB9KTtpLnN1YnNjcmliZShwKTtmdW5jdGlvbiBnKF8sTSl7dmFyIHk9bmV3IERuKGZ1bmN0aW9uKE8pe20rKzt2YXIgYj1NLnN1YnNjcmliZShPKTtyZXR1cm4gZnVuY3Rpb24oKXtiLnVuc3Vic2NyaWJlKCksLS1tPT09MCYmZiYmcC51bnN1YnNjcmliZSgpfX0pO3JldHVybiB5LmtleT1fLHl9fSl9ZnVuY3Rpb24gc1Eobil7cmV0dXJuIG48PTA/ZnVuY3Rpb24oKXtyZXR1cm4gTnN9OlNuKGZ1bmN0aW9uKHQsZSl7dmFyIG89W107dC5zdWJzY3JpYmUoYm4oZSxmdW5jdGlvbihpKXtvLnB1c2goaSksbjxvLmxlbmd0aCYmby5zaGlmdCgpfSxmdW5jdGlvbigpe3ZhciBpLGE7dHJ5e2Zvcih2YXIgcj1MTyhvKSxzPXIubmV4dCgpOyFzLmRvbmU7cz1yLm5leHQoKSl7dmFyIGw9cy52YWx1ZTtlLm5leHQobCl9fWNhdGNoKGMpe2k9e2Vycm9yOmN9fWZpbmFsbHl7dHJ5e3MmJiFzLmRvbmUmJihhPXIucmV0dXJuKSYmYS5jYWxsKHIpfWZpbmFsbHl7aWYoaSl0aHJvdyBpLmVycm9yfX1lLmNvbXBsZXRlKCl9LHZvaWQgMCxmdW5jdGlvbigpe289bnVsbH0pKX0pfWZ1bmN0aW9uIFk3KG4sdCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD49MjtyZXR1cm4gZnVuY3Rpb24obyl7cmV0dXJuIG8ucGlwZShuP3VlKGZ1bmN0aW9uKGksYSl7cmV0dXJuIG4oaSxhLG8pfSk6TGwsc1EoMSksZT92Tih0KTp3TihmdW5jdGlvbigpe3JldHVybiBuZXcgYXd9KSl9fWZ1bmN0aW9uIEc3KCl7cmV0dXJuIFNuKGZ1bmN0aW9uKG4sdCl7bi5zdWJzY3JpYmUoYm4odCxmdW5jdGlvbihlKXt0Lm5leHQoUVMuY3JlYXRlTmV4dChlKSl9LGZ1bmN0aW9uKCl7dC5uZXh0KFFTLmNyZWF0ZUNvbXBsZXRlKCkpLHQuY29tcGxldGUoKX0sZnVuY3Rpb24oZSl7dC5uZXh0KFFTLmNyZWF0ZUVycm9yKGUpKSx0LmNvbXBsZXRlKCl9KSl9KX1mdW5jdGlvbiBzdygpe3JldHVybiBTbihmdW5jdGlvbihuLHQpe3ZhciBlLG89ITE7bi5zdWJzY3JpYmUoYm4odCxmdW5jdGlvbihpKXt2YXIgYT1lO2U9aSxvJiZ0Lm5leHQoW2EsaV0pLG89ITB9KSl9KX1mdW5jdGlvbiBXNygpe2Zvcih2YXIgbj1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyluW3RdPWFyZ3VtZW50c1t0XTt2YXIgZT1uLmxlbmd0aDtpZihlPT09MCl0aHJvdyBuZXcgRXJyb3IoImxpc3Qgb2YgcHJvcGVydGllcyBjYW5ub3QgYmUgZW1wdHkuIik7cmV0dXJuIEcoZnVuY3Rpb24obyl7Zm9yKHZhciBpPW8sYT0wO2E8ZTthKyspe3ZhciByPWk9PW51bGw/dm9pZCAwOmlbblthXV07aWYodHlwZW9mIHIhPSJ1bmRlZmluZWQiKWk9cjtlbHNlIHJldHVybn1yZXR1cm4gaX0pfWZ1bmN0aW9uIHE3KG4pe3JldHVybiBTbihmdW5jdGlvbih0LGUpe3ZhciBvLGk9ITEsYSxyPSExLHM9ITEsbD1mdW5jdGlvbigpe3JldHVybiBzJiZyJiYoZS5jb21wbGV0ZSgpLCEwKX0sYz1mdW5jdGlvbigpe3JldHVybiBhfHwoYT1uZXcgSnQsbihhKS5zdWJzY3JpYmUoYm4oZSxmdW5jdGlvbigpe28/bSgpOmk9ITB9LGZ1bmN0aW9uKCl7cj0hMCxsKCl9KSkpLGF9LG09ZnVuY3Rpb24oKXtzPSExLG89dC5zdWJzY3JpYmUoYm4oZSx2b2lkIDAsZnVuY3Rpb24oKXtzPSEwLCFsKCkmJmMoKS5uZXh0KCl9KSksaSYmKG8udW5zdWJzY3JpYmUoKSxvPW51bGwsaT0hMSxtKCkpfTttKCl9KX1mdW5jdGlvbiBaNyhuLHQpe3JldHVybiBTbihhUShuLHQsYXJndW1lbnRzLmxlbmd0aD49MiwhMCkpfWZ1bmN0aW9uIEJjKG4pe249PT12b2lkIDAmJihuPXt9KTt2YXIgdD1uLmNvbm5lY3RvcixlPXQ9PT12b2lkIDA/ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEp0fTp0LG89bi5yZXNldE9uRXJyb3IsaT1vPT09dm9pZCAwPyEwOm8sYT1uLnJlc2V0T25Db21wbGV0ZSxyPWE9PT12b2lkIDA/ITA6YSxzPW4ucmVzZXRPblJlZkNvdW50WmVybyxsPXM9PT12b2lkIDA/ITA6cztyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIG09bnVsbCxmPW51bGwscD1udWxsLGc9MCxfPSExLE09ITEseT1mdW5jdGlvbigpe2Y9PW51bGx8fGYudW5zdWJzY3JpYmUoKSxmPW51bGx9LE89ZnVuY3Rpb24oKXt5KCksbT1wPW51bGwsXz1NPSExfSxiPWZ1bmN0aW9uKCl7dmFyIFI9bTtPKCksUj09bnVsbHx8Ui51bnN1YnNjcmliZSgpfTtyZXR1cm4gU24oZnVuY3Rpb24oUixFKXtnKyssIU0mJiFfJiZ5KCk7dmFyIGo9cD1wIT1udWxsP3A6ZSgpO0UuYWRkKGZ1bmN0aW9uKCl7Zy0tLGc9PT0wJiYhTSYmIV8mJihmPVg3KGIsbCkpfSksai5zdWJzY3JpYmUoRSksbXx8KG09bmV3IHR3KHtuZXh0OmZ1bmN0aW9uKHJ0KXtyZXR1cm4gai5uZXh0KHJ0KX0sZXJyb3I6ZnVuY3Rpb24ocnQpe009ITAseSgpLGY9WDcoTyxpLHJ0KSxqLmVycm9yKHJ0KX0sY29tcGxldGU6ZnVuY3Rpb24oKXtfPSEwLHkoKSxmPVg3KE8sciksai5jb21wbGV0ZSgpfX0pLERhKFIpLnN1YnNjcmliZShtKSl9KShjKX19ZnVuY3Rpb24gWDcobix0KXtmb3IodmFyIGU9W10sbz0yO288YXJndW1lbnRzLmxlbmd0aDtvKyspZVtvLTJdPWFyZ3VtZW50c1tvXTtyZXR1cm4gdD09PSEwPyhuKCksbnVsbCk6dD09PSExP251bGw6dC5hcHBseSh2b2lkIDAsZGEoW10sR2koZSkpKS5waXBlKENuKDEpKS5zdWJzY3JpYmUoZnVuY3Rpb24oKXtyZXR1cm4gbigpfSl9ZnVuY3Rpb24gQmYobix0LGUpe3ZhciBvLGksYSxyLHM9ITE7cmV0dXJuIG4mJnR5cGVvZiBuPT0ib2JqZWN0Ij8obz1uLmJ1ZmZlclNpemUscj1vPT09dm9pZCAwPzEvMDpvLGk9bi53aW5kb3dUaW1lLHQ9aT09PXZvaWQgMD8xLzA6aSxhPW4ucmVmQ291bnQscz1hPT09dm9pZCAwPyExOmEsZT1uLnNjaGVkdWxlcik6cj1uIT1udWxsP246MS8wLEJjKHtjb25uZWN0b3I6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHFTKHIsdCxlKX0scmVzZXRPbkVycm9yOiEwLHJlc2V0T25Db21wbGV0ZTohMSxyZXNldE9uUmVmQ291bnRaZXJvOnN9KX1mdW5jdGlvbiBWQyhuKXtyZXR1cm4gdWUoZnVuY3Rpb24odCxlKXtyZXR1cm4gbjw9ZX0pfWZ1bmN0aW9uIFNvKCl7Zm9yKHZhciBuPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKW5bdF09YXJndW1lbnRzW3RdO3ZhciBlPWhiKG4pO3JldHVybiBTbihmdW5jdGlvbihvLGkpeyhlP2F5KG4sbyxlKTpheShuLG8pKS5zdWJzY3JpYmUoaSl9KX1mdW5jdGlvbiB0aShuLHQpe3JldHVybiBTbihmdW5jdGlvbihlLG8pe3ZhciBpPW51bGwsYT0wLHI9ITEscz1mdW5jdGlvbigpe3JldHVybiByJiYhaSYmby5jb21wbGV0ZSgpfTtlLnN1YnNjcmliZShibihvLGZ1bmN0aW9uKGwpe2k9PW51bGx8fGkudW5zdWJzY3JpYmUoKTt2YXIgYz0wLG09YSsrOyRvKG4obCxtKSkuc3Vic2NyaWJlKGk9Ym4obyxmdW5jdGlvbihmKXtyZXR1cm4gby5uZXh0KHQ/dChsLGYsbSxjKyspOmYpfSxmdW5jdGlvbigpe2k9bnVsbCxzKCl9KSl9LGZ1bmN0aW9uKCl7cj0hMCxzKCl9KSl9KX1mdW5jdGlvbiBQZShuKXtyZXR1cm4gU24oZnVuY3Rpb24odCxlKXskbyhuKS5zdWJzY3JpYmUoYm4oZSxmdW5jdGlvbigpe3JldHVybiBlLmNvbXBsZXRlKCl9LEZDKSksIWUuY2xvc2VkJiZ0LnN1YnNjcmliZShlKX0pfWZ1bmN0aW9uIEpTKG4sdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSExKSxTbihmdW5jdGlvbihlLG8pe3ZhciBpPTA7ZS5zdWJzY3JpYmUoYm4obyxmdW5jdGlvbihhKXt2YXIgcj1uKGEsaSsrKTsocnx8dCkmJm8ubmV4dChhKSwhciYmby5jb21wbGV0ZSgpfSkpfSl9ZnVuY3Rpb24gYW4obix0LGUpe3ZhciBvPVFuKG4pfHx0fHxlP3tuZXh0Om4sZXJyb3I6dCxjb21wbGV0ZTplfTpuO3JldHVybiBvP1NuKGZ1bmN0aW9uKGksYSl7dmFyIHI7KHI9by5zdWJzY3JpYmUpPT09bnVsbHx8cj09PXZvaWQgMHx8ci5jYWxsKG8pO3ZhciBzPSEwO2kuc3Vic2NyaWJlKGJuKGEsZnVuY3Rpb24obCl7dmFyIGM7KGM9by5uZXh0KT09PW51bGx8fGM9PT12b2lkIDB8fGMuY2FsbChvLGwpLGEubmV4dChsKX0sZnVuY3Rpb24oKXt2YXIgbDtzPSExLChsPW8uY29tcGxldGUpPT09bnVsbHx8bD09PXZvaWQgMHx8bC5jYWxsKG8pLGEuY29tcGxldGUoKX0sZnVuY3Rpb24obCl7dmFyIGM7cz0hMSwoYz1vLmVycm9yKT09PW51bGx8fGM9PT12b2lkIDB8fGMuY2FsbChvLGwpLGEuZXJyb3IobCl9LGZ1bmN0aW9uKCl7dmFyIGwsYztzJiYoKGw9by51bnN1YnNjcmliZSk9PT1udWxsfHxsPT09dm9pZCAwfHxsLmNhbGwobykpLChjPW8uZmluYWxpemUpPT09bnVsbHx8Yz09PXZvaWQgMHx8Yy5jYWxsKG8pfSkpfSk6TGx9dmFyIFE3PXtsZWFkaW5nOiEwLHRyYWlsaW5nOiExfTtmdW5jdGlvbiBsUShuLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD1RNyksU24oZnVuY3Rpb24oZSxvKXt2YXIgaT10LmxlYWRpbmcsYT10LnRyYWlsaW5nLHI9ITEscz1udWxsLGw9bnVsbCxjPSExLG09ZnVuY3Rpb24oKXtsPT1udWxsfHxsLnVuc3Vic2NyaWJlKCksbD1udWxsLGEmJihnKCksYyYmby5jb21wbGV0ZSgpKX0sZj1mdW5jdGlvbigpe2w9bnVsbCxjJiZvLmNvbXBsZXRlKCl9LHA9ZnVuY3Rpb24oXyl7cmV0dXJuIGw9JG8obihfKSkuc3Vic2NyaWJlKGJuKG8sbSxmKSl9LGc9ZnVuY3Rpb24oKXtpZihyKXtyPSExO3ZhciBfPXM7cz1udWxsLG8ubmV4dChfKSwhYyYmcChfKX19O2Uuc3Vic2NyaWJlKGJuKG8sZnVuY3Rpb24oXyl7cj0hMCxzPV8sIShsJiYhbC5jbG9zZWQpJiYoaT9nKCk6cChfKSl9LGZ1bmN0aW9uKCl7Yz0hMCwhKGEmJnImJmwmJiFsLmNsb3NlZCkmJm8uY29tcGxldGUoKX0pKX0pfWZ1bmN0aW9uIGx3KG4sdCxlKXt0PT09dm9pZCAwJiYodD1CTyksZT09PXZvaWQgMCYmKGU9UTcpO3ZhciBvPXVnKG4sdCk7cmV0dXJuIGxRKGZ1bmN0aW9uKCl7cmV0dXJuIG99LGUpfWZ1bmN0aW9uIE9uKCl7Zm9yKHZhciBuPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKW5bdF09YXJndW1lbnRzW3RdO3ZhciBlPXViKG4pO3JldHVybiBTbihmdW5jdGlvbihvLGkpe2Zvcih2YXIgYT1uLmxlbmd0aCxyPW5ldyBBcnJheShhKSxzPW4ubWFwKGZ1bmN0aW9uKCl7cmV0dXJuITF9KSxsPSExLGM9ZnVuY3Rpb24oZil7JG8obltmXSkuc3Vic2NyaWJlKGJuKGksZnVuY3Rpb24ocCl7cltmXT1wLCFsJiYhc1tmXSYmKHNbZl09ITAsKGw9cy5ldmVyeShMbCkpJiYocz1udWxsKSl9LEZDKSl9LG09MDttPGE7bSsrKWMobSk7by5zdWJzY3JpYmUoYm4oaSxmdW5jdGlvbihmKXtpZihsKXt2YXIgcD1kYShbZl0sR2kocikpO2kubmV4dChlP2UuYXBwbHkodm9pZCAwLGRhKFtdLEdpKHApKSk6cCl9fSkpfSl9ZnVuY3Rpb24gRmkobil7Zm9yKGxldCB0IGluIG4paWYoblt0XT09PUZpKXJldHVybiB0O3Rocm93IEVycm9yKCJDb3VsZCBub3QgZmluZCByZW5hbWVkIHByb3BlcnR5IG9uIHRhcmdldCBvYmplY3QuIil9ZnVuY3Rpb24gSzcobix0KXtmb3IobGV0IGUgaW4gdCl0Lmhhc093blByb3BlcnR5KGUpJiYhbi5oYXNPd25Qcm9wZXJ0eShlKSYmKG5bZV09dFtlXSl9ZnVuY3Rpb24gT28obil7aWYodHlwZW9mIG49PSJzdHJpbmciKXJldHVybiBuO2lmKEFycmF5LmlzQXJyYXkobikpcmV0dXJuIlsiK24ubWFwKE9vKS5qb2luKCIsICIpKyJdIjtpZihuPT1udWxsKXJldHVybiIiK247aWYobi5vdmVycmlkZGVuTmFtZSlyZXR1cm5gJHtuLm92ZXJyaWRkZW5OYW1lfWA7aWYobi5uYW1lKXJldHVybmAke24ubmFtZX1gO2xldCB0PW4udG9TdHJpbmcoKTtpZih0PT1udWxsKXJldHVybiIiK3Q7bGV0IGU9dC5pbmRleE9mKGAKYCk7cmV0dXJuIGU9PT0tMT90OnQuc3Vic3RyaW5nKDAsZSl9ZnVuY3Rpb24gdkwobix0KXtyZXR1cm4gbj09bnVsbHx8bj09PSIiP3Q9PT1udWxsPyIiOnQ6dD09bnVsbHx8dD09PSIiP246bisiICIrdH12YXIgbDB0PUZpKHtfX2ZvcndhcmRfcmVmX186Rml9KTtmdW5jdGlvbiB0byhuKXtyZXR1cm4gbi5fX2ZvcndhcmRfcmVmX189dG8sbi50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBPbyh0aGlzKCkpfSxufWZ1bmN0aW9uIFVvKG4pe3JldHVybiBPSyhuKT9uKCk6bn1mdW5jdGlvbiBPSyhuKXtyZXR1cm4gdHlwZW9mIG49PSJmdW5jdGlvbiImJm4uaGFzT3duUHJvcGVydHkobDB0KSYmbi5fX2ZvcndhcmRfcmVmX189PT10b312YXIgYzB0PSJodHRwczovL2FuZ3VsYXIuaW8vZXJyb3JzIjt2YXIgeWI9Y2xhc3MgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHo4KHQsZSkpLHRoaXMuY29kZT10fX0sbTB0PW5ldyBTZXQoWyIxMDAiLCIyMDAiLCIyMDEiLCIzMDAiLCIzMDEiLCIzMDIiXSk7ZnVuY3Rpb24gejgobix0KXtsZXQgbz1gJHtuP2BORzAke259OiBgOiIifSR7dH1gO3JldHVybiBuZ0Rldk1vZGUmJm0wdC5oYXMobikmJihvPWAke299LiBGaW5kIG1vcmUgYXQgJHtjMHR9L05HMCR7bn1gKSxvfWZ1bmN0aW9uIFJvKG4pe3JldHVybiB0eXBlb2Ygbj09InN0cmluZyI/bjpuPT1udWxsPyIiOlN0cmluZyhuKX1mdW5jdGlvbiBWYyhuKXtyZXR1cm4gdHlwZW9mIG49PSJmdW5jdGlvbiI/bi5uYW1lfHxuLnRvU3RyaW5nKCk6dHlwZW9mIG49PSJvYmplY3QiJiZuIT1udWxsJiZ0eXBlb2Ygbi50eXBlPT0iZnVuY3Rpb24iP24udHlwZS5uYW1lfHxuLnR5cGUudG9TdHJpbmcoKTpSbyhuKX1mdW5jdGlvbiB3TChuLHQpe2xldCBlPXQ/YC4gRGVwZW5kZW5jeSBwYXRoOiAke3Quam9pbigiID4gIil9ID4gJHtufWA6IiI7dGhyb3cgbmV3IHliKCIyMDAiLGBDaXJjdWxhciBkZXBlbmRlbmN5IGluIERJIGRldGVjdGVkIGZvciAke259JHtlfWApfWZ1bmN0aW9uIGNRKCl7dGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgbWl4IG11bHRpIHByb3ZpZGVycyBhbmQgcmVndWxhciBwcm92aWRlcnMiKX1mdW5jdGlvbiBmMHQobix0LGUpe2xldCBvPSIiO3Rocm93IG4mJnQmJihvPWAgLSBvbmx5IGluc3RhbmNlcyBvZiBQcm92aWRlciBhbmQgVHlwZSBhcmUgYWxsb3dlZCwgZ290OiBbJHt0Lm1hcChhPT5hPT1lPyI/IitlKyI/IjoiLi4uIikuam9pbigiLCAiKX1dYCksbmV3IEVycm9yKGBJbnZhbGlkIHByb3ZpZGVyIGZvciB0aGUgTmdNb2R1bGUgJyR7T28obil9J2Arbyl9ZnVuY3Rpb24gSDgobix0KXtsZXQgZT10P2AgaW4gJHt0fWA6IiI7dGhyb3cgbmV3IHliKCIyMDEiLGBObyBwcm92aWRlciBmb3IgJHtWYyhuKX0gZm91bmQke2V9YCl9ZnVuY3Rpb24gV2Eobix0KXt0eXBlb2YgbiE9Im51bWJlciImJmhhKHQsdHlwZW9mIG4sIm51bWJlciIsIj09PSIpfWZ1bmN0aW9uIGNSKG4sdCxlKXtXYShuLCJFeHBlY3RlZCBhIG51bWJlciIpLHlLKG4sZSwiRXhwZWN0ZWQgbnVtYmVyIHRvIGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byIpLFpPKG4sdCwiRXhwZWN0ZWQgbnVtYmVyIHRvIGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byIpfWZ1bmN0aW9uIHlSKG4sdCl7dHlwZW9mIG4hPSJzdHJpbmciJiZoYSh0LG49PT1udWxsPyJudWxsIjp0eXBlb2Ygbiwic3RyaW5nIiwiPT09Iil9ZnVuY3Rpb24gcDB0KG4sdCl7dHlwZW9mIG4hPSJmdW5jdGlvbiImJmhhKHQsbj09PW51bGw/Im51bGwiOnR5cGVvZiBuLCJmdW5jdGlvbiIsIj09PSIpfWZ1bmN0aW9uIGlvKG4sdCxlKXtuIT10JiZoYShlLG4sdCwiPT0iKX1mdW5jdGlvbiBxQyhuLHQsZSl7bj09dCYmaGEoZSxuLHQsIiE9Iil9ZnVuY3Rpb24gUEsobix0LGUpe24hPT10JiZoYShlLG4sdCwiPT09Iil9ZnVuY3Rpb24gU3cobix0LGUpe249PT10JiZoYShlLG4sdCwiIT09Iil9ZnVuY3Rpb24gaHkobix0LGUpe248dHx8aGEoZSxuLHQsIjwiKX1mdW5jdGlvbiB5SyhuLHQsZSl7bjw9dHx8aGEoZSxuLHQsIjw9Iil9ZnVuY3Rpb24gUncobix0LGUpe24+dHx8aGEoZSxuLHQsIj4iKX1mdW5jdGlvbiBaTyhuLHQsZSl7bj49dHx8aGEoZSxuLHQsIj49Iil9ZnVuY3Rpb24gdW4obix0KXtuPT1udWxsJiZoYSh0LG4sbnVsbCwiIT0iKX1mdW5jdGlvbiBoYShuLHQsZSxvKXt0aHJvdyBuZXcgRXJyb3IoYEFTU0VSVElPTiBFUlJPUjogJHtufWArKG89PW51bGw/IiI6YCBbRXhwZWN0ZWQ9PiAke2V9ICR7b30gJHt0fSA8PUFjdHVhbF1gKSl9ZnVuY3Rpb24gQ2Iobil7ISh0eXBlb2YgTm9kZSE9InVuZGVmaW5lZCImJm4gaW5zdGFuY2VvZiBOb2RlKSYmISh0eXBlb2Ygbj09Im9iamVjdCImJm4hPW51bGwmJm4uY29uc3RydWN0b3IubmFtZT09PSJXZWJXb3JrZXJSZW5kZXJOb2RlIikmJmhhKGBUaGUgcHJvdmlkZWQgdmFsdWUgbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBhIERPTSBOb2RlIGJ1dCBnb3QgJHtPbyhuKX1gKX1mdW5jdGlvbiBBcihuLHQpe3VuKG4sIkFycmF5IG11c3QgYmUgZGVmaW5lZC4iKTtsZXQgZT1uLmxlbmd0aDsodDwwfHx0Pj1lKSYmaGEoYEluZGV4IGV4cGVjdGVkIHRvIGJlIGxlc3MgdGhhbiAke2V9IGJ1dCBnb3QgJHt0fWApfWZ1bmN0aW9uIGQwdChuLC4uLnQpe2lmKHQuaW5kZXhPZihuKSE9PS0xKXJldHVybiEwO2hhKGBFeHBlY3RlZCB2YWx1ZSB0byBiZSBvbmUgb2YgJHtKU09OLnN0cmluZ2lmeSh0KX0gYnV0IHdhcyAke0pTT04uc3RyaW5naWZ5KG4pfS5gKX1mdW5jdGlvbiBQdChuKXtyZXR1cm57dG9rZW46bi50b2tlbixwcm92aWRlZEluOm4ucHJvdmlkZWRJbnx8bnVsbCxmYWN0b3J5Om4uZmFjdG9yeSx2YWx1ZTp2b2lkIDB9fWZ1bmN0aW9uIFcobil7cmV0dXJue3Byb3ZpZGVyczpuLnByb3ZpZGVyc3x8W10saW1wb3J0czpuLmltcG9ydHN8fFtdfX1mdW5jdGlvbiBGOChuKXtyZXR1cm4gbVEobixXTil8fG1RKG4seEspfWZ1bmN0aW9uIG1RKG4sdCl7cmV0dXJuIG4uaGFzT3duUHJvcGVydHkodCk/blt0XTpudWxsfWZ1bmN0aW9uIGcwdChuKXtsZXQgdD1uJiYobltXTl18fG5beEtdKTtpZih0KXtsZXQgZT11MHQobik7cmV0dXJuIGNvbnNvbGUud2FybihgREVQUkVDQVRFRDogREkgaXMgaW5zdGFudGlhdGluZyBhIHRva2VuICIke2V9IiB0aGF0IGluaGVyaXRzIGl0cyBASW5qZWN0YWJsZSBkZWNvcmF0b3IgYnV0IGRvZXMgbm90IHByb3ZpZGUgb25lIGl0c2VsZi4KVGhpcyB3aWxsIGJlY29tZSBhbiBlcnJvciBpbiBhIGZ1dHVyZSB2ZXJzaW9uIG9mIEFuZ3VsYXIuIFBsZWFzZSBhZGQgQEluamVjdGFibGUoKSB0byB0aGUgIiR7ZX0iIGNsYXNzLmApLHR9ZWxzZSByZXR1cm4gbnVsbH1mdW5jdGlvbiB1MHQobil7aWYobi5oYXNPd25Qcm9wZXJ0eSgibmFtZSIpKXJldHVybiBuLm5hbWU7bGV0IHQ9KCIiK24pLm1hdGNoKC9eZnVuY3Rpb25ccyooW15ccyhdKykvKTtyZXR1cm4gdD09PW51bGw/IiI6dFsxXX1mdW5jdGlvbiBmUShuKXtyZXR1cm4gbiYmKG4uaGFzT3duUHJvcGVydHkoU0wpfHxuLmhhc093blByb3BlcnR5KGgwdCkpP25bU0xdOm51bGx9dmFyIFdOPUZpKHtcdTAyNzVwcm92OkZpfSksU0w9Rmkoe1x1MDI3NWluajpGaX0pLHhLPUZpKHtuZ0luamVjdGFibGVEZWY6Rml9KSxoMHQ9Rmkoe25nSW5qZWN0b3JEZWY6Rml9KTt2YXIgTmk7KGZ1bmN0aW9uKG4pe25bbi5EZWZhdWx0PTBdPSJEZWZhdWx0IixuW24uSG9zdD0xXT0iSG9zdCIsbltuLlNlbGY9Ml09IlNlbGYiLG5bbi5Ta2lwU2VsZj00XT0iU2tpcFNlbGYiLG5bbi5PcHRpb25hbD04XT0iT3B0aW9uYWwifSkoTml8fChOaT17fSkpO3ZhciBxTjtmdW5jdGlvbiBfMHQoKXtyZXR1cm4gcU59ZnVuY3Rpb24gX3kobil7bGV0IHQ9cU47cmV0dXJuIHFOPW4sdH1mdW5jdGlvbiB2SyhuLHQsZSl7bGV0IG89Rjgobik7aWYobyYmby5wcm92aWRlZEluPT0icm9vdCIpcmV0dXJuIG8udmFsdWU9PT12b2lkIDA/by52YWx1ZT1vLmZhY3RvcnkoKTpvLnZhbHVlO2lmKGUmTmkuT3B0aW9uYWwpcmV0dXJuIG51bGw7aWYodCE9PXZvaWQgMClyZXR1cm4gdDtIOChPbyhuKSwiSW5qZWN0b3IiKX1mdW5jdGlvbiBDMHQobil7bmdEZXZNb2RlJiZxQyhxTixuLCJDYWxsaW5nIFx1MDI3NVx1MDI3NWluamVjdCB3b3VsZCBjYXVzZSBpbmZpbml0ZSByZWN1cnNpb24iKX1mdW5jdGlvbiBQeShuKXtyZXR1cm57dG9TdHJpbmc6bn0udG9TdHJpbmcoKX12YXIgdHQ7KGZ1bmN0aW9uKG4pe25bbi5PblB1c2g9MF09Ik9uUHVzaCIsbltuLkRlZmF1bHQ9MV09IkRlZmF1bHQifSkodHR8fCh0dD17fSkpO3ZhciBwUTsoZnVuY3Rpb24obil7bltuLkNoZWNrT25jZT0wXT0iQ2hlY2tPbmNlIixuW24uQ2hlY2tlZD0xXT0iQ2hlY2tlZCIsbltuLkNoZWNrQWx3YXlzPTJdPSJDaGVja0Fsd2F5cyIsbltuLkRldGFjaGVkPTNdPSJEZXRhY2hlZCIsbltuLkVycm9yZWQ9NF09IkVycm9yZWQiLG5bbi5EZXN0cm95ZWQ9NV09IkRlc3Ryb3llZCJ9KShwUXx8KHBRPXt9KSk7dmFyIEplOyhmdW5jdGlvbihuKXtuW24uRW11bGF0ZWQ9MF09IkVtdWxhdGVkIixuW24uTm9uZT0yXT0iTm9uZSIsbltuLlNoYWRvd0RvbT0zXT0iU2hhZG93RG9tIn0pKEplfHwoSmU9e30pKTt2YXIgTTB0PXR5cGVvZiBnbG9iYWxUaGlzIT0idW5kZWZpbmVkIiYmZ2xvYmFsVGhpcyxiMHQ9dHlwZW9mIHdpbmRvdyE9InVuZGVmaW5lZCImJndpbmRvdyxPMHQ9dHlwZW9mIHNlbGYhPSJ1bmRlZmluZWQiJiZ0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUhPSJ1bmRlZmluZWQiJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUmJnNlbGYsUDB0PXR5cGVvZiBnbG9iYWwhPSJ1bmRlZmluZWQiJiZnbG9iYWwsTWk9TTB0fHxQMHR8fGIwdHx8TzB0O2Z1bmN0aW9uIHkwdCgpe2xldCBuPXR5cGVvZiBsb2NhdGlvbiE9InVuZGVmaW5lZCI/bG9jYXRpb24udG9TdHJpbmcoKToiIix0PXtuYW1lZENvbnN0cnVjdG9yczpuLmluZGV4T2YoIm5nRGV2TW9kZT1uYW1lZENvbnN0cnVjdG9ycyIpIT0tMSxmaXJzdENyZWF0ZVBhc3M6MCx0Tm9kZTowLHRWaWV3OjAscmVuZGVyZXJDcmVhdGVUZXh0Tm9kZTowLHJlbmRlcmVyU2V0VGV4dDowLHJlbmRlcmVyQ3JlYXRlRWxlbWVudDowLHJlbmRlcmVyQWRkRXZlbnRMaXN0ZW5lcjowLHJlbmRlcmVyU2V0QXR0cmlidXRlOjAscmVuZGVyZXJSZW1vdmVBdHRyaWJ1dGU6MCxyZW5kZXJlclNldFByb3BlcnR5OjAscmVuZGVyZXJTZXRDbGFzc05hbWU6MCxyZW5kZXJlckFkZENsYXNzOjAscmVuZGVyZXJSZW1vdmVDbGFzczowLHJlbmRlcmVyU2V0U3R5bGU6MCxyZW5kZXJlclJlbW92ZVN0eWxlOjAscmVuZGVyZXJEZXN0cm95OjAscmVuZGVyZXJEZXN0cm95Tm9kZTowLHJlbmRlcmVyTW92ZU5vZGU6MCxyZW5kZXJlclJlbW92ZU5vZGU6MCxyZW5kZXJlckFwcGVuZENoaWxkOjAscmVuZGVyZXJJbnNlcnRCZWZvcmU6MCxyZW5kZXJlckNyZWF0ZUNvbW1lbnQ6MH0sZT1uLmluZGV4T2YoIm5nRGV2TW9kZT1mYWxzZSIpPT09LTE7cmV0dXJuIE1pLm5nRGV2TW9kZT1lJiZ0LHR9ZnVuY3Rpb24geFIoKXtyZXR1cm4gdHlwZW9mIG5nRGV2TW9kZT09InVuZGVmaW5lZCJ8fG5nRGV2TW9kZT8odHlwZW9mIG5nRGV2TW9kZSE9Im9iamVjdCImJnkwdCgpLHR5cGVvZiBuZ0Rldk1vZGUhPSJ1bmRlZmluZWQiJiYhIW5nRGV2TW9kZSk6ITF9dmFyIGx2PXt9LHVhPVtdOyh0eXBlb2YgbmdEZXZNb2RlPT0idW5kZWZpbmVkInx8bmdEZXZNb2RlKSYmeFIoKSYmKE9iamVjdC5mcmVlemUobHYpLE9iamVjdC5mcmVlemUodWEpKTt2YXIgeFQ9Rmkoe1x1MDI3NWNtcDpGaX0pLEw4PUZpKHtcdTAyNzVkaXI6Rml9KSxCOD1GaSh7XHUwMjc1cGlwZTpGaX0pLHdLPUZpKHtcdTAyNzVtb2Q6Rml9KSx4MHQ9Rmkoe1x1MDI3NWxvYzpGaX0pLFVPPUZpKHtcdTAyNzVmYWM6Rml9KSxuUj1GaSh7X19OR19FTEVNRU5UX0lEX186Rml9KTt2YXIgdjB0PTA7ZnVuY3Rpb24geihuKXtyZXR1cm4gUHkoKCk9PnsodHlwZW9mIG5nRGV2TW9kZT09InVuZGVmaW5lZCJ8fG5nRGV2TW9kZSkmJnhSKCk7bGV0IHQ9bi50eXBlLGU9e30sbz17dHlwZTp0LHByb3ZpZGVyc1Jlc29sdmVyOm51bGwsZGVjbHM6bi5kZWNscyx2YXJzOm4udmFycyxmYWN0b3J5Om51bGwsdGVtcGxhdGU6bi50ZW1wbGF0ZXx8bnVsbCxjb25zdHM6bi5jb25zdHN8fG51bGwsbmdDb250ZW50U2VsZWN0b3JzOm4ubmdDb250ZW50U2VsZWN0b3JzLGhvc3RCaW5kaW5nczpuLmhvc3RCaW5kaW5nc3x8bnVsbCxob3N0VmFyczpuLmhvc3RWYXJzfHwwLGhvc3RBdHRyczpuLmhvc3RBdHRyc3x8bnVsbCxjb250ZW50UXVlcmllczpuLmNvbnRlbnRRdWVyaWVzfHxudWxsLGRlY2xhcmVkSW5wdXRzOmUsaW5wdXRzOm51bGwsb3V0cHV0czpudWxsLGV4cG9ydEFzOm4uZXhwb3J0QXN8fG51bGwsb25QdXNoOm4uY2hhbmdlRGV0ZWN0aW9uPT09dHQuT25QdXNoLGRpcmVjdGl2ZURlZnM6bnVsbCxwaXBlRGVmczpudWxsLHNlbGVjdG9yczpuLnNlbGVjdG9yc3x8dWEsdmlld1F1ZXJ5Om4udmlld1F1ZXJ5fHxudWxsLGZlYXR1cmVzOm4uZmVhdHVyZXN8fG51bGwsZGF0YTpuLmRhdGF8fHt9LGVuY2Fwc3VsYXRpb246bi5lbmNhcHN1bGF0aW9ufHxKZS5FbXVsYXRlZCxpZDoiYyIsc3R5bGVzOm4uc3R5bGVzfHx1YSxfOm51bGwsc2V0SW5wdXQ6bnVsbCxzY2hlbWFzOm4uc2NoZW1hc3x8bnVsbCx0VmlldzpudWxsfSxpPW4uZGlyZWN0aXZlcyxhPW4uZmVhdHVyZXMscj1uLnBpcGVzO3JldHVybiBvLmlkKz12MHQrKyxvLmlucHV0cz1kUShuLmlucHV0cyxlKSxvLm91dHB1dHM9ZFEobi5vdXRwdXRzKSxhJiZhLmZvckVhY2gocz0+cyhvKSksby5kaXJlY3RpdmVEZWZzPWk/KCk9Pih0eXBlb2YgaT09ImZ1bmN0aW9uIj9pKCk6aSkubWFwKFNLKTpudWxsLG8ucGlwZURlZnM9cj8oKT0+KHR5cGVvZiByPT0iZnVuY3Rpb24iP3IoKTpyKS5tYXAoUkspOm51bGwsb30pfWZ1bmN0aW9uIHZSKG4sdCxlKXtsZXQgbz1uLlx1MDI3NWNtcDtvLmRpcmVjdGl2ZURlZnM9KCk9PnQubWFwKFNLKSxvLnBpcGVEZWZzPSgpPT5lLm1hcChSSyl9ZnVuY3Rpb24gU0sobil7bGV0IHQ9VmYobil8fGN5KG4pO2lmKG5nRGV2TW9kZSYmIXQpdGhyb3cgbmV3IEVycm9yKGAnJHtuLm5hbWV9JyBpcyBuZWl0aGVyICdDb21wb25lbnRUeXBlJyBvciAnRGlyZWN0aXZlVHlwZScuYCk7cmV0dXJuIHR9ZnVuY3Rpb24gUksobil7bGV0IHQ9YXYobik7aWYobmdEZXZNb2RlJiYhdCl0aHJvdyBuZXcgRXJyb3IoYCcke24ubmFtZX0nIGlzIG5vdCBhICdQaXBlVHlwZScuYCk7cmV0dXJuIHR9dmFyIHcwdD17fTtmdW5jdGlvbiBxKG4pe3JldHVybiBQeSgoKT0+e2xldCB0PXt0eXBlOm4udHlwZSxib290c3RyYXA6bi5ib290c3RyYXB8fHVhLGRlY2xhcmF0aW9uczpuLmRlY2xhcmF0aW9uc3x8dWEsaW1wb3J0czpuLmltcG9ydHN8fHVhLGV4cG9ydHM6bi5leHBvcnRzfHx1YSx0cmFuc2l0aXZlQ29tcGlsZVNjb3BlczpudWxsLHNjaGVtYXM6bi5zY2hlbWFzfHxudWxsLGlkOm4uaWR8fG51bGx9O3JldHVybiBuLmlkIT1udWxsJiYodzB0W24uaWRdPW4udHlwZSksdH0pfWZ1bmN0aW9uIGV0KG4sdCl7cmV0dXJuIFB5KCgpPT57bGV0IGU9c18obiwhMCk7ZS5kZWNsYXJhdGlvbnM9dC5kZWNsYXJhdGlvbnN8fHVhLGUuaW1wb3J0cz10LmltcG9ydHN8fHVhLGUuZXhwb3J0cz10LmV4cG9ydHN8fHVhfSl9ZnVuY3Rpb24gZFEobix0KXtpZihuPT1udWxsKXJldHVybiBsdjtsZXQgZT17fTtmb3IobGV0IG8gaW4gbilpZihuLmhhc093blByb3BlcnR5KG8pKXtsZXQgaT1uW29dLGE9aTtBcnJheS5pc0FycmF5KGkpJiYoYT1pWzFdLGk9aVswXSksZVtpXT1vLHQmJih0W2ldPWEpfXJldHVybiBlfXZhciB2dD16O2Z1bmN0aW9uIGptKG4pe3JldHVybnt0eXBlOm4udHlwZSxuYW1lOm4ubmFtZSxmYWN0b3J5Om51bGwscHVyZTpuLnB1cmUhPT0hMSxvbkRlc3Ryb3k6bi50eXBlLnByb3RvdHlwZS5uZ09uRGVzdHJveXx8bnVsbH19ZnVuY3Rpb24gVmYobil7cmV0dXJuIG5beFRdfHxudWxsfWZ1bmN0aW9uIGN5KG4pe3JldHVybiBuW0w4XXx8bnVsbH1mdW5jdGlvbiBhdihuKXtyZXR1cm4gbltCOF18fG51bGx9ZnVuY3Rpb24gc18obix0KXtsZXQgZT1uW3dLXXx8bnVsbDtpZighZSYmdD09PSEwKXRocm93IG5ldyBFcnJvcihgVHlwZSAke09vKG4pfSBkb2VzIG5vdCBoYXZlICdcdTAyNzVtb2QnIHByb3BlcnR5LmApO3JldHVybiBlfWZ1bmN0aW9uIFMwdChuKXtyZXR1cm4gblt4MHRdfHxudWxsfXZhciBsXz0wLFJuPTEsUW89Mix5cj0zLGhnPTQsaXY9NSxZYz02LGN2PTcsVHI9OCxtUj05LHJ2PTEwLFBvPTExLFpOPTEyLGh3PTEzLFJMPTE0LEN5PTE1LGJnPTE2LHdSPTE3LGN3PTE4LF9nPTE5LGdpPTIwLFIwdD1bIlJvb3QiLCJDb21wb25lbnQiLCJFbWJlZGRlZCJdLEUwdD0xO3ZhciBWOD0xLGo4PTIsdlQ9NyxYTj04LE15PTksQmw9MTAsazB0PTE7ZnVuY3Rpb24gVk8obil7cmV0dXJuIEFycmF5LmlzQXJyYXkobikmJnR5cGVvZiBuW1Y4XT09Im9iamVjdCJ9ZnVuY3Rpb24gWkMobil7cmV0dXJuIEFycmF5LmlzQXJyYXkobikmJm5bVjhdPT09ITB9ZnVuY3Rpb24gVTgobil7cmV0dXJuKG4uZmxhZ3MmOCkhPT0wfWZ1bmN0aW9uIFk4KG4pe3JldHVybihuLmZsYWdzJjIpPT09Mn1mdW5jdGlvbiB3VChuKXtyZXR1cm4obi5mbGFncyYxKT09PTF9ZnVuY3Rpb24gV0Mobil7cmV0dXJuIG4udGVtcGxhdGUhPT1udWxsfWZ1bmN0aW9uIE4wdChuKXtyZXR1cm4obltRb10mNTEyKSE9PTB9ZnVuY3Rpb24geXkobix0KXtFdyhuLHRbUm5dKX1mdW5jdGlvbiBFdyhuLHQpe0c4KG4pLG4uaGFzT3duUHJvcGVydHkoInRWaWV3XyIpJiZpbyhuLnRWaWV3Xyx0LCJUaGlzIFROb2RlIGRvZXMgbm90IGJlbG9uZyB0byB0aGlzIFRWaWV3LiIpfWZ1bmN0aW9uIEc4KG4pe3VuKG4sIlROb2RlIG11c3QgYmUgZGVmaW5lZCIpLG4mJnR5cGVvZiBuPT0ib2JqZWN0IiYmbi5oYXNPd25Qcm9wZXJ0eSgiZGlyZWN0aXZlU3R5bGluZ0xhc3QiKXx8aGEoIk5vdCBvZiB0eXBlIFROb2RlLCBnb3Q6ICIrbil9ZnVuY3Rpb24gVzgobil7dW4obiwiRXhwZWN0ZWQgVEljdSB0byBiZSBkZWZpbmVkIiksdHlwZW9mIG4uY3VycmVudENhc2VMVmlld0luZGV4IT0ibnVtYmVyIiYmaGEoIk9iamVjdCBpcyBub3Qgb2YgVEljdSB0eXBlLiIpfWZ1bmN0aW9uIFQwdChuLHQ9IlR5cGUgcGFzc2VkIGluIGlzIG5vdCBDb21wb25lbnRUeXBlLCBpdCBkb2VzIG5vdCBoYXZlICdcdTAyNzVjbXAnIHByb3BlcnR5LiIpe1ZmKG4pfHxoYSh0KX1mdW5jdGlvbiBBMHQobix0PSJUeXBlIHBhc3NlZCBpbiBpcyBub3QgTmdNb2R1bGVUeXBlLCBpdCBkb2VzIG5vdCBoYXZlICdcdTAyNzVtb2QnIHByb3BlcnR5LiIpe3NfKG4pfHxoYSh0KX1mdW5jdGlvbiBFSyhuKXt1bihuLCJjdXJyZW50VE5vZGUgc2hvdWxkIGV4aXN0ISIpLHVuKG4ucGFyZW50LCJjdXJyZW50VE5vZGUgc2hvdWxkIGhhdmUgYSBwYXJlbnQiKX1mdW5jdGlvbiB4YihuKXt1bihuLCJMQ29udGFpbmVyIG11c3QgYmUgZGVmaW5lZCIpLGlvKFpDKG4pLCEwLCJFeHBlY3RpbmcgTENvbnRhaW5lciIpfWZ1bmN0aW9uIGtLKG4pe24mJmlvKFZPKG4pLCEwLCJFeHBlY3RpbmcgTFZpZXcgb3IgdW5kZWZpbmVkIG9yIG51bGwiKX1mdW5jdGlvbiBrdyhuKXt1bihuLCJMVmlldyBtdXN0IGJlIGRlZmluZWQiKSxpbyhWTyhuKSwhMCwiRXhwZWN0aW5nIExWaWV3Iil9ZnVuY3Rpb24gT2cobix0KXtpbyhuLmZpcnN0Q3JlYXRlUGFzcywhMCx0fHwiU2hvdWxkIG9ubHkgYmUgY2FsbGVkIGluIGZpcnN0IGNyZWF0ZSBwYXNzLiIpfWZ1bmN0aW9uIHE4KG4sdCl7aW8obi5maXJzdFVwZGF0ZVBhc3MsITAsdHx8IlNob3VsZCBvbmx5IGJlIGNhbGxlZCBpbiBmaXJzdCB1cGRhdGUgcGFzcy4iKX1mdW5jdGlvbiBEMHQobil7KG4udHlwZT09PXZvaWQgMHx8bi5zZWxlY3RvcnM9PW51bGx8fG4uaW5wdXRzPT09dm9pZCAwKSYmaGEoIkV4cGVjdGVkIGEgRGlyZWN0aXZlRGVmL0NvbXBvbmVudERlZiBhbmQgdGhpcyBvYmplY3QgZG9lcyBub3Qgc2VlbSB0byBoYXZlIHRoZSBleHBlY3RlZCBzaGFwZS4iKX1mdW5jdGlvbiBJMHQobix0KXtsZXQgZT1uWzFdO05LKGdpLGUuYmluZGluZ1N0YXJ0SW5kZXgsdCl9ZnVuY3Rpb24gUU4obix0KXtsZXQgZT1uWzFdO05LKGUuZXhwYW5kb1N0YXJ0SW5kZXgsbi5sZW5ndGgsdCl9ZnVuY3Rpb24gTksobix0LGUpe248PWUmJmU8dHx8aGEoYEluZGV4IG91dCBvZiByYW5nZSAoZXhwZWN0aW5nICR7bn0gPD0gJHtlfSA8ICR7dH0pYCl9ZnVuY3Rpb24gejB0KG4sdCl7dW4obltiZ10sIkNvbXBvbmVudCB2aWV3cyBzaG91bGQgZXhpc3QuIiksdW4obltiZ11bWWNdLnByb2plY3Rpb24sdHx8IkNvbXBvbmVudHMgd2l0aCBwcm9qZWN0aW9uIG5vZGVzICg8bmctY29udGVudD4pIG11c3QgaGF2ZSBwcm9qZWN0aW9uIHNsb3RzIGRlZmluZWQuIil9ZnVuY3Rpb24gVEsobix0KXt1bihuLHR8fCJDb21wb25lbnQgdmlld3Mgc2hvdWxkIGFsd2F5cyBoYXZlIGEgcGFyZW50IHZpZXcgKGNvbXBvbmVudCdzIGhvc3QgdmlldykiKX1mdW5jdGlvbiBaOChuLHQpe1FOKG4sdCksUU4obix0KzgpLFdhKG5bdCswXSwiaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXIiKSxXYShuW3QrMV0sImluamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyIiksV2Eoblt0KzJdLCJpbmplY3RvckluZGV4IHNob3VsZCBwb2ludCB0byBhIGJsb29tIGZpbHRlciIpLFdhKG5bdCszXSwiaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXIiKSxXYShuW3QrNF0sImluamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyIiksV2Eoblt0KzVdLCJpbmplY3RvckluZGV4IHNob3VsZCBwb2ludCB0byBhIGJsb29tIGZpbHRlciIpLFdhKG5bdCs2XSwiaW5qZWN0b3JJbmRleCBzaG91bGQgcG9pbnQgdG8gYSBibG9vbSBmaWx0ZXIiKSxXYShuW3QrN10sImluamVjdG9ySW5kZXggc2hvdWxkIHBvaW50IHRvIGEgYmxvb20gZmlsdGVyIiksV2Eoblt0KzhdLCJpbmplY3RvckluZGV4IHNob3VsZCBwb2ludCB0byBwYXJlbnQgaW5qZWN0b3IiKX1mdW5jdGlvbiBtdihuLHQpe2xldCBlPW4uaGFzT3duUHJvcGVydHkoVU8pO2lmKCFlJiZ0PT09ITAmJm5nRGV2TW9kZSl0aHJvdyBuZXcgRXJyb3IoYFR5cGUgJHtPbyhuKX0gZG9lcyBub3QgaGF2ZSAnXHUwMjc1ZmFjJyBwcm9wZXJ0eS5gKTtyZXR1cm4gZT9uW1VPXTpudWxsfXZhciBFTD1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUsbyl7dGhpcy5wcmV2aW91c1ZhbHVlPXQsdGhpcy5jdXJyZW50VmFsdWU9ZSx0aGlzLmZpcnN0Q2hhbmdlPW99aXNGaXJzdENoYW5nZSgpe3JldHVybiB0aGlzLmZpcnN0Q2hhbmdlfX07ZnVuY3Rpb24gV2UoKXtyZXR1cm4gQUt9ZnVuY3Rpb24gQUsobil7cmV0dXJuIG4udHlwZS5wcm90b3R5cGUubmdPbkNoYW5nZXMmJihuLnNldElucHV0PUYwdCksSDB0fVdlLm5nSW5oZXJpdD0hMDtmdW5jdGlvbiBIMHQoKXtsZXQgbj1JSyh0aGlzKSx0PW49PW51bGw/dm9pZCAwOm4uY3VycmVudDtpZih0KXtsZXQgZT1uLnByZXZpb3VzO2lmKGU9PT1sdiluLnByZXZpb3VzPXQ7ZWxzZSBmb3IobGV0IG8gaW4gdCllW29dPXRbb107bi5jdXJyZW50PW51bGwsdGhpcy5uZ09uQ2hhbmdlcyh0KX19ZnVuY3Rpb24gRjB0KG4sdCxlLG8pe2xldCBpPUlLKG4pfHxMMHQobix7cHJldmlvdXM6bHYsY3VycmVudDpudWxsfSksYT1pLmN1cnJlbnR8fChpLmN1cnJlbnQ9e30pLHI9aS5wcmV2aW91cyxzPXRoaXMuZGVjbGFyZWRJbnB1dHNbZV0sbD1yW3NdO2Fbc109bmV3IEVMKGwmJmwuY3VycmVudFZhbHVlLHQscj09PWx2KSxuW29dPXR9dmFyIERLPSJfX25nU2ltcGxlQ2hhbmdlc19fIjtmdW5jdGlvbiBJSyhuKXtyZXR1cm4gbltES118fG51bGx9ZnVuY3Rpb24gTDB0KG4sdCl7cmV0dXJuIG5bREtdPXR9dmFyIGtMPW51bGwsQjB0PW49PntrTD1ufSxhXz1mdW5jdGlvbihuLHQsZSl7a0whPW51bGwmJmtMKG4sdCxlKX07dmFyIHpLPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsSEs9Imh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aE1MLyI7dmFyIE5MO2Z1bmN0aW9uIEZLKG4pe05MPW59ZnVuY3Rpb24gWDgoKXtpZihOTCE9PXZvaWQgMClyZXR1cm4gTkw7aWYodHlwZW9mIGRvY3VtZW50IT0idW5kZWZpbmVkIilyZXR1cm4gZG9jdW1lbnR9dmFyIGdROyhmdW5jdGlvbihuKXtuW24uSW1wb3J0YW50PTFdPSJJbXBvcnRhbnQiLG5bbi5EYXNoQ2FzZT0yXT0iRGFzaENhc2UifSkoZ1F8fChnUT17fSkpO2Z1bmN0aW9uIElhKG4pe3JldHVybiEhbi5saXN0ZW59dmFyIFYwdD0obix0KT0+WDgoKSxqMHQ9e2NyZWF0ZVJlbmRlcmVyOlYwdH0sVTB0PTE7ZnVuY3Rpb24gWnMobil7Zm9yKDtBcnJheS5pc0FycmF5KG4pOyluPW5bbF9dO3JldHVybiBufWZ1bmN0aW9uIFkwdChuKXtmb3IoO0FycmF5LmlzQXJyYXkobik7KXtpZih0eXBlb2YgbltWOF09PSJvYmplY3QiKXJldHVybiBuO249bltsX119cmV0dXJuIG51bGx9ZnVuY3Rpb24gU1Qobix0KXtyZXR1cm4gbmdEZXZNb2RlJiZBcih0LG4pLG5nRGV2TW9kZSYmWk8obixnaSwiRXhwZWN0ZWQgdG8gYmUgcGFzdCBIRUFERVJfT0ZGU0VUIiksWnModFtuXSl9ZnVuY3Rpb24geWcobix0KXtuZ0Rldk1vZGUmJnl5KG4sdCksbmdEZXZNb2RlJiZBcih0LG4uaW5kZXgpO2xldCBlPVpzKHRbbi5pbmRleF0pO3JldHVybiBuZ0Rldk1vZGUmJiFJYSh0W1BvXSkmJkNiKGUpLGV9ZnVuY3Rpb24gTEsobix0KXtuZ0Rldk1vZGUmJlJ3KHQsLTEsIndyb25nIGluZGV4IGZvciBUTm9kZSIpLG5nRGV2TW9kZSYmaHkodCxuLmRhdGEubGVuZ3RoLCJ3cm9uZyBpbmRleCBmb3IgVE5vZGUiKTtsZXQgZT1uLmRhdGFbdF07cmV0dXJuIG5nRGV2TW9kZSYmZSE9PW51bGwmJkc4KGUpLGV9ZnVuY3Rpb24gTncobix0KXtyZXR1cm4gbmdEZXZNb2RlJiZBcihuLHQpLG5bdF19ZnVuY3Rpb24gY18obix0KXtuZ0Rldk1vZGUmJkFyKHQsbik7bGV0IGU9dFtuXTtyZXR1cm4gVk8oZSk/ZTplW2xfXX1mdW5jdGlvbiBUdyhuKXtyZXR1cm4obltRb10mNCk9PT00fWZ1bmN0aW9uIFE4KG4pe3JldHVybihuW1FvXSYxMjgpPT09MTI4fWZ1bmN0aW9uIEcwdChuKXtyZXR1cm4gWkMoblt5cl0pfWZ1bmN0aW9uIGJ5KG4sdCl7cmV0dXJuIHQ9PW51bGw/bnVsbDoobmdEZXZNb2RlJiZBcihuLHQpLG5bdF0pfWZ1bmN0aW9uIEJLKG4pe25bY3ddPTB9ZnVuY3Rpb24gSzgobix0KXtuW2l2XSs9dDtsZXQgZT1uLG89blt5cl07Zm9yKDtvIT09bnVsbCYmKHQ9PT0xJiZlW2l2XT09PTF8fHQ9PT0tMSYmZVtpdl09PT0wKTspb1tpdl0rPXQsZT1vLG89b1t5cl19dmFyIHBvPXtsRnJhbWU6WksobnVsbCksYmluZGluZ3NFbmFibGVkOiEwLGlzSW5DaGVja05vQ2hhbmdlc01vZGU6ITF9O2Z1bmN0aW9uIFcwdCgpe3JldHVybiBwby5sRnJhbWUuZWxlbWVudERlcHRoQ291bnR9ZnVuY3Rpb24gcTB0KCl7cG8ubEZyYW1lLmVsZW1lbnREZXB0aENvdW50Kyt9ZnVuY3Rpb24gWjB0KCl7cG8ubEZyYW1lLmVsZW1lbnREZXB0aENvdW50LS19ZnVuY3Rpb24gVksoKXtyZXR1cm4gcG8uYmluZGluZ3NFbmFibGVkfWZ1bmN0aW9uIFgwdCgpe3BvLmJpbmRpbmdzRW5hYmxlZD0hMH1mdW5jdGlvbiBRMHQoKXtwby5iaW5kaW5nc0VuYWJsZWQ9ITF9ZnVuY3Rpb24gdmUoKXtyZXR1cm4gcG8ubEZyYW1lLmxWaWV3fWZ1bmN0aW9uIENvKCl7cmV0dXJuIHBvLmxGcmFtZS50Vmlld31mdW5jdGlvbiBPdChuKXtyZXR1cm4gcG8ubEZyYW1lLmNvbnRleHRMVmlldz1uLG5bVHJdfWZ1bmN0aW9uIFRzKCl7bGV0IG49aksoKTtmb3IoO24hPT1udWxsJiZuLnR5cGU9PT02NDspbj1uLnBhcmVudDtyZXR1cm4gbn1mdW5jdGlvbiBqSygpe3JldHVybiBwby5sRnJhbWUuY3VycmVudFROb2RlfWZ1bmN0aW9uIGZSKCl7bGV0IG49cG8ubEZyYW1lLHQ9bi5jdXJyZW50VE5vZGU7cmV0dXJuIG4uaXNQYXJlbnQ/dDp0LnBhcmVudH1mdW5jdGlvbiB2YihuLHQpe25nRGV2TW9kZSYmbiYmRXcobixwby5sRnJhbWUudFZpZXcpO2xldCBlPXBvLmxGcmFtZTtlLmN1cnJlbnRUTm9kZT1uLGUuaXNQYXJlbnQ9dH1mdW5jdGlvbiBKOCgpe3JldHVybiBwby5sRnJhbWUuaXNQYXJlbnR9ZnVuY3Rpb24gJDgoKXtwby5sRnJhbWUuaXNQYXJlbnQ9ITF9ZnVuY3Rpb24gSzB0KCl7cmV0dXJuIHBvLmxGcmFtZS5jb250ZXh0TFZpZXd9ZnVuY3Rpb24gQXcoKXtyZXR1cm4gcG8uaXNJbkNoZWNrTm9DaGFuZ2VzTW9kZX1mdW5jdGlvbiBLTihuKXtwby5pc0luQ2hlY2tOb0NoYW5nZXNNb2RlPW59ZnVuY3Rpb24gVW0oKXtsZXQgbj1wby5sRnJhbWUsdD1uLmJpbmRpbmdSb290SW5kZXg7cmV0dXJuIHQ9PT0tMSYmKHQ9bi5iaW5kaW5nUm9vdEluZGV4PW4udFZpZXcuYmluZGluZ1N0YXJ0SW5kZXgpLHR9ZnVuY3Rpb24gTGkoKXtyZXR1cm4gcG8ubEZyYW1lLmJpbmRpbmdJbmRleH1mdW5jdGlvbiBVSyhuKXtyZXR1cm4gcG8ubEZyYW1lLmJpbmRpbmdJbmRleD1ufWZ1bmN0aW9uIER3KCl7cmV0dXJuIHBvLmxGcmFtZS5iaW5kaW5nSW5kZXgrK31mdW5jdGlvbiBYTyhuKXtsZXQgdD1wby5sRnJhbWUsZT10LmJpbmRpbmdJbmRleDtyZXR1cm4gdC5iaW5kaW5nSW5kZXg9dC5iaW5kaW5nSW5kZXgrbixlfWZ1bmN0aW9uIEowdCgpe3JldHVybiBwby5sRnJhbWUuaW5JMThufWZ1bmN0aW9uIFlLKG4pe3BvLmxGcmFtZS5pbkkxOG49bn1mdW5jdGlvbiAkMHQobix0KXtsZXQgZT1wby5sRnJhbWU7ZS5iaW5kaW5nSW5kZXg9ZS5iaW5kaW5nUm9vdEluZGV4PW4sVEwodCl9ZnVuY3Rpb24gdEN0KCl7cmV0dXJuIHBvLmxGcmFtZS5jdXJyZW50RGlyZWN0aXZlSW5kZXh9ZnVuY3Rpb24gVEwobil7cG8ubEZyYW1lLmN1cnJlbnREaXJlY3RpdmVJbmRleD1ufWZ1bmN0aW9uIHRCKG4pe2xldCB0PXBvLmxGcmFtZS5jdXJyZW50RGlyZWN0aXZlSW5kZXg7cmV0dXJuIHQ9PT0tMT9udWxsOm5bdF19ZnVuY3Rpb24gR0soKXtyZXR1cm4gcG8ubEZyYW1lLmN1cnJlbnRRdWVyeUluZGV4fWZ1bmN0aW9uIGVCKG4pe3BvLmxGcmFtZS5jdXJyZW50UXVlcnlJbmRleD1ufWZ1bmN0aW9uIGVDdChuKXtsZXQgdD1uW1JuXTtyZXR1cm4gdC50eXBlPT09Mj8obmdEZXZNb2RlJiZ1bih0LmRlY2xUTm9kZSwiRW1iZWRkZWQgVE5vZGVzIHNob3VsZCBoYXZlIGRlY2xhcmF0aW9uIHBhcmVudHMuIiksdC5kZWNsVE5vZGUpOnQudHlwZT09PTE/bltZY106bnVsbH1mdW5jdGlvbiBXSyhuLHQsZSl7aWYobmdEZXZNb2RlJiZrSyhuKSxlJk5pLlNraXBTZWxmKXtuZ0Rldk1vZGUmJkV3KHQsbltSbl0pO2xldCBpPXQsYT1uO2Zvcig7bmdEZXZNb2RlJiZ1bihpLCJQYXJlbnQgVE5vZGUgc2hvdWxkIGJlIGRlZmluZWQiKSxpPWkucGFyZW50LGk9PT1udWxsJiYhKGUmTmkuSG9zdCk7KWlmKGk9ZUN0KGEpLGk9PT1udWxsfHwobmdEZXZNb2RlJiZ1bihhLCJQYXJlbnQgTFZpZXcgc2hvdWxkIGJlIGRlZmluZWQiKSxhPWFbQ3ldLGkudHlwZSYxMCkpYnJlYWs7aWYoaT09PW51bGwpcmV0dXJuITE7dD1pLG49YX1uZ0Rldk1vZGUmJnl5KHQsbik7bGV0IG89cG8ubEZyYW1lPXFLKCk7cmV0dXJuIG8uY3VycmVudFROb2RlPXQsby5sVmlldz1uLCEwfWZ1bmN0aW9uIG5CKG4pe25nRGV2TW9kZSYmcUMoblswXSxuWzFdLCI/Pz8/IiksbmdEZXZNb2RlJiZrSyhuKTtsZXQgdD1xSygpO25nRGV2TW9kZSYmKGlvKHQuaXNQYXJlbnQsITAsIkV4cGVjdGVkIGNsZWFuIExGcmFtZSIpLGlvKHQubFZpZXcsbnVsbCwiRXhwZWN0ZWQgY2xlYW4gTEZyYW1lIiksaW8odC50VmlldyxudWxsLCJFeHBlY3RlZCBjbGVhbiBMRnJhbWUiKSxpbyh0LnNlbGVjdGVkSW5kZXgsLTEsIkV4cGVjdGVkIGNsZWFuIExGcmFtZSIpLGlvKHQuZWxlbWVudERlcHRoQ291bnQsMCwiRXhwZWN0ZWQgY2xlYW4gTEZyYW1lIiksaW8odC5jdXJyZW50RGlyZWN0aXZlSW5kZXgsLTEsIkV4cGVjdGVkIGNsZWFuIExGcmFtZSIpLGlvKHQuY3VycmVudE5hbWVzcGFjZSxudWxsLCJFeHBlY3RlZCBjbGVhbiBMRnJhbWUiKSxpbyh0LmJpbmRpbmdSb290SW5kZXgsLTEsIkV4cGVjdGVkIGNsZWFuIExGcmFtZSIpLGlvKHQuY3VycmVudFF1ZXJ5SW5kZXgsMCwiRXhwZWN0ZWQgY2xlYW4gTEZyYW1lIikpO2xldCBlPW5bUm5dO3BvLmxGcmFtZT10LG5nRGV2TW9kZSYmZS5maXJzdENoaWxkJiZFdyhlLmZpcnN0Q2hpbGQsZSksdC5jdXJyZW50VE5vZGU9ZS5maXJzdENoaWxkLHQubFZpZXc9bix0LnRWaWV3PWUsdC5jb250ZXh0TFZpZXc9bix0LmJpbmRpbmdJbmRleD1lLmJpbmRpbmdTdGFydEluZGV4LHQuaW5JMThuPSExfWZ1bmN0aW9uIHFLKCl7bGV0IG49cG8ubEZyYW1lLHQ9bj09PW51bGw/bnVsbDpuLmNoaWxkO3JldHVybiB0PT09bnVsbD9aSyhuKTp0fWZ1bmN0aW9uIFpLKG4pe2xldCB0PXtjdXJyZW50VE5vZGU6bnVsbCxpc1BhcmVudDohMCxsVmlldzpudWxsLHRWaWV3Om51bGwsc2VsZWN0ZWRJbmRleDotMSxjb250ZXh0TFZpZXc6bnVsbCxlbGVtZW50RGVwdGhDb3VudDowLGN1cnJlbnROYW1lc3BhY2U6bnVsbCxjdXJyZW50RGlyZWN0aXZlSW5kZXg6LTEsYmluZGluZ1Jvb3RJbmRleDotMSxiaW5kaW5nSW5kZXg6LTEsY3VycmVudFF1ZXJ5SW5kZXg6MCxwYXJlbnQ6bixjaGlsZDpudWxsLGluSTE4bjohMX07cmV0dXJuIG4hPT1udWxsJiYobi5jaGlsZD10KSx0fWZ1bmN0aW9uIFhLKCl7bGV0IG49cG8ubEZyYW1lO3JldHVybiBwby5sRnJhbWU9bi5wYXJlbnQsbi5jdXJyZW50VE5vZGU9bnVsbCxuLmxWaWV3PW51bGwsbn12YXIgUUs9WEs7ZnVuY3Rpb24gb0IoKXtsZXQgbj1YSygpO24uaXNQYXJlbnQ9ITAsbi50Vmlldz1udWxsLG4uc2VsZWN0ZWRJbmRleD0tMSxuLmNvbnRleHRMVmlldz1udWxsLG4uZWxlbWVudERlcHRoQ291bnQ9MCxuLmN1cnJlbnREaXJlY3RpdmVJbmRleD0tMSxuLmN1cnJlbnROYW1lc3BhY2U9bnVsbCxuLmJpbmRpbmdSb290SW5kZXg9LTEsbi5iaW5kaW5nSW5kZXg9LTEsbi5jdXJyZW50UXVlcnlJbmRleD0wfWZ1bmN0aW9uIG5DdChuKXtyZXR1cm4ocG8ubEZyYW1lLmNvbnRleHRMVmlldz1vQ3Qobixwby5sRnJhbWUuY29udGV4dExWaWV3KSlbVHJdfWZ1bmN0aW9uIG9DdChuLHQpe2Zvcig7bj4wOyluZ0Rldk1vZGUmJnVuKHRbQ3ldLCJEZWNsYXJhdGlvbiB2aWV3IHNob3VsZCBiZSBkZWZpbmVkIGlmIG5lc3RpbmcgbGV2ZWwgaXMgZ3JlYXRlciB0aGFuIDAuIiksdD10W0N5XSxuLS07cmV0dXJuIHR9ZnVuY3Rpb24gWW0oKXtyZXR1cm4gcG8ubEZyYW1lLnNlbGVjdGVkSW5kZXh9ZnVuY3Rpb24gT3kobil7bmdEZXZNb2RlJiZuIT09LTEmJlpPKG4sZ2ksIkluZGV4IG11c3QgYmUgcGFzdCBIRUFERVJfT0ZGU0VUIChvciAtMSkuIiksbmdEZXZNb2RlJiZoeShuLHBvLmxGcmFtZS5sVmlldy5sZW5ndGgsIkNhbid0IHNldCBpbmRleCBwYXNzZWQgZW5kIG9mIExWaWV3IikscG8ubEZyYW1lLnNlbGVjdGVkSW5kZXg9bn1mdW5jdGlvbiBEcigpe2xldCBuPXBvLmxGcmFtZTtyZXR1cm4gTEsobi50VmlldyxuLnNlbGVjdGVkSW5kZXgpfWZ1bmN0aW9uIEtuKCl7cG8ubEZyYW1lLmN1cnJlbnROYW1lc3BhY2U9ekt9ZnVuY3Rpb24gaUN0KCl7cG8ubEZyYW1lLmN1cnJlbnROYW1lc3BhY2U9SEt9ZnVuY3Rpb24gR20oKXthQ3QoKX1mdW5jdGlvbiBhQ3QoKXtwby5sRnJhbWUuY3VycmVudE5hbWVzcGFjZT1udWxsfWZ1bmN0aW9uIHJDdCgpe3JldHVybiBwby5sRnJhbWUuY3VycmVudE5hbWVzcGFjZX1mdW5jdGlvbiBzQ3Qobix0LGUpe25nRGV2TW9kZSYmT2coZSk7bGV0e25nT25DaGFuZ2VzOm8sbmdPbkluaXQ6aSxuZ0RvQ2hlY2s6YX09dC50eXBlLnByb3RvdHlwZTtpZihvKXtsZXQgcj1BSyh0KTsoZS5wcmVPcmRlckhvb2tzfHwoZS5wcmVPcmRlckhvb2tzPVtdKSkucHVzaChuLHIpLChlLnByZU9yZGVyQ2hlY2tIb29rc3x8KGUucHJlT3JkZXJDaGVja0hvb2tzPVtdKSkucHVzaChuLHIpfWkmJihlLnByZU9yZGVySG9va3N8fChlLnByZU9yZGVySG9va3M9W10pKS5wdXNoKDAtbixpKSxhJiYoKGUucHJlT3JkZXJIb29rc3x8KGUucHJlT3JkZXJIb29rcz1bXSkpLnB1c2gobixhKSwoZS5wcmVPcmRlckNoZWNrSG9va3N8fChlLnByZU9yZGVyQ2hlY2tIb29rcz1bXSkpLnB1c2gobixhKSl9ZnVuY3Rpb24gUlQobix0KXtuZ0Rldk1vZGUmJk9nKG4pO2ZvcihsZXQgZT10LmRpcmVjdGl2ZVN0YXJ0LG89dC5kaXJlY3RpdmVFbmQ7ZTxvO2UrKyl7bGV0IGk9bi5kYXRhW2VdO25nRGV2TW9kZSYmdW4oaSwiRXhwZWN0aW5nIERpcmVjdGl2ZURlZiIpO2xldCBhPWkudHlwZS5wcm90b3R5cGUse25nQWZ0ZXJDb250ZW50SW5pdDpyLG5nQWZ0ZXJDb250ZW50Q2hlY2tlZDpzLG5nQWZ0ZXJWaWV3SW5pdDpsLG5nQWZ0ZXJWaWV3Q2hlY2tlZDpjLG5nT25EZXN0cm95Om19PWE7ciYmKG4uY29udGVudEhvb2tzfHwobi5jb250ZW50SG9va3M9W10pKS5wdXNoKC1lLHIpLHMmJigobi5jb250ZW50SG9va3N8fChuLmNvbnRlbnRIb29rcz1bXSkpLnB1c2goZSxzKSwobi5jb250ZW50Q2hlY2tIb29rc3x8KG4uY29udGVudENoZWNrSG9va3M9W10pKS5wdXNoKGUscykpLGwmJihuLnZpZXdIb29rc3x8KG4udmlld0hvb2tzPVtdKSkucHVzaCgtZSxsKSxjJiYoKG4udmlld0hvb2tzfHwobi52aWV3SG9va3M9W10pKS5wdXNoKGUsYyksKG4udmlld0NoZWNrSG9va3N8fChuLnZpZXdDaGVja0hvb2tzPVtdKSkucHVzaChlLGMpKSxtIT1udWxsJiYobi5kZXN0cm95SG9va3N8fChuLmRlc3Ryb3lIb29rcz1bXSkpLnB1c2goZSxtKX19ZnVuY3Rpb24gQk4obix0LGUpe0tLKG4sdCwzLGUpfWZ1bmN0aW9uIFZOKG4sdCxlLG8pe25nRGV2TW9kZSYmcUMoZSwzLCJJbml0IHByZS1vcmRlciBob29rcyBzaG91bGQgbm90IGJlIGNhbGxlZCBtb3JlIHRoYW4gb25jZSIpLChuW1FvXSYzKT09PWUmJktLKG4sdCxlLG8pfWZ1bmN0aW9uIEo3KG4sdCl7bmdEZXZNb2RlJiZxQyh0LDMsIkluaXQgaG9va3MgcGhhc2Ugc2hvdWxkIG5vdCBiZSBpbmNyZW1lbnRlZCBhZnRlciBhbGwgaW5pdCBob29rcyBoYXZlIGJlZW4gcnVuLiIpO2xldCBlPW5bUW9dOyhlJjMpPT09dCYmKGUmPTIwNDcsZSs9MSxuW1FvXT1lKX1mdW5jdGlvbiBLSyhuLHQsZSxvKXtuZ0Rldk1vZGUmJmlvKEF3KCksITEsIkhvb2tzIHNob3VsZCBuZXZlciBiZSBydW4gd2hlbiBpbiBjaGVjayBubyBjaGFuZ2VzIG1vZGUuIik7bGV0IGk9byE9PXZvaWQgMD9uW2N3XSY2NTUzNTowLGE9byE9bnVsbD9vOi0xLHI9dC5sZW5ndGgtMSxzPTA7Zm9yKGxldCBsPWk7bDxyO2wrKylpZih0eXBlb2YgdFtsKzFdPT0ibnVtYmVyIil7aWYocz10W2xdLG8hPW51bGwmJnM+PW8pYnJlYWt9ZWxzZSB0W2xdPDAmJihuW2N3XSs9NjU1MzYpLChzPGF8fGE9PS0xKSYmKGxDdChuLGUsdCxsKSxuW2N3XT0obltjd10mNDI5NDkwMTc2MCkrbCsyKSxsKyt9ZnVuY3Rpb24gbEN0KG4sdCxlLG8pe2xldCBpPWVbb108MCxhPWVbbysxXSxyPWk/LWVbb106ZVtvXSxzPW5bcl07aWYoaSl7aWYobltRb10+PjExPG5bY3ddPj4xNiYmKG5bUW9dJjMpPT09dCl7bltRb10rPTIwNDgsYV8oNCxzLGEpO3RyeXthLmNhbGwocyl9ZmluYWxseXthXyg1LHMsYSl9fX1lbHNle2FfKDQscyxhKTt0cnl7YS5jYWxsKHMpfWZpbmFsbHl7YV8oNSxzLGEpfX19dmFyIG15PS0xLGZ2PWNsYXNze2NvbnN0cnVjdG9yKHQsZSxvKXt0aGlzLmZhY3Rvcnk9dCx0aGlzLnJlc29sdmluZz0hMSxuZ0Rldk1vZGUmJnVuKHQsIkZhY3Rvcnkgbm90IHNwZWNpZmllZCIpLG5nRGV2TW9kZSYmaW8odHlwZW9mIHQsImZ1bmN0aW9uIiwiRXhwZWN0ZWQgZmFjdG9yeSBmdW5jdGlvbi4iKSx0aGlzLmNhblNlZVZpZXdQcm92aWRlcnM9ZSx0aGlzLmluamVjdEltcGw9b319O2Z1bmN0aW9uIGNDdChuKXtyZXR1cm4gbiBpbnN0YW5jZW9mIGZ2fXZhciBtQ3Q9MTtmdW5jdGlvbiBwUihuKXtsZXQgdD0iIjtyZXR1cm4gbiYxJiYodCs9InxUZXh0IiksbiYyJiYodCs9InxFbGVtZW50IiksbiY0JiYodCs9InxDb250YWluZXIiKSxuJjgmJih0Kz0ifEVsZW1lbnRDb250YWluZXIiKSxuJjE2JiYodCs9InxQcm9qZWN0aW9uIiksbiYzMiYmKHQrPSJ8SWN1Q29udGFpbmVyIiksbiY2NCYmKHQrPSJ8UGxhY2Vob2xkZXIiKSx0Lmxlbmd0aD4wP3Quc3Vic3RyaW5nKDEpOnR9dmFyIGlCPTE7ZnVuY3Rpb24gZkN0KG4pe3JldHVybihuLmZsYWdzJjE2KSE9PTB9ZnVuY3Rpb24gcEN0KG4pe3JldHVybihuLmZsYWdzJjMyKSE9PTB9ZnVuY3Rpb24gR2Mobix0LGUpe3VuKG4sInNob3VsZCBiZSBjYWxsZWQgd2l0aCBhIFROb2RlIiksKG4udHlwZSZ0KT09PTAmJmhhKGV8fGBFeHBlY3RlZCBbJHtwUih0KX1dIGJ1dCBnb3QgJHtwUihuLnR5cGUpfS5gKX1mdW5jdGlvbiBkQ3Qobil7bj09PTJ8fG49PT0xfHxuPT09NHx8bj09PTh8fG49PT0zMnx8bj09PTE2fHxuPT09NjR8fGhhKGBFeHBlY3RlZCBUTm9kZVR5cGUgdG8gaGF2ZSBvbmx5IGEgc2luZ2xlIHR5cGUgc2VsZWN0ZWQsIGJ1dCBnb3QgJHtwUihuKX0uYCl9ZnVuY3Rpb24gSk4obix0LGUpe2xldCBvPUlhKG4pLGk9MDtmb3IoO2k8ZS5sZW5ndGg7KXtsZXQgYT1lW2ldO2lmKHR5cGVvZiBhPT0ibnVtYmVyIil7aWYoYSE9PTApYnJlYWs7aSsrO2xldCByPWVbaSsrXSxzPWVbaSsrXSxsPWVbaSsrXTtuZ0Rldk1vZGUmJm5nRGV2TW9kZS5yZW5kZXJlclNldEF0dHJpYnV0ZSsrLG8/bi5zZXRBdHRyaWJ1dGUodCxzLGwscik6dC5zZXRBdHRyaWJ1dGVOUyhyLHMsbCl9ZWxzZXtsZXQgcj1hLHM9ZVsrK2ldO25nRGV2TW9kZSYmbmdEZXZNb2RlLnJlbmRlcmVyU2V0QXR0cmlidXRlKyssYUIocik/byYmbi5zZXRQcm9wZXJ0eSh0LHIscyk6bz9uLnNldEF0dHJpYnV0ZSh0LHIscyk6dC5zZXRBdHRyaWJ1dGUocixzKSxpKyt9fXJldHVybiBpfWZ1bmN0aW9uIEpLKG4pe3JldHVybiBuPT09M3x8bj09PTR8fG49PT02fWZ1bmN0aW9uIGFCKG4pe3JldHVybiBuLmNoYXJDb2RlQXQoMCk9PT02NH1mdW5jdGlvbiAkTihuLHQpe2lmKCEodD09PW51bGx8fHQubGVuZ3RoPT09MCkpaWYobj09PW51bGx8fG4ubGVuZ3RoPT09MCluPXQuc2xpY2UoKTtlbHNle2xldCBlPS0xO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKXtsZXQgaT10W29dO3R5cGVvZiBpPT0ibnVtYmVyIj9lPWk6ZT09PTB8fChlPT09LTF8fGU9PT0yP3VRKG4sZSxpLG51bGwsdFsrK29dKTp1UShuLGUsaSxudWxsLG51bGwpKX19cmV0dXJuIG59ZnVuY3Rpb24gdVEobix0LGUsbyxpKXtsZXQgYT0wLHI9bi5sZW5ndGg7aWYodD09PS0xKXI9LTE7ZWxzZSBmb3IoO2E8bi5sZW5ndGg7KXtsZXQgcz1uW2ErK107aWYodHlwZW9mIHM9PSJudW1iZXIiKXtpZihzPT09dCl7cj0tMTticmVha31lbHNlIGlmKHM+dCl7cj1hLTE7YnJlYWt9fX1mb3IoO2E8bi5sZW5ndGg7KXtsZXQgcz1uW2FdO2lmKHR5cGVvZiBzPT0ibnVtYmVyIilicmVhaztpZihzPT09ZSl7aWYobz09PW51bGwpe2khPT1udWxsJiYoblthKzFdPWkpO3JldHVybn1lbHNlIGlmKG89PT1uW2ErMV0pe25bYSsyXT1pO3JldHVybn19YSsrLG8hPT1udWxsJiZhKyssaSE9PW51bGwmJmErK31yIT09LTEmJihuLnNwbGljZShyLDAsdCksYT1yKzEpLG4uc3BsaWNlKGErKywwLGUpLG8hPT1udWxsJiZuLnNwbGljZShhKyssMCxvKSxpIT09bnVsbCYmbi5zcGxpY2UoYSsrLDAsaSl9ZnVuY3Rpb24gJEsobil7cmV0dXJuIG4hPT1teX1mdW5jdGlvbiBfdyhuKXtuZ0Rldk1vZGUmJldhKG4sIk51bWJlciBleHBlY3RlZCIpLG5nRGV2TW9kZSYmcUMobiwtMSwiTm90IGEgdmFsaWQgc3RhdGUuIik7bGV0IHQ9biYzMjc2NztyZXR1cm4gbmdEZXZNb2RlJiZSdyh0LGdpLCJQYXJlbnQgaW5qZWN0b3IgbXVzdCBiZSBwb2ludGluZyBwYXN0IEhFQURFUl9PRkZTRVQuIiksbiYzMjc2N31mdW5jdGlvbiBnQ3Qobil7cmV0dXJuIG4+PjE2fWZ1bmN0aW9uIEN3KG4sdCl7bGV0IGU9Z0N0KG4pLG89dDtmb3IoO2U+MDspbz1vW0N5XSxlLS07cmV0dXJuIG99dmFyIEFMPSEwO2Z1bmN0aW9uIHRUKG4pe2xldCB0PUFMO3JldHVybiBBTD1uLHR9dmFyIHVDdD0yNTYsdEo9dUN0LTEsZUo9NSxoQ3Q9MDtmdW5jdGlvbiBfQ3Qobix0LGUpe25nRGV2TW9kZSYmaW8odC5maXJzdENyZWF0ZVBhc3MsITAsImV4cGVjdGVkIGZpcnN0Q3JlYXRlUGFzcyB0byBiZSB0cnVlIik7bGV0IG87dHlwZW9mIGU9PSJzdHJpbmciP289ZS5jaGFyQ29kZUF0KDApfHwwOmUuaGFzT3duUHJvcGVydHkoblIpJiYobz1lW25SXSksbz09bnVsbCYmKG89ZVtuUl09aEN0KyspO2xldCBpPW8mdEosYT0xPDxpO3QuZGF0YVtuKyhpPj5lSildfD1hfWZ1bmN0aW9uIGRSKG4sdCl7bGV0IGU9ckIobix0KTtpZihlIT09LTEpcmV0dXJuIGU7bGV0IG89dFtSbl07by5maXJzdENyZWF0ZVBhc3MmJihuLmluamVjdG9ySW5kZXg9dC5sZW5ndGgsJDcoby5kYXRhLG4pLCQ3KHQsbnVsbCksJDcoby5ibHVlcHJpbnQsbnVsbCkpO2xldCBpPUVUKG4sdCksYT1uLmluamVjdG9ySW5kZXg7aWYoJEsoaSkpe2xldCByPV93KGkpLHM9Q3coaSx0KSxsPXNbUm5dLmRhdGE7Zm9yKGxldCBjPTA7Yzw4O2MrKyl0W2ErY109c1tyK2NdfGxbcitjXX1yZXR1cm4gdFthKzhdPWksYX1mdW5jdGlvbiAkNyhuLHQpe24ucHVzaCgwLDAsMCwwLDAsMCwwLDAsdCl9ZnVuY3Rpb24gckIobix0KXtyZXR1cm4gbi5pbmplY3RvckluZGV4PT09LTF8fG4ucGFyZW50JiZuLnBhcmVudC5pbmplY3RvckluZGV4PT09bi5pbmplY3RvckluZGV4fHx0W24uaW5qZWN0b3JJbmRleCs4XT09PW51bGw/LTE6KG5nRGV2TW9kZSYmQXIodCxuLmluamVjdG9ySW5kZXgpLG4uaW5qZWN0b3JJbmRleCl9ZnVuY3Rpb24gRVQobix0KXtpZihuLnBhcmVudCYmbi5wYXJlbnQuaW5qZWN0b3JJbmRleCE9PS0xKXJldHVybiBuLnBhcmVudC5pbmplY3RvckluZGV4O2xldCBlPTAsbz1udWxsLGk9dDtmb3IoO2khPT1udWxsOyl7bGV0IGE9aVtSbl0scj1hLnR5cGU7aWYocj09PTI/KG5nRGV2TW9kZSYmdW4oYS5kZWNsVE5vZGUsIkVtYmVkZGVkIFROb2RlcyBzaG91bGQgaGF2ZSBkZWNsYXJhdGlvbiBwYXJlbnRzLiIpLG89YS5kZWNsVE5vZGUpOnI9PT0xP289aVtZY106KG5nRGV2TW9kZSYmaW8oYS50eXBlLDAsIlJvb3QgdHlwZSBleHBlY3RlZCIpLG89bnVsbCksbz09PW51bGwpcmV0dXJuIG15O2lmKG5nRGV2TW9kZSYmbyYmeXkobyxpW0N5XSksZSsrLGk9aVtDeV0sby5pbmplY3RvckluZGV4IT09LTEpcmV0dXJuIG8uaW5qZWN0b3JJbmRleHxlPDwxNn1yZXR1cm4gbXl9ZnVuY3Rpb24gZVQobix0LGUpe19DdChuLHQsZSl9ZnVuY3Rpb24gQ0N0KG4sdCl7aWYobmdEZXZNb2RlJiZHYyhuLDE1KSxuZ0Rldk1vZGUmJnVuKG4sImV4cGVjdGluZyB0Tm9kZSIpLHQ9PT0iY2xhc3MiKXJldHVybiBuLmNsYXNzZXM7aWYodD09PSJzdHlsZSIpcmV0dXJuIG4uc3R5bGVzO2xldCBlPW4uYXR0cnM7aWYoZSl7bGV0IG89ZS5sZW5ndGgsaT0wO2Zvcig7aTxvOyl7bGV0IGE9ZVtpXTtpZihKSyhhKSlicmVhaztpZihhPT09MClpPWkrMjtlbHNlIGlmKHR5cGVvZiBhPT0ibnVtYmVyIilmb3IoaSsrO2k8byYmdHlwZW9mIGVbaV09PSJzdHJpbmciOylpKys7ZWxzZXtpZihhPT09dClyZXR1cm4gZVtpKzFdO2k9aSsyfX19cmV0dXJuIG51bGx9ZnVuY3Rpb24gbkoobix0LGUpe2lmKGUmTmkuT3B0aW9uYWwpcmV0dXJuIG47SDgodCwiTm9kZUluamVjdG9yIil9ZnVuY3Rpb24gaFEobix0LGUsbyl7aWYoZSZOaS5PcHRpb25hbCYmbz09PXZvaWQgMCYmKG89bnVsbCksKGUmKE5pLlNlbGZ8TmkuSG9zdCkpPT09MCl7bGV0IGk9blttUl0sYT1feSh2b2lkIDApO3RyeXtyZXR1cm4gaT9pLmdldCh0LG8sZSZOaS5PcHRpb25hbCk6dksodCxvLGUmTmkuT3B0aW9uYWwpfWZpbmFsbHl7X3koYSl9fXJldHVybiBuSihvLHQsZSl9ZnVuY3Rpb24gb0oobix0LGUsbz1OaS5EZWZhdWx0LGkpe2lmKG4hPT1udWxsKXtsZXQgYT1PQ3QoZSk7aWYodHlwZW9mIGE9PSJmdW5jdGlvbiIpe2lmKCFXSyh0LG4sbykpcmV0dXJuIG8mTmkuSG9zdD9uSihpLGUsbyk6aFEodCxlLG8saSk7dHJ5e2xldCByPWEobyk7aWYocj09bnVsbCYmIShvJk5pLk9wdGlvbmFsKSlIOChlKTtlbHNlIHJldHVybiByfWZpbmFsbHl7UUsoKX19ZWxzZSBpZih0eXBlb2YgYT09Im51bWJlciIpe2xldCByPW51bGwscz1yQihuLHQpLGw9bXksYz1vJk5pLkhvc3Q/dFtiZ11bWWNdOm51bGw7Zm9yKChzPT09LTF8fG8mTmkuU2tpcFNlbGYpJiYobD1zPT09LTE/RVQobix0KTp0W3MrOF0sbD09PW15fHwhQ1EobywhMSk/cz0tMToocj10W1JuXSxzPV93KGwpLHQ9Q3cobCx0KSkpO3MhPT0tMTspe25nRGV2TW9kZSYmWjgodCxzKTtsZXQgbT10W1JuXTtpZihuZ0Rldk1vZGUmJnl5KG0uZGF0YVtzKzhdLHQpLF9RKGEscyxtLmRhdGEpKXtsZXQgZj1iQ3Qocyx0LGUscixvLGMpO2lmKGYhPT1pSilyZXR1cm4gZn1sPXRbcys4XSxsIT09bXkmJkNRKG8sdFtSbl0uZGF0YVtzKzhdPT09YykmJl9RKGEscyx0KT8ocj1tLHM9X3cobCksdD1DdyhsLHQpKTpzPS0xfX19cmV0dXJuIGhRKHQsZSxvLGkpfXZhciBpSj17fTtmdW5jdGlvbiBNQ3QoKXtyZXR1cm4gbmV3IGZ5KFRzKCksdmUoKSl9ZnVuY3Rpb24gYkN0KG4sdCxlLG8saSxhKXtsZXQgcj10W1JuXSxzPXIuZGF0YVtuKzhdLGw9bz09bnVsbD9ZOChzKSYmQUw6byE9ciYmKHMudHlwZSYzKSE9PTAsYz1pJk5pLkhvc3QmJmE9PT1zLG09ak4ocyxyLGUsbCxjKTtyZXR1cm4gbSE9PW51bGw/U1IodCxyLG0scyk6aUp9ZnVuY3Rpb24gak4obix0LGUsbyxpKXtsZXQgYT1uLnByb3ZpZGVySW5kZXhlcyxyPXQuZGF0YSxzPWEmMTA0ODU3NSxsPW4uZGlyZWN0aXZlU3RhcnQsYz1uLmRpcmVjdGl2ZUVuZCxtPWE+PjIwLGY9bz9zOnMrbSxwPWk/cyttOmM7Zm9yKGxldCBnPWY7ZzxwO2crKyl7bGV0IF89cltnXTtpZihnPGwmJmU9PT1ffHxnPj1sJiZfLnR5cGU9PT1lKXJldHVybiBnfWlmKGkpe2xldCBnPXJbbF07aWYoZyYmV0MoZykmJmcudHlwZT09PWUpcmV0dXJuIGx9cmV0dXJuIG51bGx9ZnVuY3Rpb24gU1Iobix0LGUsbyl7bGV0IGk9bltlXSxhPXQuZGF0YTtpZihjQ3QoaSkpe2xldCByPWk7ci5yZXNvbHZpbmcmJndMKFZjKGFbZV0pKTtsZXQgcz10VChyLmNhblNlZVZpZXdQcm92aWRlcnMpO3IucmVzb2x2aW5nPSEwO2xldCBsPXIuaW5qZWN0SW1wbD9feShyLmluamVjdEltcGwpOm51bGwsYz1XSyhuLG8sTmkuRGVmYXVsdCk7bmdEZXZNb2RlJiZpbyhjLCEwLCJCZWNhdXNlIGZsYWdzIGRvIG5vdCBjb250YWluIGBTa2lwU2VsZicgd2UgZXhwZWN0IHRoaXMgdG8gYWx3YXlzIHN1Y2NlZWQuIik7dHJ5e2k9bltlXT1yLmZhY3Rvcnkodm9pZCAwLGEsbixvKSx0LmZpcnN0Q3JlYXRlUGFzcyYmZT49by5kaXJlY3RpdmVTdGFydCYmKG5nRGV2TW9kZSYmRDB0KGFbZV0pLHNDdChlLGFbZV0sdCkpfWZpbmFsbHl7bCE9PW51bGwmJl95KGwpLHRUKHMpLHIucmVzb2x2aW5nPSExLFFLKCl9fXJldHVybiBpfWZ1bmN0aW9uIE9DdChuKXtpZihuZ0Rldk1vZGUmJnVuKG4sInRva2VuIG11c3QgYmUgZGVmaW5lZCIpLHR5cGVvZiBuPT0ic3RyaW5nIilyZXR1cm4gbi5jaGFyQ29kZUF0KDApfHwwO2xldCB0PW4uaGFzT3duUHJvcGVydHkoblIpP25bblJdOnZvaWQgMDtyZXR1cm4gdHlwZW9mIHQ9PSJudW1iZXIiP3Q+PTA/dCZ0SjoobmdEZXZNb2RlJiZpbyh0LC0xLCJFeHBlY3RpbmcgdG8gZ2V0IFNwZWNpYWwgSW5qZWN0b3IgSWQiKSxNQ3QpOnR9ZnVuY3Rpb24gX1Eobix0LGUpe2xldCBvPTE8PG47cmV0dXJuISEoZVt0KyhuPj5lSildJm8pfWZ1bmN0aW9uIENRKG4sdCl7cmV0dXJuIShuJk5pLlNlbGYpJiYhKG4mTmkuSG9zdCYmdCl9dmFyIGZ5PWNsYXNze2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fdE5vZGU9dCx0aGlzLl9sVmlldz1lfWdldCh0LGUsbyl7cmV0dXJuIG9KKHRoaXMuX3ROb2RlLHRoaXMuX2xWaWV3LHQsbyxlKX19O2Z1bmN0aW9uIEZuKG4pe3JldHVybiBQeSgoKT0+e2xldCB0PW4ucHJvdG90eXBlLmNvbnN0cnVjdG9yLGU9dFtVT118fERMKHQpLG89T2JqZWN0LnByb3RvdHlwZSxpPU9iamVjdC5nZXRQcm90b3R5cGVPZihuLnByb3RvdHlwZSkuY29uc3RydWN0b3I7Zm9yKDtpJiZpIT09bzspe2xldCBhPWlbVU9dfHxETChpKTtpZihhJiZhIT09ZSlyZXR1cm4gYTtpPU9iamVjdC5nZXRQcm90b3R5cGVPZihpKX1yZXR1cm4gYT0+bmV3IGF9KX1mdW5jdGlvbiBETChuKXtyZXR1cm4gT0sobik/KCk9PntsZXQgdD1ETChVbyhuKSk7cmV0dXJuIHQmJnQoKX06bXYobil9ZnVuY3Rpb24gWmEobil7cmV0dXJuIENDdChUcygpLG4pfXZhciBtdz0iX19hbm5vdGF0aW9uc19fIixmdz0iX19wYXJhbWV0ZXJzX18iLHB3PSJfX3Byb3BfX21ldGFkYXRhX18iO2Z1bmN0aW9uIFJSKG4sdCxlLG8saSl7cmV0dXJuIFB5KCgpPT57bGV0IGE9c0IodCk7ZnVuY3Rpb24gciguLi5zKXtpZih0aGlzIGluc3RhbmNlb2YgcilyZXR1cm4gYS5jYWxsKHRoaXMsLi4ucyksdGhpcztsZXQgbD1uZXcgciguLi5zKTtyZXR1cm4gZnVuY3Rpb24obSl7cmV0dXJuIGkmJmkobSwuLi5zKSwobS5oYXNPd25Qcm9wZXJ0eShtdyk/bVttd106T2JqZWN0LmRlZmluZVByb3BlcnR5KG0sbXcse3ZhbHVlOltdfSlbbXddKS5wdXNoKGwpLG8mJm8obSksbX19cmV0dXJuIGUmJihyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSksci5wcm90b3R5cGUubmdNZXRhZGF0YU5hbWU9bixyLmFubm90YXRpb25DbHM9cixyfSl9ZnVuY3Rpb24gc0Iobil7cmV0dXJuIGZ1bmN0aW9uKC4uLmUpe2lmKG4pe2xldCBvPW4oLi4uZSk7Zm9yKGxldCBpIGluIG8pdGhpc1tpXT1vW2ldfX19ZnVuY3Rpb24gSXcobix0LGUpe3JldHVybiBQeSgoKT0+e2xldCBvPXNCKHQpO2Z1bmN0aW9uIGkoLi4uYSl7aWYodGhpcyBpbnN0YW5jZW9mIGkpcmV0dXJuIG8uYXBwbHkodGhpcyxhKSx0aGlzO2xldCByPW5ldyBpKC4uLmEpO3JldHVybiBzLmFubm90YXRpb249cixzO2Z1bmN0aW9uIHMobCxjLG0pe2xldCBmPWwuaGFzT3duUHJvcGVydHkoZncpP2xbZnddOk9iamVjdC5kZWZpbmVQcm9wZXJ0eShsLGZ3LHt2YWx1ZTpbXX0pW2Z3XTtmb3IoO2YubGVuZ3RoPD1tOylmLnB1c2gobnVsbCk7cmV0dXJuKGZbbV09ZlttXXx8W10pLnB1c2gociksbH19cmV0dXJuIGUmJihpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSksaS5wcm90b3R5cGUubmdNZXRhZGF0YU5hbWU9bixpLmFubm90YXRpb25DbHM9aSxpfSl9ZnVuY3Rpb24geHkobix0LGUsbyl7cmV0dXJuIFB5KCgpPT57bGV0IGk9c0IodCk7ZnVuY3Rpb24gYSguLi5yKXtpZih0aGlzIGluc3RhbmNlb2YgYSlyZXR1cm4gaS5hcHBseSh0aGlzLHIpLHRoaXM7bGV0IHM9bmV3IGEoLi4ucik7ZnVuY3Rpb24gbChjLG0pe2xldCBmPWMuY29uc3RydWN0b3IscD1mLmhhc093blByb3BlcnR5KHB3KT9mW3B3XTpPYmplY3QuZGVmaW5lUHJvcGVydHkoZixwdyx7dmFsdWU6e319KVtwd107cFttXT1wLmhhc093blByb3BlcnR5KG0pJiZwW21dfHxbXSxwW21dLnVuc2hpZnQocyksbyYmbyhjLG0sLi4ucil9cmV0dXJuIGx9cmV0dXJuIGUmJihhLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKSksYS5wcm90b3R5cGUubmdNZXRhZGF0YU5hbWU9bixhLmFubm90YXRpb25DbHM9YSxhfSl9ZnVuY3Rpb24gUEN0KCl7cmV0dXJuIEl3KCJBdHRyaWJ1dGUiLG49Pih7YXR0cmlidXRlTmFtZTpuLF9fTkdfRUxFTUVOVF9JRF9fOigpPT5aYShuKX0pKX12YXIgeUN0PVBDdCxsaT15Q3QoKTt2YXIgeXQ9Y2xhc3N7Y29uc3RydWN0b3IodCxlKXt0aGlzLl9kZXNjPXQsdGhpcy5uZ01ldGFkYXRhTmFtZT0iSW5qZWN0aW9uVG9rZW4iLHRoaXMuXHUwMjc1cHJvdj12b2lkIDAsdHlwZW9mIGU9PSJudW1iZXIiPygodHlwZW9mIG5nRGV2TW9kZT09InVuZGVmaW5lZCJ8fG5nRGV2TW9kZSkmJmh5KGUsMCwiT25seSBuZWdhdGl2ZSBudW1iZXJzIGFyZSBzdXBwb3J0ZWQgaGVyZSIpLHRoaXMuX19OR19FTEVNRU5UX0lEX189ZSk6ZSE9PXZvaWQgMCYmKHRoaXMuXHUwMjc1cHJvdj1QdCh7dG9rZW46dGhpcyxwcm92aWRlZEluOmUucHJvdmlkZWRJbnx8InJvb3QiLGZhY3Rvcnk6ZS5mYWN0b3J5fSkpfXRvU3RyaW5nKCl7cmV0dXJuYEluamVjdGlvblRva2VuICR7dGhpcy5fZGVzY31gfX07dmFyIFpzZT1uZXcgeXQoIkFuYWx5emVGb3JFbnRyeUNvbXBvbmVudHMiKSxhSj0hMCxNdz1jbGFzc3t9LHhDdD0obix0PXt9KT0+T2JqZWN0LmFzc2lnbih7c2VsZWN0b3I6bixmaXJzdDohMSxpc1ZpZXdRdWVyeTohMSxkZXNjZW5kYW50czohMSxlbWl0RGlzdGluY3RDaGFuZ2VzT25seTphSn0sdCksbG89eHkoIkNvbnRlbnRDaGlsZHJlbiIseEN0LE13KSx2Q3Q9KG4sdD17fSk9Pk9iamVjdC5hc3NpZ24oe3NlbGVjdG9yOm4sZmlyc3Q6ITAsaXNWaWV3UXVlcnk6ITEsZGVzY2VuZGFudHM6ITB9LHQpLEtvPXh5KCJDb250ZW50Q2hpbGQiLHZDdCxNdyksd0N0PShuLHQ9e30pPT5PYmplY3QuYXNzaWduKHtzZWxlY3RvcjpuLGZpcnN0OiExLGlzVmlld1F1ZXJ5OiEwLGRlc2NlbmRhbnRzOiEwLGVtaXREaXN0aW5jdENoYW5nZXNPbmx5OmFKfSx0KSxYc2U9eHkoIlZpZXdDaGlsZHJlbiIsd0N0LE13KSxTQ3Q9KG4sdCk9Pk9iamVjdC5hc3NpZ24oe3NlbGVjdG9yOm4sZmlyc3Q6ITAsaXNWaWV3UXVlcnk6ITAsZGVzY2VuZGFudHM6ITB9LHQpLEl0PXh5KCJWaWV3Q2hpbGQiLFNDdCxNdyk7dmFyIE1ROyhmdW5jdGlvbihuKXtuW24uRGlyZWN0aXZlPTBdPSJEaXJlY3RpdmUiLG5bbi5Db21wb25lbnQ9MV09IkNvbXBvbmVudCIsbltuLkluamVjdGFibGU9Ml09IkluamVjdGFibGUiLG5bbi5QaXBlPTNdPSJQaXBlIixuW24uTmdNb2R1bGU9NF09Ik5nTW9kdWxlIn0pKE1RfHwoTVE9e30pKTt2YXIgYlE7KGZ1bmN0aW9uKG4pe25bbi5FbXVsYXRlZD0wXT0iRW11bGF0ZWQiLG5bbi5Ob25lPTJdPSJOb25lIixuW24uU2hhZG93RG9tPTNdPSJTaGFkb3dEb20ifSkoYlF8fChiUT17fSkpO2Z1bmN0aW9uIHJfKG4pe2xldCB0PU1pLm5nO2lmKHQmJnQuXHUwMjc1Y29tcGlsZXJGYWNhZGUpcmV0dXJuIHQuXHUwMjc1Y29tcGlsZXJGYWNhZGU7aWYodHlwZW9mIG5nRGV2TW9kZT09InVuZGVmaW5lZCJ8fG5nRGV2TW9kZSl7Y29uc29sZS5lcnJvcihgSklUIGNvbXBpbGF0aW9uIGZhaWxlZCBmb3IgJHtuLmtpbmR9YCxuLnR5cGUpO2xldCBlPWBUaGUgJHtuLmtpbmR9ICcke24udHlwZS5uYW1lfScgbmVlZHMgdG8gYmUgY29tcGlsZWQgdXNpbmcgdGhlIEpJVCBjb21waWxlciwgYnV0ICdAYW5ndWxhci9jb21waWxlcicgaXMgbm90IGF2YWlsYWJsZS4KCmA7dGhyb3cgbi51c2FnZT09PTE/KGUrPWBUaGUgJHtuLmtpbmR9IGlzIHBhcnQgb2YgYSBsaWJyYXJ5IHRoYXQgaGFzIGJlZW4gcGFydGlhbGx5IGNvbXBpbGVkLgpgLGUrPWBIb3dldmVyLCB0aGUgQW5ndWxhciBMaW5rZXIgaGFzIG5vdCBwcm9jZXNzZWQgdGhlIGxpYnJhcnkgc3VjaCB0aGF0IEpJVCBjb21waWxhdGlvbiBpcyB1c2VkIGFzIGZhbGxiYWNrLgpgLGUrPWAKYCxlKz1gSWRlYWxseSwgdGhlIGxpYnJhcnkgaXMgcHJvY2Vzc2VkIHVzaW5nIHRoZSBBbmd1bGFyIExpbmtlciB0byBiZWNvbWUgZnVsbHkgQU9UIGNvbXBpbGVkLgpgKTplKz1gSklUIGNvbXBpbGF0aW9uIGlzIGRpc2NvdXJhZ2VkIGZvciBwcm9kdWN0aW9uIHVzZS1jYXNlcyEgQ29uc2lkZXIgdXNpbmcgQU9UIG1vZGUgaW5zdGVhZC4KYCxlKz1gQWx0ZXJuYXRpdmVseSwgdGhlIEpJVCBjb21waWxlciBzaG91bGQgYmUgbG9hZGVkIGJ5IGJvb3RzdHJhcHBpbmcgdXNpbmcgJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXItZHluYW1pYycgb3IgJ0Bhbmd1bGFyL3BsYXRmb3JtLXNlcnZlcicsCmAsZSs9YG9yIG1hbnVhbGx5IHByb3ZpZGUgdGhlIGNvbXBpbGVyIHdpdGggJ2ltcG9ydCAiQGFuZ3VsYXIvY29tcGlsZXIiOycgYmVmb3JlIGJvb3RzdHJhcHBpbmcuYCxuZXcgRXJyb3IoZSl9ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkpJVCBjb21waWxlciB1bmF2YWlsYWJsZSIpfXZhciBYQz1GdW5jdGlvbjtmdW5jdGlvbiBrTihuKXtyZXR1cm4gdHlwZW9mIG49PSJmdW5jdGlvbiJ9ZnVuY3Rpb24gUkN0KG4sdCxlKXtpZihuLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgbz0wO288bi5sZW5ndGg7bysrKXtsZXQgaT1uW29dLGE9dFtvXTtpZihlJiYoaT1lKGkpLGE9ZShhKSksYSE9PWkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gaV8obix0KXt0PT09dm9pZCAwJiYodD1uKTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKyl7bGV0IG89bltlXTtBcnJheS5pc0FycmF5KG8pPyh0PT09biYmKHQ9bi5zbGljZSgwLGUpKSxpXyhvLHQpKTp0IT09biYmdC5wdXNoKG8pfXJldHVybiB0fWZ1bmN0aW9uIF9iKG4sdCl7bi5mb3JFYWNoKGU9PkFycmF5LmlzQXJyYXkoZSk/X2IoZSx0KTp0KGUpKX1mdW5jdGlvbiBySihuLHQsZSl7dD49bi5sZW5ndGg/bi5wdXNoKGUpOm4uc3BsaWNlKHQsMCxlKX1mdW5jdGlvbiBuVChuLHQpe3JldHVybiB0Pj1uLmxlbmd0aC0xP24ucG9wKCk6bi5zcGxpY2UodCwxKVswXX1mdW5jdGlvbiBvUihuLHQpe2xldCBlPVtdO2ZvcihsZXQgbz0wO288bjtvKyspZS5wdXNoKHQpO3JldHVybiBlfWZ1bmN0aW9uIEVDdChuLHQsZSxvKXtuZ0Rldk1vZGUmJnlLKHQsbi5sZW5ndGgsIkNhbid0IGluc2VydCBwYXN0IGFycmF5IGVuZC4iKTtsZXQgaT1uLmxlbmd0aDtpZihpPT10KW4ucHVzaChlLG8pO2Vsc2UgaWYoaT09PTEpbi5wdXNoKG8sblswXSksblswXT1lO2Vsc2V7Zm9yKGktLSxuLnB1c2gobltpLTFdLG5baV0pO2k+dDspe2xldCBhPWktMjtuW2ldPW5bYV0saS0tfW5bdF09ZSxuW3QrMV09b319ZnVuY3Rpb24geGcobix0LGUpe2xldCBvPUVSKG4sdCk7cmV0dXJuIG8+PTA/bltvfDFdPWU6KG89fm8sRUN0KG4sbyx0LGUpKSxvfWZ1bmN0aW9uIHRMKG4sdCl7bGV0IGU9RVIobix0KTtpZihlPj0wKXJldHVybiBuW2V8MV19ZnVuY3Rpb24gRVIobix0KXtyZXR1cm4ga0N0KG4sdCwxKX1mdW5jdGlvbiBrQ3Qobix0LGUpe25nRGV2TW9kZSYmaW8oQXJyYXkuaXNBcnJheShuKSwhMCwiRXhwZWN0aW5nIGFuIGFycmF5Iik7bGV0IG89MCxpPW4ubGVuZ3RoPj5lO2Zvcig7aSE9PW87KXtsZXQgYT1vKyhpLW8+PjEpLHI9blthPDxlXTtpZih0PT09cilyZXR1cm4gYTw8ZTtyPnQ/aT1hOm89YSsxfXJldHVybn4oaTw8ZSl9dmFyIE5DdD0vXmZ1bmN0aW9uXHMrXFMrXChcKVxzKntbXHNcU10rXC5hcHBseVwodGhpcyxccyooYXJndW1lbnRzfCg/OlteKCldK1woXFtcXSwpP1teKCldK1woYXJndW1lbnRzXCkpXCkvLFRDdD0vXmNsYXNzXHMrW0EtWmEtelxkJF9dKlxzKmV4dGVuZHNccytbXntdK3svLEFDdD0vXmNsYXNzXHMrW0EtWmEtelxkJF9dKlxzKmV4dGVuZHNccytbXntdK3tbXHNcU10qY29uc3RydWN0b3JccypcKC8sREN0PS9eY2xhc3NccytbQS1aYS16XGQkX10qXHMqZXh0ZW5kc1xzK1tee10re1tcc1xTXSpjb25zdHJ1Y3RvclxzKlwoXClccyp7XHMqc3VwZXJcKFwuXC5cLmFyZ3VtZW50c1wpLztmdW5jdGlvbiBJQ3Qobil7cmV0dXJuIE5DdC50ZXN0KG4pfHxEQ3QudGVzdChuKXx8VEN0LnRlc3QobikmJiFBQ3QudGVzdChuKX12YXIgb1Q9Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5fcmVmbGVjdD10fHxNaS5SZWZsZWN0fWlzUmVmbGVjdGlvbkVuYWJsZWQoKXtyZXR1cm4hMH1mYWN0b3J5KHQpe3JldHVybiguLi5lKT0+bmV3IHQoLi4uZSl9X3ppcFR5cGVzQW5kQW5ub3RhdGlvbnModCxlKXtsZXQgbzt0eXBlb2YgdD09InVuZGVmaW5lZCI/bz1vUihlLmxlbmd0aCk6bz1vUih0Lmxlbmd0aCk7Zm9yKGxldCBpPTA7aTxvLmxlbmd0aDtpKyspdHlwZW9mIHQ9PSJ1bmRlZmluZWQiP29baV09W106dFtpXSYmdFtpXSE9T2JqZWN0P29baV09W3RbaV1dOm9baV09W10sZSYmZVtpXSE9bnVsbCYmKG9baV09b1tpXS5jb25jYXQoZVtpXSkpO3JldHVybiBvfV9vd25QYXJhbWV0ZXJzKHQsZSl7bGV0IG89dC50b1N0cmluZygpO2lmKElDdChvKSlyZXR1cm4gbnVsbDtpZih0LnBhcmFtZXRlcnMmJnQucGFyYW1ldGVycyE9PWUucGFyYW1ldGVycylyZXR1cm4gdC5wYXJhbWV0ZXJzO2xldCBpPXQuY3RvclBhcmFtZXRlcnM7aWYoaSYmaSE9PWUuY3RvclBhcmFtZXRlcnMpe2xldCBzPXR5cGVvZiBpPT0iZnVuY3Rpb24iP2koKTppLGw9cy5tYXAobT0+bSYmbS50eXBlKSxjPXMubWFwKG09Pm0mJmVMKG0uZGVjb3JhdG9ycykpO3JldHVybiB0aGlzLl96aXBUeXBlc0FuZEFubm90YXRpb25zKGwsYyl9bGV0IGE9dC5oYXNPd25Qcm9wZXJ0eShmdykmJnRbZnddLHI9dGhpcy5fcmVmbGVjdCYmdGhpcy5fcmVmbGVjdC5nZXRPd25NZXRhZGF0YSYmdGhpcy5fcmVmbGVjdC5nZXRPd25NZXRhZGF0YSgiZGVzaWduOnBhcmFtdHlwZXMiLHQpO3JldHVybiByfHxhP3RoaXMuX3ppcFR5cGVzQW5kQW5ub3RhdGlvbnMocixhKTpvUih0Lmxlbmd0aCl9cGFyYW1ldGVycyh0KXtpZigha04odCkpcmV0dXJuW107bGV0IGU9Tk4odCksbz10aGlzLl9vd25QYXJhbWV0ZXJzKHQsZSk7cmV0dXJuIW8mJmUhPT1PYmplY3QmJihvPXRoaXMucGFyYW1ldGVycyhlKSksb3x8W119X293bkFubm90YXRpb25zKHQsZSl7aWYodC5hbm5vdGF0aW9ucyYmdC5hbm5vdGF0aW9ucyE9PWUuYW5ub3RhdGlvbnMpe2xldCBvPXQuYW5ub3RhdGlvbnM7cmV0dXJuIHR5cGVvZiBvPT0iZnVuY3Rpb24iJiZvLmFubm90YXRpb25zJiYobz1vLmFubm90YXRpb25zKSxvfXJldHVybiB0LmRlY29yYXRvcnMmJnQuZGVjb3JhdG9ycyE9PWUuZGVjb3JhdG9ycz9lTCh0LmRlY29yYXRvcnMpOnQuaGFzT3duUHJvcGVydHkobXcpP3RbbXddOm51bGx9YW5ub3RhdGlvbnModCl7aWYoIWtOKHQpKXJldHVybltdO2xldCBlPU5OKHQpLG89dGhpcy5fb3duQW5ub3RhdGlvbnModCxlKXx8W107cmV0dXJuKGUhPT1PYmplY3Q/dGhpcy5hbm5vdGF0aW9ucyhlKTpbXSkuY29uY2F0KG8pfV9vd25Qcm9wTWV0YWRhdGEodCxlKXtpZih0LnByb3BNZXRhZGF0YSYmdC5wcm9wTWV0YWRhdGEhPT1lLnByb3BNZXRhZGF0YSl7bGV0IG89dC5wcm9wTWV0YWRhdGE7cmV0dXJuIHR5cGVvZiBvPT0iZnVuY3Rpb24iJiZvLnByb3BNZXRhZGF0YSYmKG89by5wcm9wTWV0YWRhdGEpLG99aWYodC5wcm9wRGVjb3JhdG9ycyYmdC5wcm9wRGVjb3JhdG9ycyE9PWUucHJvcERlY29yYXRvcnMpe2xldCBvPXQucHJvcERlY29yYXRvcnMsaT17fTtyZXR1cm4gT2JqZWN0LmtleXMobykuZm9yRWFjaChhPT57aVthXT1lTChvW2FdKX0pLGl9cmV0dXJuIHQuaGFzT3duUHJvcGVydHkocHcpP3RbcHddOm51bGx9cHJvcE1ldGFkYXRhKHQpe2lmKCFrTih0KSlyZXR1cm57fTtsZXQgZT1OTih0KSxvPXt9O2lmKGUhPT1PYmplY3Qpe2xldCBhPXRoaXMucHJvcE1ldGFkYXRhKGUpO09iamVjdC5rZXlzKGEpLmZvckVhY2gocj0+e29bcl09YVtyXX0pfWxldCBpPXRoaXMuX293blByb3BNZXRhZGF0YSh0LGUpO3JldHVybiBpJiZPYmplY3Qua2V5cyhpKS5mb3JFYWNoKGE9PntsZXQgcj1bXTtvLmhhc093blByb3BlcnR5KGEpJiZyLnB1c2goLi4ub1thXSksci5wdXNoKC4uLmlbYV0pLG9bYV09cn0pLG99b3duUHJvcE1ldGFkYXRhKHQpe3JldHVybiBrTih0KT90aGlzLl9vd25Qcm9wTWV0YWRhdGEodCxOTih0KSl8fHt9Ont9fWhhc0xpZmVjeWNsZUhvb2sodCxlKXtyZXR1cm4gdCBpbnN0YW5jZW9mIFhDJiZlIGluIHQucHJvdG90eXBlfWd1YXJkcyh0KXtyZXR1cm57fX1nZXR0ZXIodCl7cmV0dXJuIG5ldyBGdW5jdGlvbigibyIsInJldHVybiBvLiIrdCsiOyIpfXNldHRlcih0KXtyZXR1cm4gbmV3IEZ1bmN0aW9uKCJvIiwidiIsInJldHVybiBvLiIrdCsiID0gdjsiKX1tZXRob2QodCl7bGV0IGU9YGlmICghby4ke3R9KSB0aHJvdyBuZXcgRXJyb3IoJyIke3R9IiBpcyB1bmRlZmluZWQnKTsKICAgICAgICByZXR1cm4gby4ke3R9LmFwcGx5KG8sIGFyZ3MpO2A7cmV0dXJuIG5ldyBGdW5jdGlvbigibyIsImFyZ3MiLGUpfWltcG9ydFVyaSh0KXtyZXR1cm4gdHlwZW9mIHQ9PSJvYmplY3QiJiZ0LmZpbGVQYXRoP3QuZmlsZVBhdGg6YC4vJHtPbyh0KX1gfXJlc291cmNlVXJpKHQpe3JldHVybmAuLyR7T28odCl9YH1yZXNvbHZlSWRlbnRpZmllcih0LGUsbyxpKXtyZXR1cm4gaX1yZXNvbHZlRW51bSh0LGUpe3JldHVybiB0W2VdfX07ZnVuY3Rpb24gZUwobil7cmV0dXJuIG4/bi5tYXAodD0+e2xldCBvPXQudHlwZS5hbm5vdGF0aW9uQ2xzLGk9dC5hcmdzP3QuYXJnczpbXTtyZXR1cm4gbmV3IG8oLi4uaSl9KTpbXX1mdW5jdGlvbiBOTihuKXtsZXQgdD1uLnByb3RvdHlwZT9PYmplY3QuZ2V0UHJvdG90eXBlT2Yobi5wcm90b3R5cGUpOm51bGw7cmV0dXJuKHQ/dC5jb25zdHJ1Y3RvcjpudWxsKXx8T2JqZWN0fXZhciB6Q3Q9e30scHk9ekN0LElMPSJfX05HX0RJX0ZMQUdfXyIsaVQ9Im5nVGVtcFRva2VuUGF0aCIsSEN0PSJuZ1Rva2VuUGF0aCIsRkN0PS9cbi9nbSxMQ3Q9Ilx1MDI3NSIsT1E9Il9fc291cmNlIixCQ3Q9RmksVkN0PUZpKHtwcm92aWRlOlN0cmluZyx1c2VWYWx1ZTpCQ3R9KSxpUjtmdW5jdGlvbiBQUShuKXtsZXQgdD1pUjtyZXR1cm4gaVI9bix0fWZ1bmN0aW9uIGpDdChuLHQ9TmkuRGVmYXVsdCl7aWYoaVI9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJpbmplY3QoKSBtdXN0IGJlIGNhbGxlZCBmcm9tIGFuIGluamVjdGlvbiBjb250ZXh0Iik7cmV0dXJuIGlSPT09bnVsbD92SyhuLHZvaWQgMCx0KTppUi5nZXQobix0Jk5pLk9wdGlvbmFsP251bGw6dm9pZCAwLHQpfWZ1bmN0aW9uIEkobix0PU5pLkRlZmF1bHQpe3JldHVybihfMHQoKXx8akN0KShVbyhuKSx0KX1mdW5jdGlvbiBzSihuKXtsZXQgdD1uZ0Rldk1vZGU/YFRoaXMgY29uc3RydWN0b3IgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBBbmd1bGFyIERlcGVuZGVuY3kgSW5qZWN0aW9uIGJlY2F1c2UgaXRzIGRlcGVuZGVuY3kgYXQgaW5kZXggJHtufSBvZiB0aGUgcGFyYW1ldGVyIGxpc3QgaXMgaW52YWxpZC4KVGhpcyBjYW4gaGFwcGVuIGlmIHRoZSBkZXBlbmRlbmN5IHR5cGUgaXMgYSBwcmltaXRpdmUgbGlrZSBhIHN0cmluZyBvciBpZiBhbiBhbmNlc3RvciBvZiB0aGlzIGNsYXNzIGlzIG1pc3NpbmcgYW4gQW5ndWxhciBkZWNvcmF0b3IuCgpQbGVhc2UgY2hlY2sgdGhhdCAxKSB0aGUgdHlwZSBmb3IgdGhlIHBhcmFtZXRlciBhdCBpbmRleCAke259IGlzIGNvcnJlY3QgYW5kIDIpIHRoZSBjb3JyZWN0IEFuZ3VsYXIgZGVjb3JhdG9ycyBhcmUgZGVmaW5lZCBmb3IgdGhpcyBjbGFzcyBhbmQgaXRzIGFuY2VzdG9ycy5gOiJpbnZhbGlkIjt0aHJvdyBuZXcgRXJyb3IodCl9dmFyIHp3PUk7ZnVuY3Rpb24gekwobil7bGV0IHQ9W107Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspe2xldCBvPVVvKG5bZV0pO2lmKEFycmF5LmlzQXJyYXkobykpe2lmKG8ubGVuZ3RoPT09MCl0aHJvdyBuZXcgRXJyb3IoIkFyZ3VtZW50cyBhcnJheSBtdXN0IGhhdmUgYXJndW1lbnRzLiIpO2xldCBpLGE9TmkuRGVmYXVsdDtmb3IobGV0IHI9MDtyPG8ubGVuZ3RoO3IrKyl7bGV0IHM9b1tyXSxsPVVDdChzKTt0eXBlb2YgbD09Im51bWJlciI/bD09PS0xP2k9cy50b2tlbjphfD1sOmk9c310LnB1c2goSShpLGEpKX1lbHNlIHQucHVzaChJKG8pKX1yZXR1cm4gdH1mdW5jdGlvbiBrUihuLHQpe3JldHVybiBuW0lMXT10LG4ucHJvdG90eXBlW0lMXT10LG59ZnVuY3Rpb24gVUN0KG4pe3JldHVybiBuW0lMXX1mdW5jdGlvbiBZQ3Qobix0LGUsbyl7bGV0IGk9bltpVF07dGhyb3cgdFtPUV0mJmkudW5zaGlmdCh0W09RXSksbi5tZXNzYWdlPUdDdChgCmArbi5tZXNzYWdlLGksZSxvKSxuW0hDdF09aSxuW2lUXT1udWxsLG59ZnVuY3Rpb24gR0N0KG4sdCxlLG89bnVsbCl7bj1uJiZuLmNoYXJBdCgwKT09PWAKYCYmbi5jaGFyQXQoMSk9PUxDdD9uLnN1YnN0cigyKTpuO2xldCBpPU9vKHQpO2lmKEFycmF5LmlzQXJyYXkodCkpaT10Lm1hcChPbykuam9pbigiIC0+ICIpO2Vsc2UgaWYodHlwZW9mIHQ9PSJvYmplY3QiKXtsZXQgYT1bXTtmb3IobGV0IHIgaW4gdClpZih0Lmhhc093blByb3BlcnR5KHIpKXtsZXQgcz10W3JdO2EucHVzaChyKyI6IisodHlwZW9mIHM9PSJzdHJpbmciP0pTT04uc3RyaW5naWZ5KHMpOk9vKHMpKSl9aT1geyR7YS5qb2luKCIsICIpfX1gfXJldHVybmAke2V9JHtvPyIoIitvKyIpIjoiIn1bJHtpfV06ICR7bi5yZXBsYWNlKEZDdCxgCiAgYCl9YH12YXIgV0N0PW49Pih7dG9rZW46bn0pLE49a1IoSXcoIkluamVjdCIsV0N0KSwtMSksSD1rUihJdygiT3B0aW9uYWwiKSw4KSxJbj1rUihJdygiU2VsZiIpLDIpLFlvPWtSKEl3KCJTa2lwU2VsZiIpLDQpLHphPWtSKEl3KCJIb3N0IiksMSk7dmFyIHlRPW51bGw7ZnVuY3Rpb24gbEIoKXtyZXR1cm4geVE9eVF8fG5ldyBvVH1mdW5jdGlvbiBrVChuKXtyZXR1cm4gbEoobEIoKS5wYXJhbWV0ZXJzKG4pKX1mdW5jdGlvbiBsSihuKXtyZXR1cm4gbi5tYXAodD0+cUN0KHQpKX1mdW5jdGlvbiBxQ3Qobil7bGV0IHQ9e3Rva2VuOm51bGwsYXR0cmlidXRlOm51bGwsaG9zdDohMSxvcHRpb25hbDohMSxzZWxmOiExLHNraXBTZWxmOiExfTtpZihBcnJheS5pc0FycmF5KG4pJiZuLmxlbmd0aD4wKWZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSsrKXtsZXQgbz1uW2VdO2lmKG89PT12b2lkIDApY29udGludWU7bGV0IGk9T2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO2lmKG8gaW5zdGFuY2VvZiBIfHxpLm5nTWV0YWRhdGFOYW1lPT09Ik9wdGlvbmFsIil0Lm9wdGlvbmFsPSEwO2Vsc2UgaWYobyBpbnN0YW5jZW9mIFlvfHxpLm5nTWV0YWRhdGFOYW1lPT09IlNraXBTZWxmIil0LnNraXBTZWxmPSEwO2Vsc2UgaWYobyBpbnN0YW5jZW9mIElufHxpLm5nTWV0YWRhdGFOYW1lPT09IlNlbGYiKXQuc2VsZj0hMDtlbHNlIGlmKG8gaW5zdGFuY2VvZiB6YXx8aS5uZ01ldGFkYXRhTmFtZT09PSJIb3N0Iil0Lmhvc3Q9ITA7ZWxzZSBpZihvIGluc3RhbmNlb2YgTil0LnRva2VuPW8udG9rZW47ZWxzZSBpZihvIGluc3RhbmNlb2YgbGkpe2lmKG8uYXR0cmlidXRlTmFtZT09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIkF0dHJpYnV0ZSBuYW1lIG11c3QgYmUgZGVmaW5lZC4iKTt0LmF0dHJpYnV0ZT1vLmF0dHJpYnV0ZU5hbWV9ZWxzZSB0LnRva2VuPW99ZWxzZSBuPT09dm9pZCAwfHxBcnJheS5pc0FycmF5KG4pJiZuLmxlbmd0aD09PTA/dC50b2tlbj1udWxsOnQudG9rZW49bjtyZXR1cm4gdH1mdW5jdGlvbiBaQ3Qobil7bGV0IHQ9W10sZT1uZXcgTWFwO2Z1bmN0aW9uIG8oaSl7bGV0IGE9ZS5nZXQoaSk7aWYoIWEpe2xldCByPW4oaSk7ZS5zZXQoaSxhPXIudGhlbihKQ3QpKX1yZXR1cm4gYX1yZXR1cm4gZ1IuZm9yRWFjaCgoaSxhKT0+e2xldCByPVtdO2kudGVtcGxhdGVVcmwmJnIucHVzaChvKGkudGVtcGxhdGVVcmwpLnRoZW4oZj0+e2kudGVtcGxhdGU9Zn0pKTtsZXQgcz1pLnN0eWxlVXJscyxsPWkuc3R5bGVzfHwoaS5zdHlsZXM9W10pLGM9aS5zdHlsZXMubGVuZ3RoO3MmJnMuZm9yRWFjaCgoZixwKT0+e2wucHVzaCgiIiksci5wdXNoKG8oZikudGhlbihnPT57bFtjK3BdPWcscy5zcGxpY2Uocy5pbmRleE9mKGYpLDEpLHMubGVuZ3RoPT0wJiYoaS5zdHlsZVVybHM9dm9pZCAwKX0pKX0pO2xldCBtPVByb21pc2UuYWxsKHIpLnRoZW4oKCk9PiRDdChhKSk7dC5wdXNoKG0pfSksUUN0KCksUHJvbWlzZS5hbGwodCkudGhlbigoKT0+e30pfXZhciBnUj1uZXcgTWFwLGNKPW5ldyBTZXQ7ZnVuY3Rpb24gWEN0KG4sdCl7bUoodCkmJihnUi5zZXQobix0KSxjSi5hZGQobikpfWZ1bmN0aW9uIG1KKG4pe3JldHVybiEhKG4udGVtcGxhdGVVcmwmJiFuLmhhc093blByb3BlcnR5KCJ0ZW1wbGF0ZSIpfHxuLnN0eWxlVXJscyYmbi5zdHlsZVVybHMubGVuZ3RoKX1mdW5jdGlvbiBRQ3QoKXtsZXQgbj1nUjtyZXR1cm4gZ1I9bmV3IE1hcCxufWZ1bmN0aW9uIEtDdCgpe3JldHVybiBnUi5zaXplPT09MH1mdW5jdGlvbiBKQ3Qobil7cmV0dXJuIHR5cGVvZiBuPT0ic3RyaW5nIj9uOm4udGV4dCgpfWZ1bmN0aW9uICRDdChuKXtjSi5kZWxldGUobil9dmFyIFROO2Z1bmN0aW9uIGN